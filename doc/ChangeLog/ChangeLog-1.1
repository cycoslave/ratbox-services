leeh        2007/05/07 14:41:59 UTC	(20070507_0-23924)
  Log:
  - merge from trunk
    - r23922, memleak fix in free_cachefile()
    - r23916, As in ircd-ratbox 2.2 r23037, search the shortest list (user's
      or channel's) to look up a channel membership. This fixes abysmal
      performance on burst with clients which are in very many channels.
    - r23902, modebuild: Use TMODE instead of MODE if the uplink supports TS6.
      The TS6 spec wants this and it can avoid certain desyncs involving
      multiple server restarts.
    - r23821, database uses REALLEN for server jupes, we should too
    - r23817, userserv::userinfo should have minpara of 1
  

  Modified:
	rserv/branches/1_1/src/cache.c (File Modified) 
	rserv/branches/1_1/src/channel.c (File Modified) 
	rserv/branches/1_1/src/modebuild.c (File Modified) 
	rserv/branches/1_1/src/s_jupeserv.c (File Modified) 
	rserv/branches/1_1/src/s_userserv.c (File Modified) 


leeh        2007/04/03 18:56:09 UTC	(20070403_0-23803)
  Log:
  - add documentation on banning email domains
  

  Modified:
	rserv/branches/1_1/doc/banning_email_domains.txt (File Added) 


leeh        2007/04/01 16:51:52 UTC	(20070401_0-23779)
  Log:
  - backport from trunk
    - r23773, If chanserv::addban kicks out the last user, enable
      inhabit first so the channel is not destroyed (which
      would cause a crash).
    - r23775, Don't lower TS, desynching services, when joining
      a channel for inhabit.
  

  Modified:
	rserv/branches/1_1/src/s_chanserv.c (File Modified) 


leeh        2007/03/05 18:41:38 UTC	(20070305_0-23696)
  Log:
  - backport r23694
    - via ongeboren, chanserv::delowner was using ureg_p rather than chreg_p
      in a sql statement
  

  Modified:
	rserv/branches/1_1/src/s_chanserv.c (File Modified) 


leeh        2007/03/01 19:54:48 UTC	(20070301_0-23686)
  Log:
  - dont allow userserv::resetpass and userserv::activate when a username is
    suspended
  

  Modified:
	rserv/branches/1_1/src/s_userserv.c (File Modified) 


leeh        2007/02/26 18:41:30 UTC	(20070226_0-23660)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.1
  

  Modified:
	rserv/branches/1_1/RELEASE_NOTES (File Modified) 
	rserv/branches/1_1/include/config.h (File Modified) 


leeh        2007/02/13 22:16:50 UTC	(20070213_1-23620)
  Log:
  - to avoid license conflicts with the code taken from ircd, rserv is now
    under the GPL.
  

  Modified:
	rserv/branches/1_1/LICENSE (File Modified) 


leeh        2007/02/13 22:14:56 UTC	(20070213_0-23618)
  Log:
  - extend some copyrights
  

  Modified:
	rserv/branches/1_1/src/rserv.c (File Modified) 
	rserv/branches/1_1/src/s_jupeserv.c (File Modified) 
	rserv/branches/1_1/src/s_nickserv.c (File Modified) 
	rserv/branches/1_1/src/s_userserv.c (File Modified) 
	rserv/branches/1_1/src/s_watchserv.c (File Modified) 
	rserv/branches/1_1/src/service.c (File Modified) 
	rserv/branches/1_1/src/ucommand.c (File Modified) 


leeh        2007/02/01 20:40:24 UTC	(20070201_2-23589)
  Log:
  - declare dlink_node *ptr
  

  Modified:
	rserv/branches/1_1/src/s_jupeserv.c (File Modified) 


leeh        2007/02/01 20:15:16 UTC	(20070201_1-23583)
  Log:
  - need to add users host into the list too..
  

  Modified:
	rserv/branches/1_1/src/s_jupeserv.c (File Modified) 


leeh        2007/02/01 20:13:41 UTC	(20070201_0-23581)
  Log:
  - jupeserv::callunjupe needs to only allow a given server one vote
  

  Modified:
	rserv/branches/1_1/src/s_jupeserv.c (File Modified) 


leeh        2007/01/27 15:21:33 UTC	(20070127_0-23525)
  Log:
  - swap a service_error() for service_send() in nickserv::nickdrop so it will
    send the notice out over dcc
  

  Modified:
	rserv/branches/1_1/src/s_nickserv.c (File Modified) 


leeh        2007/01/14 18:06:12 UTC	(20070114_1-23477)
  Log:
  - s/RESETPASS/RESETEMAIL in a notice sent out of userserv::resetemail
  

  Modified:
	rserv/branches/1_1/src/s_userserv.c (File Modified) 


leeh        2007/01/14 17:44:03 UTC	(20070114_0-23473)
  Log:
  - userserv::usersetpass should be testing length of parv[1] for password
  

  Modified:
	rserv/branches/1_1/src/s_userserv.c (File Modified) 


leeh        2007/01/13 14:57:01 UTC	(20070113_0-23437)
  Log:
  - reset helpfile to NULL after we've cleared it
  

  Modified:
	rserv/branches/1_1/src/ucommand.c (File Modified) 


leeh        2007/01/12 22:41:07 UTC	(20070112_0-23433)
  Log:
  - split the loading/clearing of the non-service dcc commands into their own
    functions, so we can load the helpfiles easier on boot, fixing them not
    being loaded
  

  Modified:
	rserv/branches/1_1/include/ucommand.h (File Modified) 
	rserv/branches/1_1/src/rserv.c (File Modified) 
	rserv/branches/1_1/src/service.c (File Modified) 
	rserv/branches/1_1/src/ucommand.c (File Modified) 


leeh        2007/01/10 20:33:30 UTC	(20070110_1-23413)
  Log:
  - fix few options in service {}; to handle a non-existant service id
  

  Modified:
	rserv/branches/1_1/src/newconf.c (File Modified) 


leeh        2007/01/10 19:45:33 UTC	(20070110_0-23405)
  Log:
  - via ongeboren
    - fix compile with --disable-chanserv
  

  Modified:
	rserv/branches/1_1/src/s_userserv.c (File Modified) 


leeh        2007/01/08 15:34:10 UTC	(20070108_0-23393)
  Log:
  - via Ralf S. Engelschall
    - fix some autoconf tests to be POSIX compliant
  

  Modified:
	rserv/branches/1_1/autoconf/configure.in (File Modified) 


leeh        2007/01/07 19:56:33 UTC	(20070107_2-23381)
  Log:
  - branch off 1.1
  

  Modified:
	rserv/branches/1_1/ (File Added) 


leeh        2007/01/07 19:54:34 UTC	(20070107_1-23377)
  Log:
  - bugger it, revved patchlevel to 1.1.0 final
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/SVN-Access (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2007/01/07 19:46:58 UTC	(20070107_0-23373)
  Log:
  - update whats-new-1.1.txt with autojoin_empty
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0rc5
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/doc/whats-new-1.1.txt (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2007/01/06 13:59:49 UTC	(20070106_1-23367)
  Log:
  - another fix for the watch all stuff
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 


leeh        2007/01/06 12:49:59 UTC	(20070106_0-23365)
  Log:
  - fix WATCH ALL slightly
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 


leeh        2007/01/01 22:06:19 UTC	(20070101_1-23323)
  Log:
  - via ongeboren
    - add watch all to watch all flags
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2007/01/01 22:03:46 UTC	(20070101_0-23321)
  Log:
  - fix watchserv -flag to skip past the '-'
  

  Modified:
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/12/16 19:08:41 UTC	(20061216_0-23301)
  Log:
  - new chanserv config option, autojoin_empty = yes|no;, controls whether
    chanserv will autojoin empty channels or not
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/10/29 15:47:12 UTC	(20061029_2-23259)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0rc4
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/10/29 15:42:22 UTC	(20061029_1-23257)
  Log:
  - remove service flood_max_ignore, replacing it with flood_grace of what we
    remove per second
  - undocument the per service flood protection, it's not particularly
    pleasant atm.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/10/29 15:30:35 UTC	(20061029_0-23255)
  Log:
  - remove those other flood_max from the other services..
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2006/10/13 18:26:39 UTC	(20061013_4-23231)
  Log:
  - test?
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 


androsyn    2006/10/13 17:29:07 UTC	(20061013_3-23229)
  Log:
  test commit

  Modified:
	rserv/trunk/SVN-Access (File Modified) 


leeh        2006/10/13 17:28:15 UTC	(20061013_2-23228)
  Log:
  - test commit
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 


leeh        2006/10/13 17:25:14 UTC	(20061013_1-23227)
  Log:
  - time_t is signed, make get_temp_time() handle an overflow
  

  Modified:
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/10/13 17:23:17 UTC	(20061013_0-23226)
  Log:
  - make us::resetemail handle parameters properly
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/10/11 18:08:45 UTC	(20061011_0-23138)
  Log:
  - we need to use banreg_p->mask when deleting from the db, not parv[1] as
    we're not messing around too much with case
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/10/10 18:21:52 UTC	(20061010_1-23121)
  Log:
  - fix count_memory() to account for userserv/chanserv being disabled
  

  Modified:
	rserv/trunk/src/rserv.c (File Modified) 


leeh        2006/10/10 17:59:59 UTC	(20061010_0-23119)
  Log:
  - make ospart work through dcc
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


androsyn    2006/10/09 00:08:39 UTC	(20061009_0-23117)
  Log:
  c99isms aren't really a good idea yet

  Modified:
	rserv/trunk/src/snprintf.c (File Modified) 


leeh        2006/10/08 20:31:31 UTC	(20061008_2-23115)
  Log:
  - if ignore value is not specified for per-server flood limits, make
    flood_max the upper limit
  

  Modified:
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/10/08 20:29:12 UTC	(20061008_1-23113)
  Log:
  - make the per-service flood limits optional, and default them all to off.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/10/08 15:31:38 UTC	(20061008_0-23108)
  Log:
  - ignore login bursts to suspended usernames and log them out
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


jilles      2006/10/05 18:21:48 UTC	(20061005_1-23089)
  Log:
  Fix handling of SJOIN with "0" modes correctly now.
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2006/10/05 17:57:11 UTC	(20061005_0-23087)
  Log:
  - handle an SJOIN containing modes of "0", sent when an uplink nukes the
    modes due to a losing TS
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2006/09/24 19:18:38 UTC	(20060924_0-23069)
  Log:
  - extend get_short_duration() to include minutes
  - make banlist use get_short_duration, rather than simply number of minutes
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/09/19 19:08:41 UTC	(20060919_1-23063)
  Log:
  - make userserv::userinfo list channels as "#foo 200, #x 150" etc, as people
    are right clicking on the channel name to join it..
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/09/19 18:53:40 UTC	(20060919_0-23061)
  Log:
  - get_temp_time() returns duration in seconds, so chanserv::addban doesn't
    need to account for it
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/09/12 20:57:35 UTC	(20060912_0-23051)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0rc3
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/09/09 15:49:28 UTC	(20060909_4-23049)
  Log:
  - we need the database name to use on import
  

  Modified:
	rserv/trunk/INSTALL.mysql (File Modified) 


leeh        2006/09/09 15:48:22 UTC	(20060909_3-23047)
  Log:
  - remove a couple of misplaced ','
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 


leeh        2006/09/09 15:42:43 UTC	(20060909_2-23045)
  Log:
  - these foreign keys are useless for mysql
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 


leeh        2006/09/09 15:41:27 UTC	(20060909_1-23043)
  Log:
  - dont allow these to run unless people run configure first
  

  Modified:
	rserv/trunk/tools/dbupgrade.pl (File Modified) 
	rserv/trunk/tools/generate-schema.pl (File Modified) 


leeh        2006/09/09 15:37:22 UTC	(20060909_0-23041)
  Log:
  - that should be ratbox_services.* in the GRANT
  

  Modified:
	rserv/trunk/INSTALL.mysql (File Modified) 


jilles      2006/09/08 14:53:07 UTC	(20060908_0-23035)
  Log:
  Don't accept SID before server registration,
  even with TS6 our uplink will introduce itself
  with SERVER.
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 


leeh        2006/09/06 20:43:33 UTC	(20060906_0-23033)
  Log:
  - fix bug of trying to enforce chanmodes +lk when we're not actually
    supposing to, causing us to set the key to blank and the +l to 0
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/09/01 18:59:20 UTC	(20060901_1-23023)
  Log:
  - move get_temp_time() into tools.c
  - make chanserv::addban use get_temp_time(), allowing '1w' etc klines
  

  Modified:
	rserv/trunk/help/chanserv/addban (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/09/01 18:23:33 UTC	(20060901_0-23021)
  Log:
  - add a maximum duration of a year in to channel bans, to stop some db
    screwups
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/07/20 19:51:00 UTC	(20060720_2-22926)
  Log:
  - fix missing ';' in example.conf
  - fix missing expire bonus stuff from conf parser
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/07/20 19:44:48 UTC	(20060720_1-22924)
  Log:
  - remove the error checking once we've tried to send the email, as it can
    hang services whilst we wait for it to complete.
  - add SIGCHLD handler for when children quit
  

  Modified:
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 


leeh        2006/07/20 19:43:32 UTC	(20060720_0-22922)
  Log:
  - reset_regtime_duration was missing from conf parser
  

  Modified:
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/07/18 20:03:29 UTC	(20060718_4-22908)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0rc2
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/07/18 19:55:23 UTC	(20060718_3-22906)
  Log:
  - fix removing a key from createmodes/enforcemodes
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/07/18 19:54:41 UTC	(20060718_2-22904)
  Log:
  - revert that for now, I need to cut rc2..
  

  Modified:
	rserv/trunk/include/balloc.h (File Modified) 
	rserv/trunk/src/balloc.c (File Modified) 


androsyn    2006/07/18 18:55:12 UTC	(20060718_1-22902)
  Log:
  Block heap changes from ircd-ratbox devel.  
    - move used/free lists into the BlockHeap structure out of the Block
    
  

  Modified:
	rserv/trunk/include/balloc.h (File Modified) 
	rserv/trunk/src/balloc.c (File Modified) 


leeh        2006/07/18 18:06:04 UTC	(20060718_0-22896)
  Log:
  - move url length in channels away from TOPICLEN to URLLEN, default 100
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 
	rserv/trunk/tools/definetolength.pl (File Modified) 


leeh        2006/07/17 21:04:18 UTC	(20060717_3-22894)
  Log:
  - only do service introductions when our uplink introduces itself
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 


leeh        2006/07/17 20:32:07 UTC	(20060717_2-22892)
  Log:
  - s/ureg_p/chreg_p
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/07/17 18:37:09 UTC	(20060717_1-22890)
  Log:
  - add in some indexes on members/bans tables
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/07/17 18:17:32 UTC	(20060717_0-22888)
  Log:
  - refuse to complete autoconf when we need a topiclen greater than 255, as
    mysql  limits varchar to 255 (at least on myisam..)
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2006/07/16 20:19:58 UTC	(20060716_0-22882)
  Log:
  - via ongeboren, fix some length issues with channel topics/urls
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/07/12 14:02:58 UTC	(20060712_1-22878)
  Log:
  - add a 6 hour even for parting inhabited channels
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/07/12 10:26:53 UTC	(20060712_0-22876)
  Log:
  - make join_service() take an "override" parameter, which can force it to
    lower the ts to the one given
  - set an INHABIT flag which isn't stored in the database, rather than
    AUTOJOIN when we need to join a channel to enforce restrictops/bans after
    someone creates it
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/include/s_chanserv.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/07/09 11:13:33 UTC	(20060709_1-22874)
  Log:
  - via ongeboren, move service introduction up to after we've received
    SERVER, as chanserv may deop people on SJOIN which requires its already
    introduced
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/07/09 11:10:17 UTC	(20060709_0-22872)
  Log:
  - as pointed out by ongeboren, we need to set_time() before we call
    connect_to_server() on startup, as otherwise connect() can immediately
    time out
  

  Modified:
	rserv/trunk/src/rserv.c (File Modified) 


leeh        2006/07/08 18:26:16 UTC	(20060708_5-22870)
  Log:
  - s/chanserv_delowner/chanserv_dropowner
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/07/08 12:20:59 UTC	(20060708_4-22868)
  Log:
  - remove unused variable in c_tmode()
  - restrict stats Z to services admins, as its cpu intensive
  

  Modified:
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/07/08 12:06:18 UTC	(20060708_3-22866)
  Log:
  - add hash overhead and conf memory to stats Z
  

  Modified:
	rserv/trunk/src/rserv.c (File Modified) 


leeh        2006/07/08 12:05:33 UTC	(20060708_2-22864)
  Log:
  - make BlockHeapCreate() take a string parameter of the name of the heap
  - output balloc stats in stats Z
  

  Modified:
	rserv/trunk/include/balloc.h (File Modified) 
	rserv/trunk/src/balloc.c (File Modified) 
	rserv/trunk/src/cache.c (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/07/08 12:04:53 UTC	(20060708_1-22862)
  Log:
  - add stats Z to count memory
  - add memory counting for ram used by services
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/include/s_chanserv.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/07/08 12:04:06 UTC	(20060708_0-22860)
  Log:
  - fix valid_ban() to test for a '@' in the right string
  

  Modified:
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2006/07/07 08:21:53 UTC	(20060707_0-22858)
  Log:
  - fix some memleaks when destroying usernames/channels
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/07/06 08:14:37 UTC	(20060706_0-22856)
  Log:
  - fix some minor missing rsdb_exec_fetch_end()
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


androsyn    2006/07/05 18:26:32 UTC	(20060705_2-22854)
  Log:
  fix leak where rsdb_exec doesn't return any field or row count using postgresql

  Modified:
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 


jilles      2006/07/05 14:26:37 UTC	(20060705_1-22852)
  Log:
  chanserv::delowner: also confirm success if no email
  confirmation is necessary.
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


jilles      2006/07/05 13:52:34 UTC	(20060705_0-22850)
  Log:
  TMODE: no need to check MODE_DEOPPED here
  

  Modified:
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2006/06/28 21:17:32 UTC	(20060628_1-22836)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0rc1
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/06/28 17:13:25 UTC	(20060628_0-22834)
  Log:
  - via ongeboren, fix password length checking in resetpass
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/26 18:22:05 UTC	(20060626_0-22832)
  Log:
  - cast uses of strlen() in printf family functions to uint
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 


leeh        2006/06/25 18:38:32 UTC	(20060625_1-22830)
  Log:
  - ensure we schedule a reconnect when the server connect fails due to a
    socket error (eg, no dns)
  

  Modified:
	rserv/trunk/src/io.c (File Modified) 


leeh        2006/06/25 18:34:00 UTC	(20060625_0-22828)
  Log:
  - fix some minor signedness issues
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/dbhook.h (File Modified) 
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/include/log.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/balloc.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/dbhook.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/log.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/06/21 18:01:47 UTC	(20060621_3-22822)
  Log:
  - this should be email_banned_domain
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/21 18:01:00 UTC	(20060621_2-22820)
  Log:
  - another minor formatting change
  

  Modified:
	rserv/trunk/doc/dbhook.txt (File Modified) 


leeh        2006/06/21 17:58:18 UTC	(20060621_1-22818)
  Log:
  - minor formatting change
  

  Modified:
	rserv/trunk/doc/dbhook_current.txt (File Modified) 


leeh        2006/06/21 17:55:09 UTC	(20060621_0-22816)
  Log:
  - update some documentation
  

  Modified:
	rserv/trunk/doc/database_mod.txt (File Modified) 
	rserv/trunk/doc/dbhook_current.txt (File Added) 
	rserv/trunk/doc/whats-new-1.1.txt (File Modified) 


leeh        2006/06/20 20:30:47 UTC	(20060620_0-22810)
  Log:
  - update whats-new somewhat
  

  Modified:
	rserv/trunk/doc/whats-new-1.1.txt (File Modified) 


leeh        2006/06/19 19:52:34 UTC	(20060619_0-22799)
  Log:
  - add new db table banned_email_domain for banned email domains
  - have email functions for userserv scan that table
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/06/18 15:37:44 UTC	(20060618_2-22796)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0beta4
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/06/18 15:24:10 UTC	(20060618_1-22794)
  Log:
  - fix c_mode() call to handle_chmode() stripping out a parameter from the
    beginning of the modestring
  

  Modified:
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2006/06/18 15:19:14 UTC	(20060618_0-22792)
  Log:
  - parse_full_mode() should have a break; after its dealt with +ov directed
    at services.. (though irrelevant at present)
  

  Modified:
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2006/06/17 22:36:01 UTC	(20060617_8-22790)
  Log:
  - chptr may no longer be valid after part_service() in ospart
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/06/17 20:37:48 UTC	(20060617_7-22788)
  Log:
  - remove WHERE 1 from a dbupgrade statement, it wont work on pgsql
  - fix operserv/operbot tables to deal properly with case
  

  Modified:
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/06/17 18:05:38 UTC	(20060617_6-22786)
  Log:
  - move the sql statements over to a consistent quoting form for all
    variables (now all wrapped in '')
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/17 17:40:11 UTC	(20060617_5-22784)
  Log:
  - fix up the pgsql error checking
  

  Modified:
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 


leeh        2006/06/17 12:47:02 UTC	(20060617_4-22781)
  Log:
  - this is still b3..
  

  Modified:
	rserv/trunk/ChangeLog (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/06/17 12:42:55 UTC	(20060617_3-22779)
  Log:
  - rsdb_exec_fetch() in pgsql really shouldnt build its array on
    colcount*colcount instead of rowcount*colcount
  

  Modified:
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 


leeh        2006/06/17 12:36:45 UTC	(20060617_2-22777)
  Log:
  - s/chname/name, was in ircd mode..
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/06/17 11:05:45 UTC	(20060617_1-22775)
  Log:
  - modify operserv::ospart so it can be used to remove operserv after a
    takeover, by those with the takeover priv.
  

  Modified:
	rserv/trunk/help/operserv/takeover (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/06/17 10:26:19 UTC	(20060617_0-22773)
  Log:
  - psql doesnt like "WHERE 1" as a boolean, but the SELECT clause doesnt need
    it anyway so just remove the 'WHERE 1'
  

  Modified:
	rserv/trunk/src/s_global.c (File Modified) 


leeh        2006/06/16 21:37:36 UTC	(20060616_1-22771)
  Log:
  - operserv::takeover without removing bans just doesnt play nicely in the
    TS6 world, so remove +beI modes always.
  

  Modified:
	rserv/trunk/help/operserv/index-admin (File Modified) 
	rserv/trunk/help/operserv/takeover (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/06/16 17:52:47 UTC	(20060616_0-22769)
  Log:
  - wrap some sql parameters in '' so pgsql doesnt freak out over booleans
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/06/15 19:15:25 UTC	(20060615_4-22765)
  Log:
  - update RELEASE_NOTES
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/06/15 18:19:59 UTC	(20060615_3-22763)
  Log:
  - add expiry bonuses for usernames
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/15 17:11:01 UTC	(20060615_2-22761)
  Log:
  - add reset_regtime_duration to userserv {};, duration a username must be
    registered for before resetpass/resetemail can be used
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/15 16:55:43 UTC	(20060615_1-22759)
  Log:
  - remove those consts.
  

  Modified:
	rserv/trunk/src/rsdb_sqlite3.c (File Modified) 


leeh        2006/06/15 16:47:10 UTC	(20060615_0-22757)
  Log:
  - add code to handle SQLITE_BUSY, sleep for upto 10 iterations at half a
    second each
  

  Modified:
	rserv/trunk/src/rsdb_sqlite3.c (File Modified) 


leeh        2006/06/14 21:02:21 UTC	(20060614_4-22755)
  Log:
  - move init_crypt_seed() up to after event init
  - stop banserv/chanserv adding their own deltas to events
  - make eventAdd() add a delta to each event to space them out a bit
  

  Modified:
	rserv/trunk/src/event.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/06/14 20:07:43 UTC	(20060614_3-22753)
  Log:
  - add in missing delowner help
  

  Modified:
	rserv/trunk/help/chanserv/delowner (File Added) 


leeh        2006/06/14 19:40:36 UTC	(20060614_2-22751)
  Log:
  - add my_sleep() function, which allows us to sleep a given time in
    seconds/microseconds
  - swap sleep() calls for my_sleep()
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/06/14 19:38:30 UTC	(20060614_1-22749)
  Log:
  - fix a couple of compile errors
  - merge resetpass/resetemail expiry into one function
  - delete pending resetemail requests on username deletion
  - delete pending dropowner requests on channel deletion
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/14 19:34:15 UTC	(20060614_0-22747)
  Log:
  - remove an unused format argument
  

  Modified:
	rserv/trunk/src/s_nickserv.c (File Modified) 


leeh        2006/06/13 20:15:39 UTC	(20060613_6-22745)
  Log:
  - we have a static parse.c, and dont need this.
  

  Modified:
	rserv/trunk/sqlite3/src/parse.y (File Deleted) 


leeh        2006/06/13 20:03:04 UTC	(20060613_5-22743)
  Log:
  - verify resetemail using proper NULL database concepts.
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/06/13 19:54:00 UTC	(20060613_4-22741)
  Log:
  - add some sanity checking for we're at the right place in the chain when
    dealing with resetemail
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/13 19:40:39 UTC	(20060613_3-22739)
  Log:
  - add resetemail help
  

  Modified:
	rserv/trunk/help/userserv/index (File Modified) 
	rserv/trunk/help/userserv/resetemail (File Added) 


leeh        2006/06/13 19:37:25 UTC	(20060613_2-22737)
  Log:
  - via Dimitar Terziev
    - add userserv::resetemail, to allow people to reset their email address
      with email verification
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/help/userserv/index (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/13 19:07:37 UTC	(20060613_1-22735)
  Log:
  - dbupgrade shouldnt create users_resetemail with email NOT NULL
  

  Modified:
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/06/13 13:34:10 UTC	(20060613_0-22733)
  Log:
  - db preparations for resetemail
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/06/12 20:35:50 UTC	(20060612_2-22731)
  Log:
  - perform blind deletes on usernames before inserting tokens for
    resetpass/delowner, in case theres still an unexpired entry around
  - fix delowner when we dont require email
  - s/ureg/chreg in s_chanserv.c
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/12 20:20:34 UTC	(20060612_1-22729)
  Log:
  - add a dbhook to users_sync for SETEMAIL
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/12 20:13:37 UTC	(20060612_0-22727)
  Log:
  - s_chanserv.c now needs email.h
  - add time indexes in to users_resetpass and channels_dropowner
  - via Alexander Kotzev, fix table name mismatch
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/06/11 19:44:07 UTC	(20060611_0-22725)
  Log:
  - patch via the BG guys:
    - add new chanserv::delowner command with optional email verification
    - chanserv::deluser can no longer be used to remove a channel owner
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/help/chanserv/deluser (File Modified) 
	rserv/trunk/help/chanserv/index (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


jilles      2006/06/09 18:43:34 UTC	(20060609_0-22721)
  Log:
  Don't allow registering a nick starting with a digit
  (a UID with nick collision FNC).
  

  Modified:
	rserv/trunk/src/s_nickserv.c (File Modified) 


leeh        2006/06/08 20:09:27 UTC	(20060608_0-22719)
  Log:
  - add in a database table for confirming requests to drop ownership of a
    channel
  

  Modified:
	rserv/trunk/tools/base/schema-mysql.txt (File Modified) 
	rserv/trunk/tools/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/06/07 19:46:37 UTC	(20060607_1-22717)
  Log:
  - that wallops should include the oper name and mask too
  

  Modified:
	rserv/trunk/src/log.c (File Modified) 


leeh        2006/06/07 19:40:19 UTC	(20060607_0-22715)
  Log:
  - remove unused slog()
  - zlog() was missing the wallops it needs to send
  

  Modified:
	rserv/trunk/include/log.h (File Modified) 
	rserv/trunk/src/log.c (File Modified) 


jilles      2006/06/06 23:07:58 UTC	(20060606_0-22711)
  Log:
  NICK/UID introductions put the hopcount in the TS field,
  which broke RSFNC (nickserv regain).
  
  Found by: ongeboren
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 


leeh        2006/06/05 17:59:08 UTC	(20060605_0-22699)
  Log:
  - add in a statically generated parse.c
  - move sqlite3.h a directory up, so we dont conflict with sqlite includes
    too
  

  Modified:
	rserv/trunk/sqlite3/Makefile.in (File Modified) 
	rserv/trunk/sqlite3/main.mk (File Modified) 
	rserv/trunk/sqlite3/sqlite3.h (File Added) 
	rserv/trunk/sqlite3/src/parse.c (File Added) 
	rserv/trunk/sqlite3/src/sqlite3.h (File Deleted) 
	rserv/trunk/sqlite3/tool/lemon.c (File Deleted) 
	rserv/trunk/sqlite3/tool/lempar.c (File Deleted) 


leeh        2006/06/04 12:21:19 UTC	(20060604_2-22697)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0beta3
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/06/04 12:16:02 UTC	(20060604_1-22695)
  Log:
  - update some documentation to reference pgsql
  

  Modified:
	rserv/trunk/DBMOVE (File Modified) 
	rserv/trunk/INSTALL (File Modified) 


leeh        2006/06/04 12:09:46 UTC	(20060604_0-22693)
  Log:
  - add installation instructions for pgsql
  

  Modified:
	rserv/trunk/INSTALL.pgsql (File Added) 


leeh        2006/06/03 21:00:16 UTC	(20060603_3-22691)
  Log:
  - rename sqlite.h.in to sqlite3.h
  

  Modified:
	rserv/trunk/sqlite3/src/sqlite.h.in (File Deleted) 
	rserv/trunk/sqlite3/src/sqlite3.h (File Added) 


leeh        2006/06/03 20:59:44 UTC	(20060603_2-22689)
  Log:
  - sqlite3.h doesnt need to be generated per build
  

  Modified:
	rserv/trunk/sqlite3/Makefile.in (File Modified) 
	rserv/trunk/sqlite3/configure (File Modified) 
	rserv/trunk/sqlite3/configure.ac (File Modified) 
	rserv/trunk/sqlite3/src/sqlite.h.in (File Modified) 


leeh        2006/06/03 16:32:12 UTC	(20060603_1-22687)
  Log:
  - handle SELECT COUNT() returning 0 rows, eg when we dont have access to the
    table in pgsql
  

  Modified:
	rserv/trunk/src/dbhook.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/06/03 11:21:16 UTC	(20060603_0-22685)
  Log:
  - dont redeclare ptr here
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/05/23 19:42:52 UTC	(20060523_2-22637)
  Log:
  - fix sqlite3 build
  

  Modified:
	rserv/trunk/sqlite3/Makefile.in (File Modified) 
	rserv/trunk/sqlite3/src/keywordhash.h (File Added) 
	rserv/trunk/sqlite3/src/opcodes.c (File Added) 
	rserv/trunk/sqlite3/src/opcodes.h (File Added) 
	rserv/trunk/sqlite3/src/parse.h (File Added) 
	rserv/trunk/sqlite3/tool/mkkeywordhash.c (File Deleted) 


leeh        2006/05/23 19:23:54 UTC	(20060523_1-22635)
  Log:
  - remove tcl support
  

  Modified:
	rserv/trunk/sqlite3/Makefile.in (File Modified) 
	rserv/trunk/sqlite3/configure (File Modified) 
	rserv/trunk/sqlite3/configure.ac (File Modified) 
	rserv/trunk/sqlite3/src/tclsqlite.c (File Deleted) 


leeh        2006/05/23 19:07:46 UTC	(20060523_0-22633)
  Log:
  - remove some crap we dont need from sqlite3 source
  

  Modified:
	rserv/trunk/sqlite3/addopcodes.awk (File Deleted) 
	rserv/trunk/sqlite3/contrib/ (File Deleted) 
	rserv/trunk/sqlite3/mkopcodec.awk (File Deleted) 
	rserv/trunk/sqlite3/mkopcodeh.awk (File Deleted) 
	rserv/trunk/sqlite3/tclinstaller.tcl (File Deleted) 
	rserv/trunk/sqlite3/tool/memleak.awk (File Deleted) 
	rserv/trunk/sqlite3/tool/memleak2.awk (File Deleted) 
	rserv/trunk/sqlite3/tool/memleak3.tcl (File Deleted) 
	rserv/trunk/sqlite3/tool/mkopts.tcl (File Deleted) 
	rserv/trunk/sqlite3/tool/omittest.tcl (File Deleted) 
	rserv/trunk/sqlite3/tool/opcodeDoc.awk (File Deleted) 
	rserv/trunk/sqlite3/tool/space_used.tcl (File Deleted) 
	rserv/trunk/sqlite3/tool/spaceanal.tcl (File Deleted) 
	rserv/trunk/sqlite3/tool/speedtest.tcl (File Deleted) 
	rserv/trunk/sqlite3/tool/speedtest2.tcl (File Deleted) 


leeh        2006/05/21 22:10:43 UTC	(20060521_4-22607)
  Log:
  - fix some autoconf lib crap
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2006/05/21 15:03:30 UTC	(20060521_3-22605)
  Log:
  - fix some pgsql stuff
  

  Modified:
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 


leeh        2006/05/21 14:55:22 UTC	(20060521_2-22603)
  Log:
  - handle pgsql includes being in postgresql/ as well as pgsql/
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/src/rsdb_pgsql.c (File Modified) 


leeh        2006/05/21 14:31:05 UTC	(20060521_1-22601)
  Log:
  - add autoconf checks for pgsql
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2006/05/21 14:30:23 UTC	(20060521_0-22599)
  Log:
  - minor formatting change to operguide
  

  Modified:
	rserv/trunk/doc/operguide.txt (File Modified) 


androsyn    2006/05/14 01:17:28 UTC	(20060514_0-22483)
  Log:
  inital commit of the likely non-functional postgresql code

  Modified:
	rserv/trunk/src/rsdb_pgsql.c (File Added) 


leeh        2006/05/07 14:07:57 UTC	(20060507_0-22401)
  Log:
  - fix PING to use UID properly
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 


jilles      2006/04/25 00:24:38 UTC	(20060425_1-22375)
  Log:
  Don't put our uplink's SID on all TS5 servers.
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 


jilles      2006/04/25 00:12:10 UTC	(20060425_0-22373)
  Log:
  Adapt operserv::takeover to the TS6 world.
  If a non-full takeover is done and the ratbox option
  is not set, operserv will part/join twice; this can't
  be fixed other than by not changing the TS or changing
  semantics to always remove bans.
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


jilles      2006/04/24 23:08:24 UTC	(20060424_2-22371)
  Log:
  Don't log a protocol error when receiving JOIN 0.
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


jilles      2006/04/24 23:03:32 UTC	(20060424_1-22369)
  Log:
  Add function remove_bans() and use it to clear +beI modes
  when TS6 SJOIN with lower TS is received.
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 


leeh        2006/04/24 19:13:43 UTC	(20060424_0-22365)
  Log:
  - add in the userintro.txt here
  

  Modified:
	rserv/trunk/doc/userintro.txt (File Added) 


leeh        2006/04/21 17:48:38 UTC	(20060421_0-22363)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0beta2
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/UPGRADING (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/04/20 20:31:12 UTC	(20060420_0-22361)
  Log:
  - add the oldschemas back, we do need these
  - add in a document on how to move databases
  - make generate-schema.pl support taking a schema as an argument
  

  Modified:
	rserv/trunk/DBMOVE (File Added) 
	rserv/trunk/INSTALL.mysql (File Modified) 
	rserv/trunk/UPGRADING (File Modified) 
	rserv/trunk/tools/generate-schema.pl (File Modified) 
	rserv/trunk/tools/oldschema/ (File Added) 
	rserv/trunk/tools/oldschema/1.0-mysql-schema.txt (File Added) 
	rserv/trunk/tools/oldschema/1.0-pgsql-schema.txt (File Added) 
	rserv/trunk/tools/oldschema/1.0-sqlite-schema.txt (File Added) 


leeh        2006/04/19 20:07:35 UTC	(20060419_2-22359)
  Log:
  - im on crack.
  

  Modified:
	rserv/trunk/tools/oldschema/ (File Deleted) 
	rserv/trunk/tools/sqlitecheck.pl (File Added) 


leeh        2006/04/19 19:47:15 UTC	(20060419_1-22357)
  Log:
  - base sqlite schema needed users_sync
  - add in schemas for the 1.0 tree, these will be needed to upgrade properly
  

  Modified:
	rserv/trunk/tools/base/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/oldschema/ (File Added) 
	rserv/trunk/tools/oldschema/1.0-mysql-schema.txt (File Added) 
	rserv/trunk/tools/oldschema/1.0-pgsql-schema.txt (File Added) 
	rserv/trunk/tools/oldschema/1.0-sqlite-schema.txt (File Added) 


leeh        2006/04/19 17:55:46 UTC	(20060419_0-22355)
  Log:
  - fix a few XXX marks to do whats needed there
  - update whats-new-1.1.txt a bit
  

  Modified:
	rserv/trunk/doc/whats-new-1.1.txt (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/04/18 18:08:53 UTC	(20060418_0-22353)
  Log:
  - add new zlog() function, which will handle building the prefixes for a log
    and issuing the watch_send() call.
  - moved all slog() over to zlog()
  - moved chanserv::listbans down to loglevel 6
  - log format for opers is now:
    <time> *<opername> <hostmask> <details>
  - log format for users is now:
    <time> <username> <hostmask> <details
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/log.h (File Modified) 
	rserv/trunk/src/log.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/04/11 18:26:19 UTC	(20060411_2-22351)
  Log:
  - operserv::die, operserv::rehash and operserv::dbsync were testing whether
    a client was opered -- fixed by moving them over to new operserv
    'maintain' priv
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/04/11 18:10:39 UTC	(20060411_1-22349)
  Log:
  - make operserv::die call slog() as well, so that it will also send wallops
    on the command if configured to
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


jilles      2006/04/11 14:10:16 UTC	(20060411_0-22347)
  Log:
  Avoid a crash in watch_send() for non-oper commands.
  

  Modified:
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/10 19:15:29 UTC	(20060410_4-22345)
  Log:
  - update whats-new-1.1.txt
  - update RELEASE_NOTES
  - revved patchlevel to 1.1.0beta1
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/doc/whats-new-1.1.txt (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/04/10 18:56:26 UTC	(20060410_3-22343)
  Log:
  - add Id properties
  

  Modified:
	rserv/trunk/include/email.h  (Property Modified)
	rserv/trunk/include/rsdb.h  (Property Modified)


leeh        2006/04/10 18:53:23 UTC	(20060410_2-22341)
  Log:
  - fix make install
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 


leeh        2006/04/10 18:48:44 UTC	(20060410_1-22339)
  Log:
  - add brief documentation on modifying database tables
  - note database hooks are case sensitive
  

  Modified:
	rserv/trunk/doc/database_mod.txt (File Added) 
	rserv/trunk/doc/dbhook.txt (File Modified) 


leeh        2006/04/10 17:45:02 UTC	(20060410_0-22337)
  Log:
  - update the INSTALL documentation
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 
	rserv/trunk/INSTALL.mysql (File Modified) 
	rserv/trunk/INSTALL.sqlite (File Modified) 


leeh        2006/04/09 19:49:44 UTC	(20060409_6-22333)
  Log:
  - fix generate-schema to account for new locations of schemas and
    definetolength.pl
  

  Modified:
	rserv/trunk/tools/generate-schema.pl (File Modified) 


leeh        2006/04/09 19:44:53 UTC	(20060409_5-22331)
  Log:
  - reorganise things so the schemas are in tools/base/ and generate-schema.pl
    is in tools/
  

  Modified:
	rserv/trunk/doc/base/ (File Deleted) 
	rserv/trunk/doc/generate-schema.pl (File Deleted) 
	rserv/trunk/doc/schema-sqlite.txt (File Deleted) 
	rserv/trunk/tools/base/ (File Added) 
	rserv/trunk/tools/base/schema-sqlite.txt (File Added) 
	rserv/trunk/tools/generate-schema.pl (File Added) 


leeh        2006/04/09 19:38:12 UTC	(20060409_4-22329)
  Log:
  - fix the sendto_server() calls so they use TS6
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/src/c_message.c (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/log.c (File Modified) 
	rserv/trunk/src/modebuild.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/09 15:37:53 UTC	(20060409_3-22327)
  Log:
  - add in conf_service_flags(), to list the services specific flags
    and use it along with conf_oper_flags()
  

  Modified:
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/u_stats.c (File Modified) 


leeh        2006/04/09 10:17:26 UTC	(20060409_2-22325)
  Log:
  - alter the burst order so that we burst our clients once the uplink has
    finished bursting theirs, so that we know whether our uplink is TS6
    capable or not
  

  Modified:
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/04/09 10:08:10 UTC	(20060409_1-22323)
  Log:
  - add hooks for users/servers exiting
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 


leeh        2006/04/09 10:05:10 UTC	(20060409_0-22321)
  Log:
  - rename sendto_all_butone() to sendto_all_chat()
  - add .chat [on|off] to enable/disable chat status
  

  Modified:
	rserv/trunk/help/main/u-chat (File Added) 
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/08 22:06:33 UTC	(20060408_10-22319)
  Log:
  - remove .flags command, only thing left using it is dcc chat
    I will add .chat for that
  - remove the flags parameter from sendto_all(), as nothing is using it now
  

  Modified:
	rserv/trunk/help/main/u-flags (File Deleted) 
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/c_error.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/08 21:55:56 UTC	(20060408_9-22317)
  Log:
  - remove unused UMODE_BOTFIGHT
  - remove UMODE_SERVER, these are now always sent to dcc connections
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/c_error.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/08 21:48:45 UTC	(20060408_8-22315)
  Log:
  - remove some spy flags from .flags we no longer need
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/08 21:43:58 UTC	(20060408_7-22313)
  Log:
  - remove spyflags from struct service_command, its handled by watchserv
  

  Modified:
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/04/08 21:37:44 UTC	(20060408_6-22311)
  Log:
  - remove the spy parameter from userserv commands, theres watchserv instead
    now
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/include/ucommand.h (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/u_stats.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/08 21:27:59 UTC	(20060408_5-22309)
  Log:
  - add watchserv flag for services opers authing
  - add help for ucommand watch
  

  Modified:
	rserv/trunk/help/watchserv/u-watch (File Added) 
	rserv/trunk/help/watchserv/watch (File Modified) 
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/08 21:00:43 UTC	(20060408_4-22307)
  Log:
  - dont prefix list of flags being watched with a '+'
  - make watchserv::watch properly work on multiple flags
  - add helpfiles for watchserv
  

  Modified:
	rserv/trunk/help/Makefile.in (File Modified) 
	rserv/trunk/help/genindex.sh (File Modified) 
	rserv/trunk/help/watchserv/ (File Added) 
	rserv/trunk/help/watchserv/general (File Added) 
	rserv/trunk/help/watchserv/index (File Added) 
	rserv/trunk/help/watchserv/index-admin (File Added) 
	rserv/trunk/help/watchserv/watch (File Added) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/08 20:48:55 UTC	(20060408_3-22305)
  Log:
  - add watch entries for banserv
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/08 16:19:05 UTC	(20060408_2-22303)
  Log:
  - fix core with userserv::userunsuspend and chanserv::chanunsuspend
  - build suspend reasons properly from all remaining parameters
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/04/08 14:59:32 UTC	(20060408_1-22301)
  Log:
  - add watch_send() calls for nickdrop/nickserv::register
  - wrap each watch handler in #ifdef's for the service being enabled
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/08 14:50:49 UTC	(20060408_0-22299)
  Log:
  - add watch entries for various userserv commands
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/07 21:44:32 UTC	(20060407_4-22297)
  Log:
  - add watch entries for some chanserv commands
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/07 20:16:57 UTC	(20060407_3-22295)
  Log:
  - make watch_send() take an oper parameter, noting whether we're searching
    for an opers name or for a clients registered username
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/07 20:04:30 UTC	(20060407_2-22293)
  Log:
  - make OPER_NAME() safe for none logged in services opers
  - add remaining watch_send() calls in jupeserv
  - add #include "watch.h" where its needed
  

  Modified:
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 


leeh        2006/04/07 19:57:43 UTC	(20060407_1-22291)
  Log:
  - add watching for global/jupeserv/operbot
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/07 19:48:55 UTC	(20060407_0-22289)
  Log:
  - add the watchserv entry to example.conf
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2006/04/06 22:35:06 UTC	(20060406_5-22287)
  Log:
  - make LISTOPERS use loglevel 2
  - note loglevel 2 in operserv is DBSYNC and LISTOPERS
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/04/06 22:33:29 UTC	(20060406_4-22285)
  Log:
  - move watchflags into struct user
  - reset buf_on and buf_off in watch_list(), and send messages from
    watchserv_p
  - watch_find_flag() needs !strcasecmp
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/06 22:19:31 UTC	(20060406_3-22283)
  Log:
  - fix PRINTFLIKE() args to watch_send()
  - fix double usage of client_p in watch_send()
  - add watch_send() calls to operserv
  

  Modified:
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/06 22:13:13 UTC	(20060406_2-22281)
  Log:
  - add OPER_MASK() to get the n!u@h mask of an oper -- returns "-" for dcc
    connections
  - make watch_send() take client_p and conn_p, and include OPER_NAME() and
    OPER_MASK()
  

  Modified:
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/include/watch.h (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/06 22:05:18 UTC	(20060406_1-22279)
  Log:
  - make watchserv walk the existing lists for clients to message
  

  Modified:
	rserv/trunk/src/s_watchserv.c (File Modified) 


leeh        2006/04/06 20:56:55 UTC	(20060406_0-22277)
  Log:
  - add watchflags into struct lconn, as we deallocate the oper conf on auth
  - add hooks for when a dcc client auths/exits
  - make watchserv add dcc clients to its list of people to send to
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/04/05 19:00:01 UTC	(20060405_0-22269)
  Log:
  - add beginnings of WATCHSERV service, so services opers can watch through
    irc the commands users/opers issue
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/c_init.h (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/include/watch.h (File Added) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_watchserv.c (File Added) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/03/30 19:26:10 UTC	(20060330_0-22267)
  Log:
  - make userserv::userlist show who suspended a username and why
  - same for chanserv::chanlist
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/29 21:06:01 UTC	(20060329_4-22265)
  Log:
  - track when our uplink supports TS6
  - generate uids for all our services
  - introduce services through TS6 when possible
    -- this is broken, as I need to alter the burst order
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/03/29 19:33:11 UTC	(20060329_3-22263)
  Log:
  - make userserv::userinfo show whether a username is suspended or not
  - same for userserv::info
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/29 19:24:24 UTC	(20060329_2-22261)
  Log:
  - add suspend reasons for users/channels
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 
	rserv/trunk/help/chanserv/chansuspend (File Modified) 
	rserv/trunk/help/chanserv/u-chansuspend (File Modified) 
	rserv/trunk/help/userserv/u-usersuspend (File Modified) 
	rserv/trunk/help/userserv/usersuspend (File Modified) 
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/include/s_chanserv.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 
	rserv/trunk/tools/definetolength.pl (File Modified) 


leeh        2006/03/29 19:19:02 UTC	(20060329_1-22259)
  Log:
  - parse_mode_simple() returns the position of the next parameter, not how
    many it parsed -- fix sjoin to account for this
  

  Modified:
	rserv/trunk/src/channel.c (File Modified) 


leeh        2006/03/29 19:17:38 UTC	(20060329_0-22257)
  Log:
  - make add_service() use dlink_add_tail(), so that we init the services in
    the right order
  

  Modified:
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/03/28 21:19:04 UTC	(20060328_2-22255)
  Log:
  - add expire_suspended_time to chanserv {};, controls when suspended
    channels expire
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/help/chanserv/chanunsuspend (File Modified) 
	rserv/trunk/help/chanserv/u-chanunsuspend (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/03/28 21:04:15 UTC	(20060328_1-22253)
  Log:
  - update last_time on userserv::userunsuspend
  - make userserv::usersuspend and userserv::userunsuspend update the
    last_time in its sql statement
  

  Modified:
	rserv/trunk/help/userserv/u-userunsuspend (File Modified) 
	rserv/trunk/help/userserv/userunsuspend (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/28 17:36:25 UTC	(20060328_0-22251)
  Log:
  - add expire_suspended_time = <time>; to userserv {};, controls how long a
    suspended username is kept around before its expired.
  - overload last_time to store the time its been suspended since
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/27 19:23:02 UTC	(20060327_0-22249)
  Log:
  - remove .who from dcc
  - add operserv::listopers, to list connected services opers
  

  Modified:
	rserv/trunk/help/main/u-who (File Deleted) 
	rserv/trunk/help/operserv/index-admin (File Modified) 
	rserv/trunk/help/operserv/listopers (File Added) 
	rserv/trunk/help/operserv/u-listopers (File Added) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/03/24 23:39:15 UTC	(20060324_4-22247)
  Log:
  - make die() take a graceful parameter, to call the dbsync hook
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/balloc.c (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/dbhook.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_sqlite3.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/snprintf.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/03/24 21:39:50 UTC	(20060324_3-22245)
  Log:
  - make mysql interface do transactions
  - kill ourselves if we fail during the middle of a transaction
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/24 21:33:13 UTC	(20060324_2-22243)
  Log:
  - chdir() to PREFIX on startup, so cores go in the right place
  

  Modified:
	rserv/trunk/src/rserv.c (File Modified) 


leeh        2006/03/24 19:51:18 UTC	(20060324_1-22241)
  Log:
  - add a hook for new client introduced during a burst
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 


leeh        2006/03/24 18:55:09 UTC	(20060324_0-22239)
  Log:
  - restrict stats o to ircops/services opers
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/03/23 22:02:09 UTC	(20060323_7-22237)
  Log:
  - make stats o/O return a list of opers with access
  - add allow_stats_o=yes|no; to serverinfo {}; controlling whether stats O is
    allowed or not
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/03/23 21:29:47 UTC	(20060323_6-22235)
  Log:
  - missing ','
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/23 21:27:47 UTC	(20060323_5-22231)
  Log:
  - make banserv log duration of bans
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/23 21:13:24 UTC	(20060323_4-22227)
  Log:
  - dont subtract CURRENT_TIME from permanent bans..
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/23 19:44:01 UTC	(20060323_3-22225)
  Log:
  - port r22223
    - make banserv output "never" for permanent bans when listing them
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/23 19:29:15 UTC	(20060323_2-22221)
  Log:
  - add UID() macro to choose uid/nick of a client
  - direct things at a UID where possible rather than a nick
  

  Modified:
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/src/c_message.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/03/23 18:43:09 UTC	(20060323_1-22219)
  Log:
  - revert that, we're not using our custom vsnprintf where we would use %C
  

  Modified:
	rserv/trunk/src/snprintf.c (File Modified) 


leeh        2006/03/23 18:38:00 UTC	(20060323_0-22217)
  Log:
  - add 'C' modifier to rs_vsnprintf(), which will choose a uid/nick for us,
    when given a client pointer
  

  Modified:
	rserv/trunk/src/snprintf.c (File Modified) 


leeh        2006/03/20 22:36:38 UTC	(20060320_3-22213)
  Log:
  - store sid in struct lconn, as we dont have client_p yet
  - add a proper function for testing valid_sid()
  - fix c_uid() to not use uplink_p, it exists as client_p
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/03/20 22:21:55 UTC	(20060320_2-22211)
  Log:
  - introduce ourselves as TS6 capable
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/03/20 21:56:44 UTC	(20060320_1-22209)
  Log:
  - update whats-new-1.1 a bit
  - add code for parsing the TS6 protocol
  

  Modified:
	rserv/trunk/doc/whats-new-1.1.txt (File Modified) 
	rserv/trunk/include/c_init.h (File Modified) 
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 


leeh        2006/03/20 20:00:36 UTC	(20060320_0-22207)
  Log:
  - fix core in banserv::sync if oper is not logged in
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/19 10:43:34 UTC	(20060319_4-22205)
  Log:
  - add operserv::die to terminate services
  - add allow_die to operserv service {};, controlling whether die is allowed
    over irc
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/help/main/u-die (File Deleted) 
	rserv/trunk/help/operserv/die (File Added) 
	rserv/trunk/help/operserv/index-admin (File Modified) 
	rserv/trunk/help/operserv/u-die (File Added) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/03/19 10:29:12 UTC	(20060319_3-22203)
  Log:
  - move 1.0 RELEASE_NOTES into a relnotes dir
  - add in a whats-new-1.1.txt
  

  Modified:
	rserv/trunk/doc/RELEASE_NOTES_1.0 (File Deleted) 
	rserv/trunk/doc/release_notes/ (File Added) 
	rserv/trunk/doc/release_notes/RELEASE_NOTES_1.0 (File Added) 
	rserv/trunk/doc/whats-new-1.1.txt (File Added) 


leeh        2006/03/19 10:24:22 UTC	(20060319_2-22201)
  Log:
  - dont accept a 'm' modifier for banserv temp times, in case some people
    would think it was months.. we dont particularly need it for minutes
  

  Modified:
	rserv/trunk/help/banserv/general (File Modified) 
	rserv/trunk/help/banserv/index (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/19 10:20:59 UTC	(20060319_1-22199)
  Log:
  - make userserv::activate do an immediate update to the database so if we
    die unexpectedly users dont have to reactivate
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/19 09:42:59 UTC	(20060319_0-22197)
  Log:
  - rsdb_exec_fetch() doesnt need to reallocate the memory from
    mysql_fetch_row()
  - make rsdb_handle_error() reexecute queries if it can
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/18 19:57:30 UTC	(20060318_1-22195)
  Log:
  - add rsdb_try_reconnect() to mysql api, to make it attempt reconnections
    for a set duration
  - fix rsdb_exec_fetch() in mysql not initialising row
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/18 18:27:39 UTC	(20060318_0-22193)
  Log:
  - make UPGRADING note INSTALL.<db-schema> is used for converting
  - add rsdb_connect() to attempt to connect to the database, and return
    -1/1/0 on non-fatal errors, fatal errors and success
  - add rsdb_handle_error() to generically handle any errors mysql gives us
  

  Modified:
	rserv/trunk/UPGRADING (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/17 21:55:30 UTC	(20060317_5-22191)
  Log:
  - add a doc on UPGRADING
  

  Modified:
	rserv/trunk/README (File Modified) 
	rserv/trunk/UPGRADING (File Added) 


leeh        2006/03/17 19:58:30 UTC	(20060317_4-22189)
  Log:
  - rerun make depend..
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 
	rserv/trunk/src/.depend (File Modified) 


leeh        2006/03/17 19:53:04 UTC	(20060317_3-22187)
  Log:
  - remove support for sqlite2 -- we need ALTER TABLE
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Deleted) 


leeh        2006/03/17 19:51:26 UTC	(20060317_2-22185)
  Log:
  - make this reference sqlite3 instead of sqlite
  

  Modified:
	rserv/trunk/INSTALL.sqlite (File Modified) 


leeh        2006/03/17 19:45:48 UTC	(20060317_1-22183)
  Log:
  - add in the 1.0 release notes here..
  

  Modified:
	rserv/trunk/doc/RELEASE_NOTES_1.0 (File Added) 


leeh        2006/03/17 19:39:56 UTC	(20060317_0-22181)
  Log:
  - make banserv use LOWER() for queries on the mask, to avoid problems with
    having to use the exact case
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Modified) 


leeh        2006/03/16 22:16:27 UTC	(20060316_5-22179)
  Log:
  - add in documentation for the dbhook system
  

  Modified:
	rserv/trunk/doc/dbhook.txt (File Added) 


leeh        2006/03/16 21:28:36 UTC	(20060316_4-22177)
  Log:
  - add Id property 
  

  Modified:
	rserv/trunk/tools/dbupgrade.pl  (Property Modified)
	rserv/trunk/tools/definetolength.pl  (Property Modified)


leeh        2006/03/16 21:24:30 UTC	(20060316_3-22175)
  Log:
  - move the perl code for extracting values from defines into
    tools/definetolength.pl
  - make generate-schema.pl use definetolength.pl, and accept an 
    include path as the first argument
  - add dbupgrade.pl, which will output the list of db updates needed
    since a given release
  - update the schemas 
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/doc/generate-schema.pl (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 
	rserv/trunk/tools/dbupgrade.pl (File Added) 
	rserv/trunk/tools/definetolength.pl (File Added) 


leeh        2006/03/16 19:05:09 UTC	(20060316_2-22173)
  Log:
  - make %Q formatter handle a NULL parameter safely
  

  Modified:
	rserv/trunk/src/snprintf.c (File Modified) 


leeh        2006/03/16 19:03:05 UTC	(20060316_1-22171)
  Log:
  - add rsdb_hook_schedule(), so sql statements can be scheduled whilst a db
    hook is running
  

  Modified:
	rserv/trunk/include/dbhook.h (File Modified) 
	rserv/trunk/src/dbhook.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/16 18:48:10 UTC	(20060316_0-22169)
  Log:
  - add SETPASS hook to users_sync for setting passwords
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/15 20:53:38 UTC	(20060315_4-22163)
  Log:
  - add help files for operserv::dbsync and operserv::rehash
  

  Modified:
	rserv/trunk/help/operserv/dbsync (File Added) 
	rserv/trunk/help/operserv/index-admin (File Modified) 
	rserv/trunk/help/operserv/rehash (File Added) 
	rserv/trunk/help/operserv/u-dbsync (File Added) 


leeh        2006/03/15 20:49:31 UTC	(20060315_3-22161)
  Log:
  - make .die call HOOK_DBSYNC
  

  Modified:
	rserv/trunk/src/ucommand.c (File Modified) 


leeh        2006/03/15 20:48:13 UTC	(20060315_2-22159)
  Log:
  - add operserv::rehash
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/03/15 20:43:03 UTC	(20060315_1-22157)
  Log:
  - add HOOK_DBSYNC, which is called when anything needs a database sync with
    reality (primarily last time a username/channel was used)
  - add operserv::dbsync to force a database sync
  

  Modified:
	rserv/trunk/include/hook.h (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/15 18:54:02 UTC	(20060315_0-22155)
  Log:
  - add a userserv dbhook for registering usernames
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/14 22:26:27 UTC	(20060314_6-22153)
  Log:
  - add string_to_array_delim() which breaks a string into an array with a
    configurable delimeter, and maxpara
  

  Modified:
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/03/14 21:39:57 UTC	(20060314_5-22151)
  Log:
  - make rsdb_hook_delete() take the callback function as its argument of what
    to delete..
  

  Modified:
	rserv/trunk/include/dbhook.h (File Modified) 
	rserv/trunk/src/dbhook.c (File Modified) 


leeh        2006/03/14 21:34:18 UTC	(20060314_4-22149)
  Log:
  - remove 'field', always select 'data' instead
  

  Modified:
	rserv/trunk/include/dbhook.h (File Modified) 
	rserv/trunk/src/dbhook.c (File Modified) 


leeh        2006/03/14 21:12:27 UTC	(20060314_3-22147)
  Log:
  - add in a dbhook api
  

  Modified:
	rserv/trunk/include/dbhook.h (File Added) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/dbhook.c (File Added) 


leeh        2006/03/14 19:35:18 UTC	(20060314_2-22145)
  Log:
  - note limits on id in global::addwelcome
  

  Modified:
	rserv/trunk/help/global/addwelcome (File Modified) 


leeh        2006/03/14 19:33:37 UTC	(20060314_1-22143)
  Log:
  - add in activate/resetpass help files
  

  Modified:
	rserv/trunk/help/userserv/activate (File Added) 
	rserv/trunk/help/userserv/general (File Modified) 
	rserv/trunk/help/userserv/index (File Modified) 
	rserv/trunk/help/userserv/register (File Modified) 
	rserv/trunk/help/userserv/resetpass (File Added) 


leeh        2006/03/14 19:19:41 UTC	(20060314_0-22141)
  Log:
  - add in anjutas get_temp_time(), which accepts modifiers like "1w" for one
    week
  

  Modified:
	rserv/trunk/help/banserv/general (File Modified) 
	rserv/trunk/help/banserv/index (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/13 22:12:03 UTC	(20060313_4-22139)
  Log:
  - dont use sqlite2 db backend unless its forced
  - build sqlite3 for the packaged sqlite backend
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2006/03/13 21:57:53 UTC	(20060313_3-22137)
  Log:
  - remove the sqlite2 source
  

  Modified:
	rserv/trunk/sqlite/ (File Deleted) 


leeh        2006/03/13 21:56:29 UTC	(20060313_2-22135)
  Log:
  - remove old .cvsignore files
  

  Modified:
	rserv/trunk/.cvsignore (File Deleted) 
	rserv/trunk/help/.cvsignore (File Deleted) 
	rserv/trunk/include/.cvsignore (File Deleted) 
	rserv/trunk/src/.cvsignore (File Deleted) 


leeh        2006/03/13 21:50:20 UTC	(20060313_1-22133)
  Log:
  - update some copyrights..
  

  Modified:
	rserv/trunk/LICENSE (File Modified) 
	rserv/trunk/src/c_error.c (File Modified) 
	rserv/trunk/src/c_message.c (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/crypt.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/03/13 21:46:39 UTC	(20060313_0-22131)
  Log:
  - set Id keyword on these
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c  (Property Modified)
	rserv/trunk/src/rsdb_sqlite.c  (Property Modified)
	rserv/trunk/src/rsdb_sqlite3.c  (Property Modified)


leeh        2006/03/12 20:06:45 UTC	(20060312_18-22121)
  Log:
  - remove these unused test sources
  

  Modified:
	rserv/trunk/sqlite3/src/test1.c (File Deleted) 
	rserv/trunk/sqlite3/src/test2.c (File Deleted) 
	rserv/trunk/sqlite3/src/test3.c (File Deleted) 
	rserv/trunk/sqlite3/src/test4.c (File Deleted) 
	rserv/trunk/sqlite3/src/test5.c (File Deleted) 
	rserv/trunk/sqlite3/src/test6.c (File Deleted) 
	rserv/trunk/sqlite3/src/test7.c (File Deleted) 
	rserv/trunk/sqlite3/src/test_async.c (File Deleted) 
	rserv/trunk/sqlite3/src/test_md5.c (File Deleted) 
	rserv/trunk/sqlite3/src/test_server.c (File Deleted) 


leeh        2006/03/12 20:05:20 UTC	(20060312_17-22119)
  Log:
  - remove support for the tests
  

  Modified:
	rserv/trunk/sqlite3/Makefile.in (File Modified) 
	rserv/trunk/sqlite3/main.mk (File Modified) 
	rserv/trunk/sqlite3/test/ (File Deleted) 


leeh        2006/03/12 20:00:42 UTC	(20060312_16-22117)
  Log:
  - notes is empty
  - doc might as well be empty
  

  Modified:
	rserv/trunk/sqlite3/doc/ (File Deleted) 
	rserv/trunk/sqlite3/notes/ (File Deleted) 


leeh        2006/03/12 19:58:16 UTC	(20060312_15-22115)
  Log:
  - remove documentation
  

  Modified:
	rserv/trunk/sqlite3/Makefile.in (File Modified) 
	rserv/trunk/sqlite3/main.mk (File Modified) 
	rserv/trunk/sqlite3/www/ (File Deleted) 


leeh        2006/03/12 19:55:36 UTC	(20060312_14-22113)
  Log:
  - remove references to art/
  

  Modified:
	rserv/trunk/sqlite3/Makefile.in (File Modified) 
	rserv/trunk/sqlite3/art/ (File Deleted) 
	rserv/trunk/sqlite3/main.mk (File Modified) 


leeh        2006/03/12 19:52:24 UTC	(20060312_13-22111)
  Log:
  - remove some unneeded stuff
  

  Modified:
	rserv/trunk/sqlite3/Makefile.linux-gcc (File Deleted) 
	rserv/trunk/sqlite3/mkdll.sh (File Deleted) 
	rserv/trunk/sqlite3/publish.sh (File Deleted) 


leeh        2006/03/12 19:48:07 UTC	(20060312_12-22107)
  Log:
  - fix banserv::findkline etc ignoring permanent bans
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/12 19:39:07 UTC	(20060312_11-22105)
  Log:
  - add in the sqlite3 sources.. these need pruning
  

  Modified:
	rserv/trunk/sqlite3/ (File Added) 
	rserv/trunk/sqlite3/Makefile.in (File Added) 
	rserv/trunk/sqlite3/Makefile.linux-gcc (File Added) 
	rserv/trunk/sqlite3/README (File Added) 
	rserv/trunk/sqlite3/VERSION (File Added) 
	rserv/trunk/sqlite3/aclocal.m4 (File Added) 
	rserv/trunk/sqlite3/addopcodes.awk (File Added) 
	rserv/trunk/sqlite3/art/ (File Added) 
	rserv/trunk/sqlite3/art/2005osaward.gif (File Added) 
	rserv/trunk/sqlite3/art/SQLite.eps (File Added) 
	rserv/trunk/sqlite3/art/SQLite.gif (File Added) 
	rserv/trunk/sqlite3/art/SQLiteLogo3.tiff (File Added) 
	rserv/trunk/sqlite3/art/tmp/ (File Added) 
	rserv/trunk/sqlite3/config.guess (File Added) 
	rserv/trunk/sqlite3/config.sub (File Added) 
	rserv/trunk/sqlite3/configure (File Added) 
	rserv/trunk/sqlite3/configure.ac (File Added) 
	rserv/trunk/sqlite3/contrib/ (File Added) 
	rserv/trunk/sqlite3/contrib/sqlitecon.tcl (File Added) 
	rserv/trunk/sqlite3/doc/ (File Added) 
	rserv/trunk/sqlite3/doc/lemon.html (File Added) 
	rserv/trunk/sqlite3/doc/report1.txt (File Added) 
	rserv/trunk/sqlite3/install-sh (File Added) 
	rserv/trunk/sqlite3/ltmain.sh (File Added) 
	rserv/trunk/sqlite3/main.mk (File Added) 
	rserv/trunk/sqlite3/mkdll.sh (File Added) 
	rserv/trunk/sqlite3/mkopcodec.awk (File Added) 
	rserv/trunk/sqlite3/mkopcodeh.awk (File Added) 
	rserv/trunk/sqlite3/mkso.sh (File Added) 
	rserv/trunk/sqlite3/notes/ (File Added) 
	rserv/trunk/sqlite3/publish.sh (File Added) 
	rserv/trunk/sqlite3/spec.template (File Added) 
	rserv/trunk/sqlite3/sqlite.pc.in (File Added) 
	rserv/trunk/sqlite3/sqlite3.1 (File Added) 
	rserv/trunk/sqlite3/sqlite3.def (File Added) 
	rserv/trunk/sqlite3/sqlite3.pc.in (File Added) 
	rserv/trunk/sqlite3/src/ (File Added) 
	rserv/trunk/sqlite3/src/alter.c (File Added) 
	rserv/trunk/sqlite3/src/analyze.c (File Added) 
	rserv/trunk/sqlite3/src/attach.c (File Added) 
	rserv/trunk/sqlite3/src/auth.c (File Added) 
	rserv/trunk/sqlite3/src/btree.c (File Added) 
	rserv/trunk/sqlite3/src/btree.h (File Added) 
	rserv/trunk/sqlite3/src/build.c (File Added) 
	rserv/trunk/sqlite3/src/callback.c (File Added) 
	rserv/trunk/sqlite3/src/complete.c (File Added) 
	rserv/trunk/sqlite3/src/date.c (File Added) 
	rserv/trunk/sqlite3/src/delete.c (File Added) 
	rserv/trunk/sqlite3/src/ex/ (File Added) 
	rserv/trunk/sqlite3/src/experimental.c (File Added) 
	rserv/trunk/sqlite3/src/expr.c (File Added) 
	rserv/trunk/sqlite3/src/func.c (File Added) 
	rserv/trunk/sqlite3/src/hash.c (File Added) 
	rserv/trunk/sqlite3/src/hash.h (File Added) 
	rserv/trunk/sqlite3/src/insert.c (File Added) 
	rserv/trunk/sqlite3/src/legacy.c (File Added) 
	rserv/trunk/sqlite3/src/main.c (File Added) 
	rserv/trunk/sqlite3/src/os.c (File Added) 
	rserv/trunk/sqlite3/src/os.h (File Added) 
	rserv/trunk/sqlite3/src/os_common.h (File Added) 
	rserv/trunk/sqlite3/src/os_unix.c (File Added) 
	rserv/trunk/sqlite3/src/os_win.c (File Added) 
	rserv/trunk/sqlite3/src/pager.c (File Added) 
	rserv/trunk/sqlite3/src/pager.h (File Added) 
	rserv/trunk/sqlite3/src/parse.y (File Added) 
	rserv/trunk/sqlite3/src/pragma.c (File Added) 
	rserv/trunk/sqlite3/src/prepare.c (File Added) 
	rserv/trunk/sqlite3/src/printf.c (File Added) 
	rserv/trunk/sqlite3/src/random.c (File Added) 
	rserv/trunk/sqlite3/src/select.c (File Added) 
	rserv/trunk/sqlite3/src/shell.c (File Added) 
	rserv/trunk/sqlite3/src/sqlite.h.in (File Added) 
	rserv/trunk/sqlite3/src/sqliteInt.h (File Added) 
	rserv/trunk/sqlite3/src/table.c (File Added) 
	rserv/trunk/sqlite3/src/tclsqlite.c (File Added) 
	rserv/trunk/sqlite3/src/test1.c (File Added) 
	rserv/trunk/sqlite3/src/test2.c (File Added) 
	rserv/trunk/sqlite3/src/test3.c (File Added) 
	rserv/trunk/sqlite3/src/test4.c (File Added) 
	rserv/trunk/sqlite3/src/test5.c (File Added) 
	rserv/trunk/sqlite3/src/test6.c (File Added) 
	rserv/trunk/sqlite3/src/test7.c (File Added) 
	rserv/trunk/sqlite3/src/test_async.c (File Added) 
	rserv/trunk/sqlite3/src/test_md5.c (File Added) 
	rserv/trunk/sqlite3/src/test_server.c (File Added) 
	rserv/trunk/sqlite3/src/tokenize.c (File Added) 
	rserv/trunk/sqlite3/src/trigger.c (File Added) 
	rserv/trunk/sqlite3/src/update.c (File Added) 
	rserv/trunk/sqlite3/src/utf.c (File Added) 
	rserv/trunk/sqlite3/src/util.c (File Added) 
	rserv/trunk/sqlite3/src/vacuum.c (File Added) 
	rserv/trunk/sqlite3/src/vdbe.c (File Added) 
	rserv/trunk/sqlite3/src/vdbe.h (File Added) 
	rserv/trunk/sqlite3/src/vdbeInt.h (File Added) 
	rserv/trunk/sqlite3/src/vdbeapi.c (File Added) 
	rserv/trunk/sqlite3/src/vdbeaux.c (File Added) 
	rserv/trunk/sqlite3/src/vdbefifo.c (File Added) 
	rserv/trunk/sqlite3/src/vdbemem.c (File Added) 
	rserv/trunk/sqlite3/src/where.c (File Added) 
	rserv/trunk/sqlite3/tclinstaller.tcl (File Added) 
	rserv/trunk/sqlite3/test/ (File Added) 
	rserv/trunk/sqlite3/test/aggerror.test (File Added) 
	rserv/trunk/sqlite3/test/all.test (File Added) 
	rserv/trunk/sqlite3/test/alter.test (File Added) 
	rserv/trunk/sqlite3/test/alter2.test (File Added) 
	rserv/trunk/sqlite3/test/alter3.test (File Added) 
	rserv/trunk/sqlite3/test/altermalloc.test (File Added) 
	rserv/trunk/sqlite3/test/analyze.test (File Added) 
	rserv/trunk/sqlite3/test/async.test (File Added) 
	rserv/trunk/sqlite3/test/attach.test (File Added) 
	rserv/trunk/sqlite3/test/attach2.test (File Added) 
	rserv/trunk/sqlite3/test/attach3.test (File Added) 
	rserv/trunk/sqlite3/test/attachmalloc.test (File Added) 
	rserv/trunk/sqlite3/test/auth.test (File Added) 
	rserv/trunk/sqlite3/test/autoinc.test (File Added) 
	rserv/trunk/sqlite3/test/autovacuum.test (File Added) 
	rserv/trunk/sqlite3/test/autovacuum_crash.test (File Added) 
	rserv/trunk/sqlite3/test/autovacuum_ioerr.test (File Added) 
	rserv/trunk/sqlite3/test/autovacuum_ioerr2.test (File Added) 
	rserv/trunk/sqlite3/test/avtrans.test (File Added) 
	rserv/trunk/sqlite3/test/between.test (File Added) 
	rserv/trunk/sqlite3/test/bigfile.test (File Added) 
	rserv/trunk/sqlite3/test/bigrow.test (File Added) 
	rserv/trunk/sqlite3/test/bind.test (File Added) 
	rserv/trunk/sqlite3/test/bindxfer.test (File Added) 
	rserv/trunk/sqlite3/test/blob.test (File Added) 
	rserv/trunk/sqlite3/test/btree.test (File Added) 
	rserv/trunk/sqlite3/test/btree2.test (File Added) 
	rserv/trunk/sqlite3/test/btree4.test (File Added) 
	rserv/trunk/sqlite3/test/btree5.test (File Added) 
	rserv/trunk/sqlite3/test/btree6.test (File Added) 
	rserv/trunk/sqlite3/test/btree7.test (File Added) 
	rserv/trunk/sqlite3/test/btree8.test (File Added) 
	rserv/trunk/sqlite3/test/busy.test (File Added) 
	rserv/trunk/sqlite3/test/capi2.test (File Added) 
	rserv/trunk/sqlite3/test/capi3.test (File Added) 
	rserv/trunk/sqlite3/test/capi3b.test (File Added) 
	rserv/trunk/sqlite3/test/cast.test (File Added) 
	rserv/trunk/sqlite3/test/check.test (File Added) 
	rserv/trunk/sqlite3/test/collate1.test (File Added) 
	rserv/trunk/sqlite3/test/collate2.test (File Added) 
	rserv/trunk/sqlite3/test/collate3.test (File Added) 
	rserv/trunk/sqlite3/test/collate4.test (File Added) 
	rserv/trunk/sqlite3/test/collate5.test (File Added) 
	rserv/trunk/sqlite3/test/collate6.test (File Added) 
	rserv/trunk/sqlite3/test/colmeta.test (File Added) 
	rserv/trunk/sqlite3/test/conflict.test (File Added) 
	rserv/trunk/sqlite3/test/corrupt.test (File Added) 
	rserv/trunk/sqlite3/test/corrupt2.test (File Added) 
	rserv/trunk/sqlite3/test/crash.test (File Added) 
	rserv/trunk/sqlite3/test/date.test (File Added) 
	rserv/trunk/sqlite3/test/default.test (File Added) 
	rserv/trunk/sqlite3/test/delete.test (File Added) 
	rserv/trunk/sqlite3/test/delete2.test (File Added) 
	rserv/trunk/sqlite3/test/delete3.test (File Added) 
	rserv/trunk/sqlite3/test/descidx1.test (File Added) 
	rserv/trunk/sqlite3/test/descidx2.test (File Added) 
	rserv/trunk/sqlite3/test/descidx3.test (File Added) 
	rserv/trunk/sqlite3/test/diskfull.test (File Added) 
	rserv/trunk/sqlite3/test/distinctagg.test (File Added) 
	rserv/trunk/sqlite3/test/enc.test (File Added) 
	rserv/trunk/sqlite3/test/enc2.test (File Added) 
	rserv/trunk/sqlite3/test/enc3.test (File Added) 
	rserv/trunk/sqlite3/test/expr.test (File Added) 
	rserv/trunk/sqlite3/test/fkey1.test (File Added) 
	rserv/trunk/sqlite3/test/format4.test (File Added) 
	rserv/trunk/sqlite3/test/func.test (File Added) 
	rserv/trunk/sqlite3/test/hook.test (File Added) 
	rserv/trunk/sqlite3/test/in.test (File Added) 
	rserv/trunk/sqlite3/test/index.test (File Added) 
	rserv/trunk/sqlite3/test/index2.test (File Added) 
	rserv/trunk/sqlite3/test/index3.test (File Added) 
	rserv/trunk/sqlite3/test/insert.test (File Added) 
	rserv/trunk/sqlite3/test/insert2.test (File Added) 
	rserv/trunk/sqlite3/test/insert3.test (File Added) 
	rserv/trunk/sqlite3/test/interrupt.test (File Added) 
	rserv/trunk/sqlite3/test/intpkey.test (File Added) 
	rserv/trunk/sqlite3/test/ioerr.test (File Added) 
	rserv/trunk/sqlite3/test/join.test (File Added) 
	rserv/trunk/sqlite3/test/join2.test (File Added) 
	rserv/trunk/sqlite3/test/join3.test (File Added) 
	rserv/trunk/sqlite3/test/join4.test (File Added) 
	rserv/trunk/sqlite3/test/join5.test (File Added) 
	rserv/trunk/sqlite3/test/journal1.test (File Added) 
	rserv/trunk/sqlite3/test/lastinsert.test (File Added) 
	rserv/trunk/sqlite3/test/laststmtchanges.test (File Added) 
	rserv/trunk/sqlite3/test/like.test (File Added) 
	rserv/trunk/sqlite3/test/limit.test (File Added) 
	rserv/trunk/sqlite3/test/lock.test (File Added) 
	rserv/trunk/sqlite3/test/lock2.test (File Added) 
	rserv/trunk/sqlite3/test/lock3.test (File Added) 
	rserv/trunk/sqlite3/test/main.test (File Added) 
	rserv/trunk/sqlite3/test/malloc.test (File Added) 
	rserv/trunk/sqlite3/test/malloc2.test (File Added) 
	rserv/trunk/sqlite3/test/malloc3.test (File Added) 
	rserv/trunk/sqlite3/test/malloc4.test (File Added) 
	rserv/trunk/sqlite3/test/malloc5.test (File Added) 
	rserv/trunk/sqlite3/test/manydb.test (File Added) 
	rserv/trunk/sqlite3/test/memdb.test (File Added) 
	rserv/trunk/sqlite3/test/memleak.test (File Added) 
	rserv/trunk/sqlite3/test/minmax.test (File Added) 
	rserv/trunk/sqlite3/test/misc1.test (File Added) 
	rserv/trunk/sqlite3/test/misc2.test (File Added) 
	rserv/trunk/sqlite3/test/misc3.test (File Added) 
	rserv/trunk/sqlite3/test/misc4.test (File Added) 
	rserv/trunk/sqlite3/test/misc5.test (File Added) 
	rserv/trunk/sqlite3/test/misuse.test (File Added) 
	rserv/trunk/sqlite3/test/notnull.test (File Added) 
	rserv/trunk/sqlite3/test/null.test (File Added) 
	rserv/trunk/sqlite3/test/pager.test (File Added) 
	rserv/trunk/sqlite3/test/pager2.test (File Added) 
	rserv/trunk/sqlite3/test/pager3.test (File Added) 
	rserv/trunk/sqlite3/test/pagesize.test (File Added) 
	rserv/trunk/sqlite3/test/pragma.test (File Added) 
	rserv/trunk/sqlite3/test/printf.test (File Added) 
	rserv/trunk/sqlite3/test/progress.test (File Added) 
	rserv/trunk/sqlite3/test/quick.test (File Added) 
	rserv/trunk/sqlite3/test/quote.test (File Added) 
	rserv/trunk/sqlite3/test/reindex.test (File Added) 
	rserv/trunk/sqlite3/test/rollback.test (File Added) 
	rserv/trunk/sqlite3/test/rowid.test (File Added) 
	rserv/trunk/sqlite3/test/safety.test (File Added) 
	rserv/trunk/sqlite3/test/schema.test (File Added) 
	rserv/trunk/sqlite3/test/select1.test (File Added) 
	rserv/trunk/sqlite3/test/select2.test (File Added) 
	rserv/trunk/sqlite3/test/select3.test (File Added) 
	rserv/trunk/sqlite3/test/select4.test (File Added) 
	rserv/trunk/sqlite3/test/select5.test (File Added) 
	rserv/trunk/sqlite3/test/select6.test (File Added) 
	rserv/trunk/sqlite3/test/select7.test (File Added) 
	rserv/trunk/sqlite3/test/server1.test (File Added) 
	rserv/trunk/sqlite3/test/shared.test (File Added) 
	rserv/trunk/sqlite3/test/shared2.test (File Added) 
	rserv/trunk/sqlite3/test/shared_err.test (File Added) 
	rserv/trunk/sqlite3/test/sort.test (File Added) 
	rserv/trunk/sqlite3/test/subquery.test (File Added) 
	rserv/trunk/sqlite3/test/subselect.test (File Added) 
	rserv/trunk/sqlite3/test/sync.test (File Added) 
	rserv/trunk/sqlite3/test/table.test (File Added) 
	rserv/trunk/sqlite3/test/tableapi.test (File Added) 
	rserv/trunk/sqlite3/test/tclsqlite.test (File Added) 
	rserv/trunk/sqlite3/test/temptable.test (File Added) 
	rserv/trunk/sqlite3/test/tester.tcl (File Added) 
	rserv/trunk/sqlite3/test/thread1.test (File Added) 
	rserv/trunk/sqlite3/test/thread2.test (File Added) 
	rserv/trunk/sqlite3/test/threadtest1.c (File Added) 
	rserv/trunk/sqlite3/test/threadtest2.c (File Added) 
	rserv/trunk/sqlite3/test/tkt1435.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1443.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1444.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1449.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1473.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1501.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1512.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1514.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1536.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1537.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1567.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1644.test (File Added) 
	rserv/trunk/sqlite3/test/tkt1667.test (File Added) 
	rserv/trunk/sqlite3/test/trace.test (File Added) 
	rserv/trunk/sqlite3/test/trans.test (File Added) 
	rserv/trunk/sqlite3/test/trigger1.test (File Added) 
	rserv/trunk/sqlite3/test/trigger2.test (File Added) 
	rserv/trunk/sqlite3/test/trigger3.test (File Added) 
	rserv/trunk/sqlite3/test/trigger4.test (File Added) 
	rserv/trunk/sqlite3/test/trigger5.test (File Added) 
	rserv/trunk/sqlite3/test/trigger6.test (File Added) 
	rserv/trunk/sqlite3/test/trigger7.test (File Added) 
	rserv/trunk/sqlite3/test/types.test (File Added) 
	rserv/trunk/sqlite3/test/types2.test (File Added) 
	rserv/trunk/sqlite3/test/types3.test (File Added) 
	rserv/trunk/sqlite3/test/unique.test (File Added) 
	rserv/trunk/sqlite3/test/update.test (File Added) 
	rserv/trunk/sqlite3/test/utf16.test (File Added) 
	rserv/trunk/sqlite3/test/vacuum.test (File Added) 
	rserv/trunk/sqlite3/test/vacuum2.test (File Added) 
	rserv/trunk/sqlite3/test/varint.test (File Added) 
	rserv/trunk/sqlite3/test/view.test (File Added) 
	rserv/trunk/sqlite3/test/where.test (File Added) 
	rserv/trunk/sqlite3/test/where2.test (File Added) 
	rserv/trunk/sqlite3/test/where3.test (File Added) 
	rserv/trunk/sqlite3/tool/ (File Added) 
	rserv/trunk/sqlite3/tool/diffdb.c (File Added) 
	rserv/trunk/sqlite3/tool/lemon.c (File Added) 
	rserv/trunk/sqlite3/tool/lempar.c (File Added) 
	rserv/trunk/sqlite3/tool/memleak.awk (File Added) 
	rserv/trunk/sqlite3/tool/memleak2.awk (File Added) 
	rserv/trunk/sqlite3/tool/memleak3.tcl (File Added) 
	rserv/trunk/sqlite3/tool/mkkeywordhash.c (File Added) 
	rserv/trunk/sqlite3/tool/mkopts.tcl (File Added) 
	rserv/trunk/sqlite3/tool/omittest.tcl (File Added) 
	rserv/trunk/sqlite3/tool/opcodeDoc.awk (File Added) 
	rserv/trunk/sqlite3/tool/report1.txt (File Added) 
	rserv/trunk/sqlite3/tool/showdb.c (File Added) 
	rserv/trunk/sqlite3/tool/showjournal.c (File Added) 
	rserv/trunk/sqlite3/tool/space_used.tcl (File Added) 
	rserv/trunk/sqlite3/tool/spaceanal.tcl (File Added) 
	rserv/trunk/sqlite3/tool/speedtest.tcl (File Added) 
	rserv/trunk/sqlite3/tool/speedtest2.tcl (File Added) 
	rserv/trunk/sqlite3/www/ (File Added) 
	rserv/trunk/sqlite3/www/arch.fig (File Added) 
	rserv/trunk/sqlite3/www/arch.gif (File Added) 
	rserv/trunk/sqlite3/www/arch.png (File Added) 
	rserv/trunk/sqlite3/www/arch.tcl (File Added) 
	rserv/trunk/sqlite3/www/arch2.fig (File Added) 
	rserv/trunk/sqlite3/www/arch2.gif (File Added) 
	rserv/trunk/sqlite3/www/arch2b.fig (File Added) 
	rserv/trunk/sqlite3/www/audit.tcl (File Added) 
	rserv/trunk/sqlite3/www/autoinc.tcl (File Added) 
	rserv/trunk/sqlite3/www/c_interface.tcl (File Added) 
	rserv/trunk/sqlite3/www/capi3.tcl (File Added) 
	rserv/trunk/sqlite3/www/capi3ref.tcl (File Added) 
	rserv/trunk/sqlite3/www/changes.tcl (File Added) 
	rserv/trunk/sqlite3/www/common.tcl (File Added) 
	rserv/trunk/sqlite3/www/compile.tcl (File Added) 
	rserv/trunk/sqlite3/www/conflict.tcl (File Added) 
	rserv/trunk/sqlite3/www/copyright-release.html (File Added) 
	rserv/trunk/sqlite3/www/copyright-release.pdf (File Added) 
	rserv/trunk/sqlite3/www/copyright.tcl (File Added) 
	rserv/trunk/sqlite3/www/datatype3.tcl (File Added) 
	rserv/trunk/sqlite3/www/datatypes.tcl (File Added) 
	rserv/trunk/sqlite3/www/different.tcl (File Added) 
	rserv/trunk/sqlite3/www/direct1b.gif (File Added) 
	rserv/trunk/sqlite3/www/docs.tcl (File Added) 
	rserv/trunk/sqlite3/www/download.tcl (File Added) 
	rserv/trunk/sqlite3/www/dynload.tcl (File Added) 
	rserv/trunk/sqlite3/www/faq.tcl (File Added) 
	rserv/trunk/sqlite3/www/fileformat.tcl (File Added) 
	rserv/trunk/sqlite3/www/formatchng.tcl (File Added) 
	rserv/trunk/sqlite3/www/fullscanb.gif (File Added) 
	rserv/trunk/sqlite3/www/index-ex1-x-b.gif (File Added) 
	rserv/trunk/sqlite3/www/index.tcl (File Added) 
	rserv/trunk/sqlite3/www/indirect1b1.gif (File Added) 
	rserv/trunk/sqlite3/www/lang.tcl (File Added) 
	rserv/trunk/sqlite3/www/lockingv3.tcl (File Added) 
	rserv/trunk/sqlite3/www/mingw.tcl (File Added) 
	rserv/trunk/sqlite3/www/nulls.tcl (File Added) 
	rserv/trunk/sqlite3/www/oldnews.tcl (File Added) 
	rserv/trunk/sqlite3/www/omitted.tcl (File Added) 
	rserv/trunk/sqlite3/www/opcode.tcl (File Added) 
	rserv/trunk/sqlite3/www/optimizer.tcl (File Added) 
	rserv/trunk/sqlite3/www/optimizing.tcl (File Added) 
	rserv/trunk/sqlite3/www/optoverview.tcl (File Added) 
	rserv/trunk/sqlite3/www/pragma.tcl (File Added) 
	rserv/trunk/sqlite3/www/quickstart.tcl (File Added) 
	rserv/trunk/sqlite3/www/shared.gif (File Added) 
	rserv/trunk/sqlite3/www/sharedcache.tcl (File Added) 
	rserv/trunk/sqlite3/www/speed.tcl (File Added) 
	rserv/trunk/sqlite3/www/sqlite.tcl (File Added) 
	rserv/trunk/sqlite3/www/support.tcl (File Added) 
	rserv/trunk/sqlite3/www/table-ex1b2.gif (File Added) 
	rserv/trunk/sqlite3/www/tclsqlite.tcl (File Added) 
	rserv/trunk/sqlite3/www/vdbe.tcl (File Added) 
	rserv/trunk/sqlite3/www/version3.tcl (File Added) 
	rserv/trunk/sqlite3/www/whentouse.tcl (File Added) 


leeh        2006/03/12 19:36:09 UTC	(20060312_10-22103)
  Log:
  - add support for sqlite3 db backend
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/src/rsdb_sqlite3.c (File Added) 


leeh        2006/03/12 19:35:30 UTC	(20060312_9-22101)
  Log:
  - raise PASSWDLEN so it accomodates md5 hashes
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 


leeh        2006/03/12 17:42:25 UTC	(20060312_8-22099)
  Log:
  - update rsdb.txt with the db changes
  

  Modified:
	rserv/trunk/doc/rsdb.txt (File Modified) 


leeh        2006/03/12 17:33:51 UTC	(20060312_7-22097)
  Log:
  - add verify_token to users table
  - alter the way registration verification works, let them specify their own
    password, and just email them a token they need to use with
    USERSERV::ACTIVATE
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/12 16:10:42 UTC	(20060312_6-22091)
  Log:
  - clear any pending resetpass stuff from the db when we drop users
  - send email to parv[2] rather than reg_p->email, which doesnt exist yet
  - dont log users in when verification is needed to register
  - we should be storing crypted versions of the passwords when resetting
    passwords, not plaintext
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/12 16:08:23 UTC	(20060312_5-22089)
  Log:
  - port 22087
    - fix broken seeding of the PRNG
  

  Modified:
	rserv/trunk/src/crypt.c (File Modified) 


leeh        2006/03/12 15:22:09 UTC	(20060312_4-22085)
  Log:
  - make USERSERV::RESETPASS take a new password as the third argument,
    instead of using the one that was emailed to them.
  - in USERSERV::RESETPASS, only check can_send_email() when we actually
    need to send an email
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/12 13:51:36 UTC	(20060312_3-22083)
  Log:
  - add optional email verification for USERSERV::REGISTER, this will email
    users a password instead that they need to login with
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/12 12:44:48 UTC	(20060312_2-22081)
  Log:
  - prune changelog to purely 1.1
  

  Modified:
	rserv/trunk/ChangeLog (File Modified) 


leeh        2006/03/12 12:11:07 UTC	(20060312_1-22079)
  Log:
  - add email_number and email_duration to email {};, giving an upper limit on
    how many emails we will send in a given duration
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/email.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/12 11:38:00 UTC	(20060312_0-22077)
  Log:
  - fix include ordering so these two compile
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 


leeh        2006/03/11 23:25:53 UTC	(20060311_7-22073)
  Log:
  - handle short reads properly, we were treating a recv() of part of a line
    as an entire line, then ignoring the remainder the next time we pulled a
    line.
  
    We now store buffers for each connection and keep appending to this buffer
    until either we get a full line, or we've read BUFSIZE without a \n, at
    which point we parse.
  

  Modified:
	rserv/trunk/include/io.h (File Modified) 
	rserv/trunk/src/c_error.c (File Modified) 
	rserv/trunk/src/c_message.c (File Modified) 
	rserv/trunk/src/io.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/03/11 21:32:51 UTC	(20060311_6-22071)
  Log:
  - port 22069
    - give a warning when a users introduced on a non-existant server, rather
      than coring
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 


leeh        2006/03/11 19:52:09 UTC	(20060311_5-22067)
  Log:
  - move email configuration into its own email {}; block
  - add in disable_email = yes|no; to email {};, which will stop us ever
    sending emails.
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/11 19:35:46 UTC	(20060311_4-22065)
  Log:
  - add an event in to expire things from users_resetpass
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/11 19:30:22 UTC	(20060311_3-22063)
  Log:
  - add resetpass_duration = <time>; to userserv {};, controls how long
    resetpass requests are kept around waiting for confirmation
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/11 19:17:25 UTC	(20060311_2-22061)
  Log:
  - fix operator::user in conf parser to deal with the fact lists are now
    ordered correctly
  

  Modified:
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/03/11 18:48:10 UTC	(20060311_1-22055)
  Log:
  - the omode priv listed here is actually osmode
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 


leeh        2006/03/11 18:35:13 UTC	(20060311_0-22053)
  Log:
  - port r22051
    - fix banserv losing permanent bans
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/03/09 19:36:19 UTC	(20060309_5-22049)
  Log:
  - rework the email conf options so they take a list of quoted strings
    containing the email prog and its arguments
  - make send_email() go back to using the conf email program
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/email.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/parser.y (File Modified) 


leeh        2006/03/09 19:12:38 UTC	(20060309_4-22047)
  Log:
  - sqlite expects these to be signed..
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 


leeh        2006/03/09 18:42:54 UTC	(20060309_3-22045)
  Log:
  - add NULL terminator to the sendmail args
  

  Modified:
	rserv/trunk/src/email.c (File Modified) 


leeh        2006/03/09 18:26:33 UTC	(20060309_2-22043)
  Log:
  - update schemas with users_resetpass
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/base/schema-pgsql.txt (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 


jilles      2006/03/09 09:34:05 UTC	(20060309_1-22037)
  Log:
  Be a little more friendly to users who try to register
  a nick without a registered username.
  

  Modified:
	rserv/trunk/src/s_nickserv.c (File Modified) 


jilles      2006/03/09 09:24:21 UTC	(20060309_0-22035)
  Log:
  Bring email sending code closer to working.
  Needed to add <sys/wait.h> to stdinc.h.
  

  Modified:
	rserv/trunk/include/stdinc.h (File Modified) 
	rserv/trunk/src/email.c (File Modified) 


leeh        2006/03/08 22:27:54 UTC	(20060308_5-22033)
  Log:
  - dont use popen() when sending emails, but do the sockets ourselves
    - This code is broken, needs fixing.
  

  Modified:
	rserv/trunk/src/email.c (File Modified) 


leeh        2006/03/08 21:52:59 UTC	(20060308_4-22031)
  Log:
  - add in the mysql implementation of mysql_exec_fetch()
  - make col_count and row_count in struct rsdb_table unsigned
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/08 21:20:39 UTC	(20060308_3-22029)
  Log:
  - remove rsdb_step() and friends
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 


leeh        2006/03/08 21:19:16 UTC	(20060308_2-22027)
  Log:
  - remove usage of rsdb_step(), opting instead for rsdb_exec_fetch()
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/08 20:50:54 UTC	(20060308_1-22025)
  Log:
  - make rsdb_exec_fetch() handle no rows being returned properly
  

  Modified:
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 


leeh        2006/03/08 20:28:26 UTC	(20060308_0-22023)
  Log:
  - add in rsdb_exec_fetch(), which allocates an entire result set into memory
  - make the global code use rsdb_exec_fetch()
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 


leeh        2006/03/06 21:53:02 UTC	(20060306_4-22019)
  Log:
  - remove colnames from the db interface.. we dont use it and it will make
    pgsql easier
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/06 21:25:32 UTC	(20060306_3-22017)
  Log:
  - actually call init_crypt_seed()
  - make USERSERV::REGISTER use crypt.c stuff to generate random passwords
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/crypt.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/06 21:16:39 UTC	(20060306_2-22015)
  Log:
  - add the beginnings of USERSERV::RESETPASS, to email users a password reset
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/conf.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/06 21:16:09 UTC	(20060306_1-22013)
  Log:
  - port those crypt.c fixes over here
  

  Modified:
	rserv/trunk/src/crypt.c (File Modified) 


androsyn    2006/03/06 20:33:37 UTC	(20060306_0-22011)
  Log:
  - add postgresql schema
  - set Id tag property on schema-mysql.txt 
  
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt  (Property Modified)
	rserv/trunk/doc/base/schema-pgsql.txt (File Added) 
	rserv/trunk/doc/generate-schema.pl (File Modified) 


leeh        2006/03/05 20:22:13 UTC	(20060305_3-22001)
  Log:
  - better make this 1.1.0beta
  

  Modified:
	rserv/trunk/include/config.h (File Modified) 


leeh        2006/03/05 19:48:08 UTC	(20060305_2-21997)
  Log:
  - do welcome messages a bit differently, just have 0-5 places to store them
    and use an array
  - add GLOBAL::LISTWELCOME
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 
	rserv/trunk/help/global/addwelcome (File Modified) 
	rserv/trunk/help/global/index-admin (File Modified) 
	rserv/trunk/help/global/listwelcome (File Added) 
	rserv/trunk/help/global/u-addwelcome (File Modified) 
	rserv/trunk/help/global/u-listwelcome (File Added) 
	rserv/trunk/src/s_global.c (File Modified) 


leeh        2006/03/05 14:12:20 UTC	(20060305_1-21995)
  Log:
  - add global welcome priv to example.conf
  - update schema with global_welcome table
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Modified) 
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/doc/schema-sqlite.txt (File Modified) 


leeh        2006/03/05 14:10:06 UTC	(20060305_0-21993)
  Log:
  - add dlink_add_before(), to add a node before another one in a given list
  - add welcome messages to the global service, messages sent whenever a user
    connects to the network.
  

  Modified:
	rserv/trunk/help/global/addwelcome (File Added) 
	rserv/trunk/help/global/delwelcome (File Added) 
	rserv/trunk/help/global/general (File Modified) 
	rserv/trunk/help/global/index (File Modified) 
	rserv/trunk/help/global/index-admin (File Modified) 
	rserv/trunk/help/global/u-addwelcome (File Added) 
	rserv/trunk/help/global/u-delwelcome (File Added) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/03/04 23:48:02 UTC	(20060304_5-21991)
  Log:
  - add code for sending emails
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/include/email.h (File Added) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/email.c (File Added) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/03/04 22:10:30 UTC	(20060304_4-21989)
  Log:
  - rsdb_step() shouldnt be using a while() loop, and def shouldnt be
    returning 1 when there isnt a row left..
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/04 22:02:54 UTC	(20060304_3-21987)
  Log:
  - fix rsdb_step() so it actually works on real memory
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/04 21:53:09 UTC	(20060304_2-21985)
  Log:
  - conf parser depends on having services client pointers, so load these
    before we parse the conf.  database depends on conf, so do that after and
    then call a post init function in services.
  

  Modified:
	rserv/trunk/include/c_init.h (File Modified) 
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_alis.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_global.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/03/04 21:49:34 UTC	(20060304_1-21983)
  Log:
  - dont attempt to do anything to a channels modestrings if they dont
    actually exist
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/03/04 21:40:44 UTC	(20060304_0-21981)
  Log:
  - make configure properly follow --with-sqlitebuild
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 


leeh        2006/03/03 21:17:10 UTC	(20060303_0-21979)
  Log:
  - add in some error checking and tidy up the code a bit
  

  Modified:
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/02 21:58:56 UTC	(20060302_5-21977)
  Log:
  - port over the full vsnprintf() from ircd-ratbox, and make this die() if it
    gets a format string it cant handle
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/snprintf.c (File Added) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/03/02 21:15:34 UTC	(20060302_4-21975)
  Log:
  - remove doc/schema.txt from this Makefile.in
  

  Modified:
	rserv/trunk/Makefile.in (File Modified) 


leeh        2006/03/02 20:03:44 UTC	(20060302_3-21973)
  Log:
  - add a variety of warnings that the db tables shouldnt be modified
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 
	rserv/trunk/INSTALL.mysql (File Modified) 
	rserv/trunk/README (File Modified) 


leeh        2006/03/02 19:58:31 UTC	(20060302_2-21971)
  Log:
  - add another XXX in rsdb_mysql.c where I need to fix something
  - add in specific install files for the database backends
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 
	rserv/trunk/INSTALL.mysql (File Added) 
	rserv/trunk/INSTALL.sqlite (File Added) 
	rserv/trunk/src/rsdb_mysql.c (File Modified) 


leeh        2006/03/02 19:31:01 UTC	(20060302_1-21969)
  Log:
  - add in the mysql database backend
  - update configure so it takes --enable-mysql and --enable-sqlite to choose
    the database backend
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/rsdb_mysql.c (File Added) 


leeh        2006/03/02 16:01:34 UTC	(20060302_0-21967)
  Log:
  - make the database callbacks use (const char **)
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/03/01 22:22:47 UTC	(20060301_1-21965)
  Log:
  - add db_host too, to specify hostname to connect to
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/03/01 18:21:04 UTC	(20060301_0-21955)
  Log:
  - add in new database {}; section, to control how we connect to the backened
    database server
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/conf.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/02/28 21:59:05 UTC	(20060228_8-21949)
  Log:
  - make generate-schema.pl executable (I hope..)
  

  Modified:
	rserv/trunk/doc/generate-schema.pl  (Property Modified)


leeh        2006/02/28 21:55:10 UTC	(20060228_7-21947)
  Log:
  - add require_shortcut flag to service {};, which requires the commands come
    in over ENCAP (ie command shortcuts) rather than msg
  

  Modified:
	rserv/trunk/doc/example.conf (File Modified) 
	rserv/trunk/include/client.h (File Modified) 
	rserv/trunk/include/service.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/scommand.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 


leeh        2006/02/28 21:30:41 UTC	(20060228_6-21945)
  Log:
  - add a base mysql schema
  - add a perl script to generate the mysql schema, converting string lengths
    into actual values from macros in headers
  

  Modified:
	rserv/trunk/doc/base/schema-mysql.txt (File Added) 
	rserv/trunk/doc/generate-schema.pl (File Added) 


leeh        2006/02/28 19:42:50 UTC	(20060228_5-21943)
  Log:
  - add OPERNAMELEN, default 30, restricts how long an opers name in the
    config can be
  

  Modified:
	rserv/trunk/doc/base/ (File Added) 
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/02/28 18:26:37 UTC	(20060228_4-21933)
  Log:
  - add --with-userreglen=LENGTH to configure, to alter the maximum length of
    a registered nickname
  - prototype rsdb_init() and rsdb_shutdown() to (void)
  - fix const issue in c_mode.c
  

  Modified:
	rserv/trunk/autoconf/configure.in (File Modified) 
	rserv/trunk/configure (File Modified) 
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/include/s_userserv.h (File Modified) 
	rserv/trunk/include/setup.h.in (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 


leeh        2006/02/28 18:15:44 UTC	(20060228_3-21931)
  Log:
  - rename schema.txt to schema-sqlite.txt
  

  Modified:
	rserv/trunk/doc/schema-sqlite.txt (File Added) 
	rserv/trunk/doc/schema.txt (File Deleted) 


leeh        2006/02/28 18:15:03 UTC	(20060228_2-21929)
  Log:
  - add documentation on the db abstraction layer
  

  Modified:
	rserv/trunk/doc/rsdb.txt (File Added) 


leeh        2006/02/28 09:15:17 UTC	(20060228_1-21927)
  Log:
  - add a more robust function for checking bans are valid
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/c_mode.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 


leeh        2006/02/28 08:44:59 UTC	(20060228_0-21925)
  Log:
  - add valid_chname(), ensures length <= CHANNELLEN and the channel begins
    with '#'
  - disallow osjoin/objoin to invalid channels
  - ignore sjoins for invalid channels
  

  Modified:
	rserv/trunk/include/channel.h (File Modified) 
	rserv/trunk/src/channel.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/02/27 20:43:26 UTC	(20060227_3-21923)
  Log:
  - restrict passwords/email addys in userserv to 30/100 chars respectively
  - fix some compile errors in banserv
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/27 19:50:40 UTC	(20060227_2-21921)
  Log:
  - be more anal about what our uplink sends us for nicks/servernames, and
    enforce theyre below NICKLEN/HOSTLEN
  

  Modified:
	rserv/trunk/src/client.c (File Modified) 
	rserv/trunk/src/newconf.c (File Modified) 


leeh        2006/02/27 19:05:22 UTC	(20060227_1-21919)
  Log:
  - add length checking of channels to operbot/operserv
  

  Modified:
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 


leeh        2006/02/27 19:00:40 UTC	(20060227_0-21917)
  Log:
  - add length checking of fields to jupeserv and banserv
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 


leeh        2006/02/26 21:19:59 UTC	(20060226_4-21915)
  Log:
  - unify the things that need to be escaped in sql to '%Q'
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/26 21:16:46 UTC	(20060226_3-21913)
  Log:
  - add missing #include "rsdb.h" to tools.c
  - make sqlite wrapper use rs_vsnprintf()
  

  Modified:
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/02/26 21:13:24 UTC	(20060226_2-21911)
  Log:
  - add in rs_snprintf() and rs_vsnprintf(), custom snprintfs that handle %Q
    as a modifier, to sql escape whats contained within it
  - add rsdb_quote() sqlite implementation, to quote strings
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/include/tools.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/tools.c (File Modified) 


leeh        2006/02/26 18:31:34 UTC	(20060226_1-21909)
  Log:
  - move the single stepping select stuff over to rsdb_step*
  - remove the remaining loc_sqlite* step functions
  

  Modified:
	rserv/trunk/include/rsdb.h (File Modified) 
	rserv/trunk/src/rsdb_sqlite.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 


leeh        2006/02/26 18:13:22 UTC	(20060226_0-21907)
  Log:
  - add in missing rsdb files
  

  Modified:
	rserv/trunk/include/rsdb.h (File Added) 
	rserv/trunk/src/rsdb_sqlite.c (File Added) 


leeh        2006/02/24 11:37:42 UTC	(20060224_0-21903)
  Log:
  - add rsdb_transaction(), to deal with transactions
  - move remaining loc_sqlite_exec() over to rsdb_exec()
  - remove loc_sqlite_exec()
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/23 22:55:38 UTC	(20060223_2-21901)
  Log:
  - move the callback functions over to rsdb_exec()
  

  Modified:
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/23 22:24:05 UTC	(20060223_1-21899)
  Log:
  - move some simple loc_sqlite_exec() calls over to rsdb_exec()
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/02/23 20:32:56 UTC	(20060223_0-21897)
  Log:
  - move all the database headers into rsdb.h
  - move all the sqlite stuff into rsdb_sqlite.c
  - add in a generic rsdb_init(), rsdb_shutdown()
  - add in a generic rsdb_exec() with callback support
  

  Modified:
	rserv/trunk/include/rserv.h (File Modified) 
	rserv/trunk/src/Makefile.in (File Modified) 
	rserv/trunk/src/rserv.c (File Modified) 
	rserv/trunk/src/s_banserv.c (File Modified) 
	rserv/trunk/src/s_chanserv.c (File Modified) 
	rserv/trunk/src/s_jupeserv.c (File Modified) 
	rserv/trunk/src/s_nickserv.c (File Modified) 
	rserv/trunk/src/s_operbot.c (File Modified) 
	rserv/trunk/src/s_operserv.c (File Modified) 
	rserv/trunk/src/s_userserv.c (File Modified) 
	rserv/trunk/src/service.c (File Modified) 

