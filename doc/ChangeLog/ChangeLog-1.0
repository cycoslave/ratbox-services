leeh        2006/03/23 21:29:31 UTC	(20060323_2-22233)
  Log:
  - port r22231
    - make banserv log duration of bans
  

  Modified:
	rserv/branches/RSERV_1_0/src/s_banserv.c (File Modified) 


leeh        2006/03/23 21:15:03 UTC	(20060323_1-22229)
  Log:
  - port r22227
    - dont subtract CURRENT_TIME from permanent bans when listing them
  

  Modified:
	rserv/branches/RSERV_1_0/src/s_banserv.c (File Modified) 


leeh        2006/03/23 19:42:31 UTC	(20060323_0-22223)
  Log:
  - make banserv output "never" for permanent bans
  

  Modified:
	rserv/branches/RSERV_1_0/src/s_banserv.c (File Modified) 


leeh        2006/03/20 22:39:53 UTC	(20060320_0-22215)
  Log:
  - port r22207
    - fix core in banserv::sync if oper is not logged in
  

  Modified:
	rserv/branches/RSERV_1_0/src/s_banserv.c (File Modified) 


leeh        2006/03/13 19:53:54 UTC	(20060313_0-22123)
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.0.3
  

  Modified:
	rserv/branches/RSERV_1_0/RELEASE_NOTES (File Modified) 
	rserv/branches/RSERV_1_0/include/config.h (File Modified) 


leeh        2006/03/12 19:49:27 UTC	(20060312_1-22109)
  Log:
  - port r22107
    - fix banserv::findkline etc ignoring permanent bans
  

  Modified:
	rserv/branches/RSERV_1_0/src/s_banserv.c (File Modified) 


leeh        2006/03/12 15:47:45 UTC	(20060312_0-22087)
  Log:
  - fix broken seeding of the PRNG
  

  Modified:
	rserv/branches/RSERV_1_0/src/crypt.c (File Modified) 


leeh        2006/03/11 23:29:02 UTC	(20060311_3-22075)
  Log:
  - port r22073
    - handle short reads properly, we were treating a recv() of part of a line
      as an entire line, then ignoring the remainder the next time we pulled a
      line.
  
      We now store buffers for each connection and keep appending to this buffer
      until either we get a full line, or we've read BUFSIZE without a \n, at
      which point we parse.
  

  Modified:
	rserv/branches/RSERV_1_0/include/io.h (File Modified) 
	rserv/branches/RSERV_1_0/src/c_error.c (File Modified) 
	rserv/branches/RSERV_1_0/src/c_message.c (File Modified) 
	rserv/branches/RSERV_1_0/src/io.c (File Modified) 
	rserv/branches/RSERV_1_0/src/s_alis.c (File Modified) 
	rserv/branches/RSERV_1_0/src/s_banserv.c (File Modified) 
	rserv/branches/RSERV_1_0/src/s_global.c (File Modified) 
	rserv/branches/RSERV_1_0/src/s_nickserv.c (File Modified) 
	rserv/branches/RSERV_1_0/src/s_operbot.c (File Modified) 
	rserv/branches/RSERV_1_0/src/s_operserv.c (File Modified) 


leeh        2006/03/11 21:30:22 UTC	(20060311_2-22069)
  Log:
  - give protocol warnings when we receive a NICK from an unknown server,
    rather than coring..
  

  Modified:
	rserv/branches/RSERV_1_0/src/client.c (File Modified) 


leeh        2006/03/11 18:50:27 UTC	(20060311_1-22057)
  Log:
  - omode here should read osmode
  

  Modified:
	rserv/branches/RSERV_1_0/doc/example.conf (File Modified) 


leeh        2006/03/11 18:33:54 UTC	(20060311_0-22051)
  Log:
  - fix a bug in banserv causing it to lose permanent bans
  

  Modified:
	rserv/branches/RSERV_1_0/src/s_banserv.c (File Modified) 


leeh        2006/03/06 18:32:15 UTC	(20060306_2-22009)
  Log:
  - revved patchlevel to 1.0.2
  

  Modified:
	rserv/branches/RSERV_1_0/RELEASE_NOTES (File Modified) 
	rserv/branches/RSERV_1_0/include/config.h (File Modified) 


leeh        2006/03/06 18:27:25 UTC	(20060306_1-22007)
  Log:
  - need to call init_crypt_seed()
  - that needs to be system_time not ircd_systemtime
  

  Modified:
	rserv/branches/RSERV_1_0/include/rserv.h (File Modified) 
	rserv/branches/RSERV_1_0/src/crypt.c (File Modified) 
	rserv/branches/RSERV_1_0/src/rserv.c (File Modified) 


leeh        2006/03/06 18:24:42 UTC	(20060306_0-22005)
  Log:
  - update SVN-Access, noting the stable branch
  - fix various issues with the way we generate salts for passwords
  

  Modified:
	rserv/branches/RSERV_1_0/SVN-Access (File Modified) 
	rserv/branches/RSERV_1_0/src/crypt.c (File Modified) 


leeh        2006/02/23 20:29:57 UTC	(20060223_0-21895)
  Log:
  - copy trunk/ to branch RSERV_1_0
  

  Modified:
	rserv/branches/RSERV_1_0/ (File Added) 


leeh        2006/01/31 21:54:33 UTC	(20060131_1-21818)
  Log:
  - fix suspensions on usernames not disallowing a LOGIN on them
  

  Modified:
	rserv/trunk/src/s_userserv.c (File Modified) 


leeh        2006/01/31 20:02:06 UTC	(20060131_0-21814)
  Log:
  - banserv was testing ->flags instead of ->sflags, which broke permissions
    on permanent bans and removing stuff.
  

  Modified:
	rserv/trunk/src/s_banserv.c (File Modified) 


jilles      2006/01/09 12:51:12 UTC	(20060109_0-21606)
  Log:
  Describe necessary ircd configuration.
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 


leeh        2005/08/23 20:41:19 UTC	(20050823_1-20680)
  Log:
  - update RELNOTES
  - revved patchlevel to 1.0.1
  

  Modified:
	rserv/trunk/RELEASE_NOTES (File Modified) 
	rserv/trunk/include/config.h (File Modified) 


leeh        2005/08/23 20:31:30 UTC	(20050823_0-20678)
  Log:
  - swap CVS-Access for SVN-Access
  

  Modified:
	rserv/trunk/CVS-Access (File Deleted) 
	rserv/trunk/SVN-Access (File Added) 


leeh        2005/07/10 17:17:54 UTC	(20050710_0-20561)
  Log:
  - fix an sql statement in operserv::osjoin
  

  Modified:
	rserv/trunk/src/s_operserv.c (File Modified) 


androsyn    2005/07/07 20:45:28 UTC	(20050707_1-20540)
  Log:
  test commit
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 


androsyn    2005/07/07 20:45:28 UTC	(20050707_0-20540)
  Log:
  test commit
  

  Modified:
	rserv/trunk/INSTALL (File Modified) 


leeh        2005/06/30 21:23:57 UTC	(20050630_0)

  Modified files:
    .                    RELEASE_NOTES 
    include              config.h 
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.0
  
  Revision  Changes    Path
  1.5       +4 -1      rserv/RELEASE_NOTES
  1.30      +1 -1      rserv/include/config.h



leeh        2005/06/20 19:17:25 UTC	(20050620_0)

  Modified files:
    src                  s_userserv.c 
  Log:
  - wrap some nickserv code in #ifdef
  
  Revision  Changes    Path
  1.65      +2 -0      rserv/src/s_userserv.c



leeh        2005/06/15 16:30:34 UTC	(20050615_1)

  Modified files:
    .                    README RELEASE_NOTES 
    include              config.h 
  Log:
  - update RELEASE_NOTES
  - revved patchlevel to 1.0rc1
  
  Revision  Changes    Path
  1.6       +2 -2      rserv/README
  1.4       +18 -0     rserv/RELEASE_NOTES
  1.29      +1 -1      rserv/include/config.h



leeh        2005/06/15 15:21:40 UTC	(20050615_0)

  Modified files:
    help                 Makefile.in genindex.sh 
  Added files:
    help/banserv         findkline findresv findxline general 
                         index index-admin kline resv sync 
                         u-findkline u-findresv u-findxline 
                         u-kline u-resv u-sync u-unkline u-unresv 
                         u-unxline u-xline unkline unresv unxline 
                         xline 
  Log:
  - add banserv help
  
  Revision  Changes    Path
  1.11      +2 -2      rserv/help/Makefile.in
  1.1       +3 -0      rserv/help/banserv/findkline (new)
  1.1       +3 -0      rserv/help/banserv/findresv (new)
  1.1       +3 -0      rserv/help/banserv/findxline (new)
  1.1       +5 -0      rserv/help/banserv/general (new)
  1.1       +5 -0      rserv/help/banserv/index (new)
  1.1       +10 -0     rserv/help/banserv/index-admin (new)
  1.1       +5 -0      rserv/help/banserv/kline (new)
  1.1       +5 -0      rserv/help/banserv/resv (new)
  1.1       +4 -0      rserv/help/banserv/sync (new)
  1.1       +3 -0      rserv/help/banserv/u-findkline (new)
  1.1       +3 -0      rserv/help/banserv/u-findresv (new)
  1.1       +3 -0      rserv/help/banserv/u-findxline (new)
  1.1       +5 -0      rserv/help/banserv/u-kline (new)
  1.1       +5 -0      rserv/help/banserv/u-resv (new)
  1.1       +4 -0      rserv/help/banserv/u-sync (new)
  1.1       +3 -0      rserv/help/banserv/u-unkline (new)
  1.1       +3 -0      rserv/help/banserv/u-unresv (new)
  1.1       +3 -0      rserv/help/banserv/u-unxline (new)
  1.1       +5 -0      rserv/help/banserv/u-xline (new)
  1.1       +3 -0      rserv/help/banserv/unkline (new)
  1.1       +3 -0      rserv/help/banserv/unresv (new)
  1.1       +3 -0      rserv/help/banserv/unxline (new)
  1.1       +5 -0      rserv/help/banserv/xline (new)
  1.8       +1 -1      rserv/help/genindex.sh



leeh        2005/06/14 22:56:00 UTC	(20050614_0)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - via jilles, make chanserv::clearmodes properly update internal state
  
  Revision  Changes    Path
  1.86      +10 -4     rserv/src/s_chanserv.c



leeh        2005/06/12 22:37:03 UTC	(20050612_0)

  Modified files:
    src                  io.c 
  Log:
  - refcount oper blocks properly when we initiate the dcc to a client
  
  Revision  Changes    Path
  1.43      +1 -0      rserv/src/io.c



leeh        2005/06/11 15:36:26 UTC	(20050611_1)

  Modified files:
    src                  s_banserv.c 
  Log:
  - temp bans expire automatically on servers, we dont need to push unklines
    for them
  - added split_ban(), to split a kline into user and host
  - make unkline etc use push_unban()
  
  Revision  Changes    Path
  1.19      +54 -101   rserv/src/s_banserv.c



leeh        2005/06/11 01:52:25 UTC	(20050611_0)

  Modified files:
    src                  s_banserv.c 
  Log:
  - add findkline/findxline/findresv to banserv
  
  Revision  Changes    Path
  1.18      +66 -1     rserv/src/s_banserv.c



leeh        2005/06/06 11:46:11 UTC	(20050606_0)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  conf.c newconf.c s_banserv.c 
  Log:
  - add event to do automatic ban syncing
  
  Revision  Changes    Path
  1.47      +5 -0      rserv/doc/example.conf
  1.50      +4 -2      rserv/include/conf.h
  1.50      +1 -0      rserv/src/conf.c
  1.56      +20 -0     rserv/src/newconf.c
  1.17      +11 -1     rserv/src/s_banserv.c



leeh        2005/06/05 14:23:08 UTC	(20050605_2)

  Modified files:
    src                  conf.c 
  Log:
  - helps if I set the right variable
  
  Revision  Changes    Path
  1.49      +1 -1      rserv/src/conf.c



leeh        2005/06/05 14:21:55 UTC	(20050605_1)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  conf.c newconf.c s_banserv.c 
  Log:
  - added temp_workaround option to banserv, which causes an unkline to be
    issued before all temporary klines (etc)
  
  Revision  Changes    Path
  1.46      +15 -1     rserv/doc/example.conf
  1.49      +1 -0      rserv/include/conf.h
  1.48      +1 -0      rserv/src/conf.c
  1.55      +2 -1      rserv/src/newconf.c
  1.16      +13 -0     rserv/src/s_banserv.c



leeh        2005/06/05 00:45:53 UTC	(20050605_0)

  Modified files:
    src                  newconf.c s_banserv.c 
  Log:
  - added banserv::sync, to force a manual sync to a given server
  
  Revision  Changes    Path
  1.54      +1 -0      rserv/src/newconf.c
  1.15      +216 -35   rserv/src/s_banserv.c



leeh        2005/06/04 20:43:28 UTC	(20050604_6)

  Modified files:
    include              conf.h 
    src                  s_banserv.c s_chanserv.c s_jupeserv.c 
                         s_nickserv.c s_operbot.c s_operserv.c 
                         s_userserv.c 
  Log:
  - alter the SELECT statements so they reference columns directly
  
  Revision  Changes    Path
  1.48      +1 -0      rserv/include/conf.h
  1.14      +6 -6      rserv/src/s_banserv.c
  1.85      +10 -12    rserv/src/s_chanserv.c
  1.34      +1 -1      rserv/src/s_jupeserv.c
  1.20      +2 -4      rserv/src/s_nickserv.c
  1.39      +2 -1      rserv/src/s_operbot.c
  1.19      +2 -1      rserv/src/s_operserv.c
  1.64      +3 -4      rserv/src/s_userserv.c



leeh        2005/06/04 16:59:00 UTC	(20050604_5)

  Modified files:
    src                  s_banserv.c s_nickserv.c 
  Log:
  - via jilles, cast various time_t's to ulong
  
  Revision  Changes    Path
  1.13      +5 -3      rserv/src/s_banserv.c
  1.19      +2 -2      rserv/src/s_nickserv.c



leeh        2005/06/04 16:05:39 UTC	(20050604_4)

  Modified files:
    include              io.h log.h newconf.h rserv.h service.h 
                         stdinc.h 
    src                  event.c modebuild.c s_alis.c s_banserv.c 
                         scommand.c u_stats.c 
  Log:
  - patch via jilles to use the __attribute__ gcc stuff for checking
    printf() formatting stuff
  - fix compile warnings
  
  Revision  Changes    Path
  1.25      +4 -4      rserv/include/io.h
  1.7       +2 -2      rserv/include/log.h
  1.5       +1 -1      rserv/include/newconf.h
  1.16      +1 -1      rserv/include/rserv.h
  1.27      +4 -4      rserv/include/service.h
  1.11      +10 -0     rserv/include/stdinc.h
  1.8       +1 -1      rserv/src/event.c
  1.7       +2 -1      rserv/src/modebuild.c
  1.38      +4 -4      rserv/src/s_alis.c
  1.12      +2 -2      rserv/src/s_banserv.c
  1.35      +1 -1      rserv/src/scommand.c
  1.20      +2 -2      rserv/src/u_stats.c



leeh        2005/06/04 15:05:05 UTC	(20050604_3)

  Modified files:
    src                  s_banserv.c 
  Log:
  - pass the right letters to find_ban_remove() for xline/resv
  
  Revision  Changes    Path
  1.11      +2 -2      rserv/src/s_banserv.c



leeh        2005/06/04 12:51:04 UTC	(20050604_2)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - fix a missing parameter in chanserv::set
  
  Revision  Changes    Path
  1.84      +2 -2      rserv/src/s_chanserv.c



leeh        2005/06/04 11:14:32 UTC	(20050604_1)

  Modified files:
    src                  s_banserv.c 
  Log:
  - make unkline etc set hold time properly
  
  Revision  Changes    Path
  1.10      +9 -8      rserv/src/s_banserv.c



leeh        2005/06/04 11:12:50 UTC	(20050604_0)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  conf.c newconf.c s_banserv.c 
  Log:
  - new config option banserv::unban_time
  - added expiry of bans in banserv
  
  Revision  Changes    Path
  1.45      +5 -0      rserv/doc/example.conf
  1.47      +3 -0      rserv/include/conf.h
  1.47      +2 -0      rserv/src/conf.c
  1.53      +7 -0      rserv/src/newconf.c
  1.9       +57 -2     rserv/src/s_banserv.c



leeh        2005/06/03 20:45:48 UTC	(20050603_2)

  Modified files:
    src                  s_banserv.c 
  Log:
  - make adding klines etc use an UPDATE when theres an entry already there
    but marked as remove
  
  Revision  Changes    Path
  1.8       +64 -25    rserv/src/s_banserv.c



leeh        2005/06/03 17:14:01 UTC	(20050603_1)

  Modified files:
    doc                  schema.txt 
    src                  s_banserv.c 
  Log:
  - add remove column to operbans table
  - tie unklines etc to the database
  
  Revision  Changes    Path
  1.21      +1 -0      rserv/doc/schema.txt
  1.7       +85 -9     rserv/src/s_banserv.c



leeh        2005/06/03 11:45:42 UTC	(20050603_0)

  Modified files:
    include              rserv.h 
    src                  rserv.c s_banserv.c 
  Log:
  - introduce local version of sqlite_finalize()
  - fix find_ban() to properly finalise the compiled sql statement
  
  Revision  Changes    Path
  1.15      +1 -0      rserv/include/rserv.h
  1.56      +15 -14    rserv/src/rserv.c
  1.6       +5 -5      rserv/src/s_banserv.c



leeh        2005/06/02 23:16:07 UTC	(20050602_3)

  Modified files:
    doc                  schema.txt 
    include              rserv.h 
    src                  rserv.c s_banserv.c 
  Log:
  - introduce local versions of sqlite_compile() and sqlite_step()
  - add new operbans table to schema
  - store klines/xlines/resvs in the db.
  
  Revision  Changes    Path
  1.20      +11 -0     rserv/doc/schema.txt
  1.14      +2 -0      rserv/include/rserv.h
  1.55      +60 -0     rserv/src/rserv.c
  1.5       +69 -1     rserv/src/s_banserv.c



leeh        2005/06/02 00:24:25 UTC	(20050602_2)

  Modified files:
    src                  s_banserv.c 
  Log:
  - unkline/unxline/unresv for banserv
  
  Revision  Changes    Path
  1.4       +135 -3    rserv/src/s_banserv.c



leeh        2005/06/02 00:08:59 UTC	(20050602_1)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  newconf.c s_banserv.c 
  Log:
  - make banserv privs more finegrained
  
  Revision  Changes    Path
  1.44      +8 -5      rserv/doc/example.conf
  1.46      +24 -21    rserv/include/conf.h
  1.52      +5 -2      rserv/src/newconf.c
  1.3       +6 -6      rserv/src/s_banserv.c



leeh        2005/06/02 00:01:54 UTC	(20050602_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
  Log:
  - only show those configure options that arent defaults
  
  Revision  Changes    Path
  1.31      +10 -20    rserv/autoconf/configure.in
  1.30      +91 -101   rserv/configure



leeh        2005/06/01 23:40:33 UTC	(20050601_4)

  Modified files:
    src                  s_banserv.c 
  Log:
  - add XLINE/RESV to banserv
  
  Revision  Changes    Path
  1.2       +114 -2    rserv/src/s_banserv.c



leeh        2005/06/01 16:57:02 UTC	(20050601_3)

  Modified files:
    src                  rserv.c 
  Log:
  - remove ANFL_LAPTOP ifdefs
  
  Revision  Changes    Path
  1.54      +0 -10     rserv/src/rserv.c



leeh        2005/06/01 16:55:55 UTC	(20050601_2)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    doc                  example.conf 
    include              c_init.h conf.h setup.h.in 
    src                  Makefile.in newconf.c rserv.c 
  Added files:
    src                  s_banserv.c 
  Log:
  - beginnings of a ban service, the autoconf stuff and basic service, conf
    options and ability to issue klines
  
  Revision  Changes    Path
  1.30      +17 -0     rserv/autoconf/configure.in
  1.29      +118 -89   rserv/configure
  1.43      +23 -0     rserv/doc/example.conf
  1.19      +5 -13     rserv/include/c_init.h
  1.45      +3 -0      rserv/include/conf.h
  1.14      +3 -0      rserv/include/setup.h.in
  1.36      +2 -2      rserv/src/Makefile.in
  1.51      +14 -0     rserv/src/newconf.c
  1.53      +3 -0      rserv/src/rserv.c
  1.1       +169 -0    rserv/src/s_banserv.c (new)



androsyn    2005/06/01 07:07:47 UTC	(20050601_1)

  Modified files:
    doc                  schema.txt 
  Log:
  Using the TIMESTAMP type in the schema here isn't really standard SQL as
  TIMESTAMP doesn't mean a unix timestamp.  For our purposes using INTEGER
  is the approriate data type.  Using TIMESTAMP on sqlite works because
  sqlite doesn't actually enforce any data types, where as a database like
  mysql or postgresql does enforce this.
  
  Revision  Changes    Path
  1.19      +10 -10    rserv/doc/schema.txt



androsyn    2005/06/01 06:41:40 UTC	(20050601_0)

  Modified files:
    src                  s_chanserv.c s_jupeserv.c s_operbot.c 
                         s_operserv.c 
  Log:
  /me beats lee over the head with a sql92 manual.  Column names in INSERT's
  are a must ;)
  
  Revision  Changes    Path
  1.83      +4 -2      rserv/src/s_chanserv.c
  1.33      +2 -2      rserv/src/s_jupeserv.c
  1.38      +1 -1      rserv/src/s_operbot.c
  1.18      +1 -1      rserv/src/s_operserv.c



leeh        2005/05/25 13:25:01 UTC	(20050525_0)

  Modified files:
    src                  s_jupeserv.c 
  Log:
  - via sjk, fix server/host ordering on jupe notices
  
  Revision  Changes    Path
  1.32      +4 -4      rserv/src/s_jupeserv.c



leeh        2005/05/23 15:01:31 UTC	(20050523_7)

  Modified files:
    .                    RELEASE_NOTES 
    include              config.h 
  Log:
  - revved patchlevel to 1.0beta3
  
  Revision  Changes    Path
  1.3       +36 -0     rserv/RELEASE_NOTES
  1.28      +1 -1      rserv/include/config.h



leeh        2005/05/23 14:43:02 UTC	(20050523_6)

  Modified files:
    help                 Makefile.in 
    include              service.h ucommand.h 
    src                  rserv.c service.c ucommand.c 
  Added files:
    help/global          u-netmsg 
    help/main            u-rehash 
  Log:
  - add global to help makefile, add u-global, add u-rehash
  - add .rehash help/SIGUSR1 to reload help
  
  Revision  Changes    Path
  1.10      +2 -2      rserv/help/Makefile.in
  1.1       +3 -0      rserv/help/global/u-netmsg (new)
  1.1       +3 -0      rserv/help/main/u-rehash (new)
  1.26      +2 -0      rserv/include/service.h
  1.13      +2 -2      rserv/include/ucommand.h
  1.52      +22 -2     rserv/src/rserv.c
  1.54      +115 -33   rserv/src/service.c
  1.34      +16 -19    rserv/src/ucommand.c



leeh        2005/05/23 13:43:51 UTC	(20050523_5)

  Modified files:
    help                 genindex.sh 
    help/alis            index 
    help/chanserv        index 
    help/jupeserv        index 
    help/nickserv        index release 
    help/operbot         index 
    help/userserv        index 
    src                  service.c 
  Added files:
    help/alis            general 
    help/chanserv        general 
    help/global          general index index-admin netmsg 
    help/jupeserv        general 
    help/nickserv        general 
    help/operbot         general 
    help/operserv        general index 
    help/userserv        general 
  Log:
  - via jilles, add short introductions to help indexes and helpfiles for
    global service
  
  Revision  Changes    Path
  1.1       +2 -0      rserv/help/alis/general (new)
  1.2       +2 -0      rserv/help/alis/index
  1.1       +4 -0      rserv/help/chanserv/general (new)
  1.8       +4 -0      rserv/help/chanserv/index
  1.7       +5 -1      rserv/help/genindex.sh
  1.1       +2 -0      rserv/help/global/general (new)
  1.1       +2 -0      rserv/help/global/index (new)
  1.1       +1 -0      rserv/help/global/index-admin (new)
  1.1       +3 -0      rserv/help/global/netmsg (new)
  1.1       +4 -0      rserv/help/jupeserv/general (new)
  1.2       +4 -0      rserv/help/jupeserv/index
  1.1       +5 -0      rserv/help/nickserv/general (new)
  1.5       +6 -1      rserv/help/nickserv/index
  1.2       +1 -1      rserv/help/nickserv/release
  1.1       +2 -0      rserv/help/operbot/general (new)
  1.2       +2 -0      rserv/help/operbot/index
  1.1       +2 -0      rserv/help/operserv/general (new)
  1.1       +2 -0      rserv/help/operserv/index (new)
  1.1       +3 -0      rserv/help/userserv/general (new)
  1.6       +3 -0      rserv/help/userserv/index
  1.53      +1 -1      rserv/src/service.c



leeh        2005/05/23 13:41:16 UTC	(20050523_4)

  rserv/help/global - New directory



leeh        2005/05/23 12:01:46 UTC	(20050523_3)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              setup.h.in 
    src                  rserv.c 
  Log:
  - fix build when compiling sqlite, to use the local sqlite.h
  
  Revision  Changes    Path
  1.29      +11 -11    rserv/autoconf/configure.in
  1.28      +14 -12    rserv/configure
  1.13      +3 -0      rserv/include/setup.h.in
  1.51      +7 -1      rserv/src/rserv.c



leeh        2005/05/23 11:14:58 UTC	(20050523_2)

  Modified files:
    include              client.h 
    src                  c_mode.c client.c newconf.c u_stats.c 
  Log:
  - fix some errors when compiling with -pedantic
  
  Revision  Changes    Path
  1.44      +1 -1      rserv/include/client.h
  1.36      +1 -1      rserv/src/c_mode.c
  1.40      +1 -1      rserv/src/client.c
  1.50      +1 -1      rserv/src/newconf.c
  1.19      +1 -1      rserv/src/u_stats.c



leeh        2005/05/23 11:09:16 UTC	(20050523_1)

  Modified files:
    include              tools.h 
    src                  balloc.c c_mode.c io.c tools.c 
  Log:
  - rename inline hints to __inline
  - remove an invalid fd_open() call
  - change u_char to unsigned char
  
  Revision  Changes    Path
  1.21      +1 -1      rserv/include/tools.h
  1.9       +2 -3      rserv/src/balloc.c
  1.35      +3 -3      rserv/src/c_mode.c
  1.42      +1 -1      rserv/src/io.c
  1.18      +1 -1      rserv/src/tools.c



leeh        2005/05/23 10:46:45 UTC	(20050523_0)

  Modified files:
    .                    INSTALL configure 
    autoconf             configure.in 
  Log:
  - add --with-sqlitebuild option to configure, to forcibly build sqlite.
  - tidy up INSTALL
  
  Revision  Changes    Path
  1.14      +25 -13    rserv/INSTALL
  1.28      +17 -4     rserv/autoconf/configure.in
  1.27      +114 -93   rserv/configure



leeh        2005/05/18 14:31:19 UTC	(20050518_2)

  Modified files:
    tools                ircd-shortcut.pl 
  Log:
  - make ircd shortcuts give numeric 440 when services arent linked.
  
  Revision  Changes    Path
  1.2       +10 -0     rserv/tools/ircd-shortcut.pl



leeh        2005/05/18 00:33:18 UTC	(20050518_1)

  Modified files:
    .                    INSTALL Makefile.in 
  Added files:
    tools                ircd-shortcut.pl 
  Log:
  - add my ircd shortcut generator
  
  Revision  Changes    Path
  1.13      +4 -0      rserv/INSTALL
  1.12      +4 -1      rserv/Makefile.in
  1.1       +148 -0    rserv/tools/ircd-shortcut.pl (new)



leeh        2005/05/18 00:29:14 UTC	(20050518_0)

  rserv/tools - New directory



leeh        2005/05/17 23:22:11 UTC	(20050517_2)

  Modified files:
    include              service.h 
    src                  c_message.c scommand.c service.c 
  Log:
  - add support for receiving messages over ENCAP, via "RSMSG"
  
  Revision  Changes    Path
  1.25      +3 -1      rserv/include/service.h
  1.20      +1 -1      rserv/src/c_message.c
  1.34      +12 -0     rserv/src/scommand.c
  1.52      +23 -14    rserv/src/service.c



leeh        2005/05/17 13:35:33 UTC	(20050517_1)

  Modified files:
    .                    Makefile.in 
    help                 Makefile.in 
  Log:
  - via <rse@engelschall.com>,
    - support DESTDIR make variable for package managers
  
  Revision  Changes    Path
  1.11      +10 -10    rserv/Makefile.in
  1.9       +4 -4      rserv/help/Makefile.in



leeh        2005/05/17 13:30:37 UTC	(20050517_0)

  Modified files:
    include              conf.h ucommand.h 
    src                  s_chanserv.c s_global.c s_jupeserv.c 
                         s_nickserv.c s_operbot.c s_operserv.c 
                         s_userserv.c u_stats.c ucommand.c 
  Log:
  - fix oper privs over dcc
  
  Revision  Changes    Path
  1.44      +2 -2      rserv/include/conf.h
  1.12      +2 -1      rserv/include/ucommand.h
  1.82      +7 -7      rserv/src/s_chanserv.c
  1.16      +2 -2      rserv/src/s_global.c
  1.31      +3 -3      rserv/src/s_jupeserv.c
  1.18      +2 -2      rserv/src/s_nickserv.c
  1.37      +3 -3      rserv/src/s_operbot.c
  1.17      +5 -5      rserv/src/s_operserv.c
  1.63      +8 -8      rserv/src/s_userserv.c
  1.18      +1 -1      rserv/src/u_stats.c
  1.33      +27 -21    rserv/src/ucommand.c



leeh        2005/05/15 22:24:47 UTC	(20050515_0)

  rserv/help/banserv - New directory



leeh        2005/05/13 17:45:14 UTC	(20050513_0)

  Modified files:
    src                  log.c 
  Log:
  - via jilles, fix per-service logfiles
  
  Revision  Changes    Path
  1.13      +1 -1      rserv/src/log.c



leeh        2005/05/12 22:41:51 UTC	(20050512_3)

  Modified files:
    doc                  example.conf 
    include              conf.h io.h 
    src                  conf.c newconf.c s_chanserv.c s_global.c 
                         s_jupeserv.c s_nickserv.c s_operbot.c 
                         s_operserv.c s_userserv.c service.c 
                         ucommand.c 
  Log:
  - made the service privs rather more fine grained.  each service now has its
    own config option which sets specific flags for that service.
  
    ive temporarily broken privs for dcc'd clients.
  
  Revision  Changes    Path
  1.42      +52 -8     rserv/doc/example.conf
  1.43      +34 -26    rserv/include/conf.h
  1.24      +1 -0      rserv/include/io.h
  1.46      +2 -0      rserv/src/conf.c
  1.49      +109 -14   rserv/src/newconf.c
  1.81      +12 -12    rserv/src/s_chanserv.c
  1.15      +2 -2      rserv/src/s_global.c
  1.30      +4 -4      rserv/src/s_jupeserv.c
  1.17      +2 -2      rserv/src/s_nickserv.c
  1.36      +4 -4      rserv/src/s_operbot.c
  1.16      +8 -8      rserv/src/s_operserv.c
  1.62      +14 -13    rserv/src/s_userserv.c
  1.51      +1 -1      rserv/src/service.c
  1.32      +1 -0      rserv/src/ucommand.c



leeh        2005/05/12 21:39:33 UTC	(20050512_2)

  Modified files:
    .                    INSTALL Makefile.in configure 
    autoconf             configure.in 
    help                 Makefile.in 
    include              config.h 
    sqlite               Makefile.in 
    src                  Makefile.in log.c service.c ucommand.c 
  Log:
  - move over to a "proper" directory structure.
    Config files are now in PREFIX/etc (or sysconfdir, etc), and called
    ratbox-services.conf and ratbox-service.db
  
    Other stuff is in the appropriate places.
  
  Revision  Changes    Path
  1.12      +2 -2      rserv/INSTALL
  1.10      +20 -7     rserv/Makefile.in
  1.27      +16 -0     rserv/autoconf/configure.in
  1.26      +129 -89   rserv/configure
  1.8       +6 -5      rserv/help/Makefile.in
  1.27      +5 -8      rserv/include/config.h
  1.5       +1 -0      rserv/sqlite/Makefile.in
  1.35      +11 -3     rserv/src/Makefile.in
  1.12      +1 -1      rserv/src/log.c
  1.50      +3 -3      rserv/src/service.c
  1.31      +1 -1      rserv/src/ucommand.c



leeh        2005/05/12 19:16:41 UTC	(20050512_1)

  Modified files:
    help/chanserv        chanlist index-admin 
    help/nickserv        index 
    help/userserv        index-admin 
    src                  s_chanserv.c s_userserv.c 
  Added files:
    help/userserv        userlist 
  Log:
  - initialise buflen to 0, and s/last_time/reg_time in chanserv::chanlist
  - add userserv::userlist
  - regenerate help index
  
  Revision  Changes    Path
  1.2       +2 -2      rserv/help/chanserv/chanlist
  1.6       +1 -0      rserv/help/chanserv/index-admin
  1.4       +3 -1      rserv/help/nickserv/index
  1.6       +1 -0      rserv/help/userserv/index-admin
  1.1       +6 -0      rserv/help/userserv/userlist (new)
  1.80      +2 -2      rserv/src/s_chanserv.c
  1.61      +124 -1    rserv/src/s_userserv.c



leeh        2005/05/12 17:13:15 UTC	(20050512_0)

  Modified files:
    include              tools.h 
    src                  s_chanserv.c tools.c 
  Added files:
    help/chanserv        chanlist 
  Log:
  - add get_short_duration(), returning simply days/hours
  - add CHANSERV::CHANLIST, lists registered channels.
  
  Revision  Changes    Path
  1.1       +6 -0      rserv/help/chanserv/chanlist (new)
  1.20      +1 -0      rserv/include/tools.h
  1.79      +123 -0    rserv/src/s_chanserv.c
  1.17      +15 -0     rserv/src/tools.c



leeh        2005/05/11 22:23:44 UTC	(20050511_5)

  Modified files:
    src                  s_nickserv.c 
  Log:
  - add users current tsinfo to RSFNC
  
  Revision  Changes    Path
  1.16      +3 -2      rserv/src/s_nickserv.c



leeh        2005/05/11 13:26:30 UTC	(20050511_4)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - move tsinfo and lasttime updates into their own event which uses a
    transaction.
  - dont schedule a tsinfo update unless autojoin is enabled and the TS
    is actually different.
  
  Revision  Changes    Path
  1.78      +39 -12    rserv/src/s_chanserv.c



leeh        2005/05/11 13:01:29 UTC	(20050511_3)

  Modified files:
    help/chanserv        adduser 
    src                  s_chanserv.c 
  Log:
  - via jilles, patch to allow setting of autoop/voice status in ADDUSER
  
  Revision  Changes    Path
  1.5       +2 -1      rserv/help/chanserv/adduser
  1.77      +38 -12    rserv/src/s_chanserv.c



leeh        2005/05/11 12:55:09 UTC	(20050511_2)

  Modified files:
    src                  s_nickserv.c 
  Log:
  - make the error message when server doesnt support RSFNC "your server"
    rather than the actual server.
  
  Revision  Changes    Path
  1.15      +2 -2      rserv/src/s_nickserv.c



leeh        2005/05/11 12:53:16 UTC	(20050511_1)

  Modified files:
    help/nickserv        regain 
    src                  s_nickserv.c 
  Added files:
    help/nickserv        release 
  Log:
  - renamed NS::REGAIN to NS::RELEASE
  - added new NS::RELEASE, which issues a FNC if it can.
  
  Revision  Changes    Path
  1.2       +2 -2      rserv/help/nickserv/regain
  1.1       +3 -0      rserv/help/nickserv/release (new)
  1.14      +66 -2     rserv/src/s_nickserv.c



leeh        2005/05/11 12:38:46 UTC	(20050511_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              setup.h.in 
  Log:
  - via rse@engelschall.com:
    - check for socket() in -lsocket and gethostbyname() in -lnsl
  
  Revision  Changes    Path
  1.26      +2 -0      rserv/autoconf/configure.in
  1.25      +115 -21   rserv/configure
  1.12      +5 -2      rserv/include/setup.h.in



leeh        2005/05/07 13:48:52 UTC	(20050507_0)

  Modified files:
    include              client.h io.h 
    src                  client.c scommand.c 
  Log:
  - start accepting GCAP via ENCAP, and hunting for "RSFNC" capability.
  
  Revision  Changes    Path
  1.43      +1 -0      rserv/include/client.h
  1.23      +14 -12    rserv/include/io.h
  1.39      +6 -0      rserv/src/client.c
  1.33      +14 -0     rserv/src/scommand.c



leeh        2005/05/06 23:09:04 UTC	(20050506_5)

  Modified files:
    src                  s_nickserv.c s_userserv.c 
  Log:
  - s/continue/return 0
  - make userserv::userinfo return email address
  
  Revision  Changes    Path
  1.13      +1 -1      rserv/src/s_nickserv.c
  1.60      +5 -0      rserv/src/s_userserv.c



leeh        2005/05/06 23:00:27 UTC	(20050506_4)

  Modified files:
    src                  s_nickserv.c 
  Log:
  - s/target_p/client_p
  
  Revision  Changes    Path
  1.12      +1 -1      rserv/src/s_nickserv.c



leeh        2005/05/06 22:57:38 UTC	(20050506_3)

  Modified files:
    src                  s_nickserv.c 
  Log:
  - dont warn logged in users changing between their registered nicks
  
  Revision  Changes    Path
  1.11      +4 -0      rserv/src/s_nickserv.c



leeh        2005/05/06 22:26:47 UTC	(20050506_2)

  Modified files:
    doc                  example.conf 
    include              conf.h hook.h 
    src                  client.c conf.c newconf.c s_nickserv.c 
                         scommand.c 
  Log:
  - finish off the nickserv warnings
  
  Revision  Changes    Path
  1.41      +5 -0      rserv/doc/example.conf
  1.42      +1 -0      rserv/include/conf.h
  1.9       +6 -1      rserv/include/hook.h
  1.38      +5 -0      rserv/src/client.c
  1.45      +5 -0      rserv/src/conf.c
  1.48      +1 -0      rserv/src/newconf.c
  1.10      +57 -0     rserv/src/s_nickserv.c
  1.32      +5 -1      rserv/src/scommand.c



leeh        2005/05/06 21:51:25 UTC	(20050506_1)

  Modified files:
    doc                  example.conf 
    include              conf.h s_nickserv.h 
    src                  newconf.c s_nickserv.c 
  Added files:
    help/nickserv        set 
  Log:
  - added nickserv::set
  - added nickserv::set::warn, prelim work for warning users when they use
    a registered nickname
  
  Revision  Changes    Path
  1.40      +6 -0      rserv/doc/example.conf
  1.1       +4 -0      rserv/help/nickserv/set (new)
  1.41      +1 -0      rserv/include/conf.h
  1.3       +1 -0      rserv/include/s_nickserv.h
  1.47      +1 -0      rserv/src/newconf.c
  1.9       +86 -0     rserv/src/s_nickserv.c



leeh        2005/05/06 14:45:48 UTC	(20050506_0)

  Modified files:
    src                  io.c 
  Log:
  - via jilles
    - fix a core when exiting dcc clients due to a read/write error
  
  Revision  Changes    Path
  1.41      +6 -2      rserv/src/io.c



leeh        2005/05/03 10:55:58 UTC	(20050503_0)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - add missing %s when displaying channel flags
  
  Revision  Changes    Path
  1.76      +1 -1      rserv/src/s_chanserv.c



leeh        2005/05/02 22:57:37 UTC	(20050502_0)

  Modified files:
    help/chanserv        set 
    include              s_chanserv.h 
    src                  s_chanserv.c 
  Log:
  - added CHANSERV::SET::NOVOICECMD to disable CHANSERV::VOICE on a channel
  
  Revision  Changes    Path
  1.9       +1 -0      rserv/help/chanserv/set
  1.27      +2 -1      rserv/include/s_chanserv.h
  1.75      +13 -0     rserv/src/s_chanserv.c



leeh        2005/05/01 16:12:08 UTC	(20050501_0)

  Modified files:
    .                    RELEASE_NOTES 
    include              config.h 
  Log:
  - revved patchlevel to 1.0beta2
  
  Revision  Changes    Path
  1.2       +4 -2      rserv/RELEASE_NOTES
  1.26      +1 -1      rserv/include/config.h



leeh        2005/04/30 13:18:00 UTC	(20050430_1)

  Modified files:
    src                  s_alis.c 
  Log:
  - via jilles,
    - list #channel (without wildcards) didn't show +p-s channels
    - maxmatches counted all channels instead of just matching ones
  
  Revision  Changes    Path
  1.37      +7 -9      rserv/src/s_alis.c



leeh        2005/04/30 12:42:43 UTC	(20050430_0)

  Modified files:
    .                    INSTALL 
    doc                  example.conf 
  Log:
  - update INSTALL
  - add missing ';' on nickserv block
  
  Revision  Changes    Path
  1.11      +11 -6     rserv/INSTALL
  1.39      +2 -1      rserv/doc/example.conf



leeh        2005/04/29 03:05:19 UTC	(20050429_3)

  Modified files:
    .                    INSTALL 
  Added files:
    sqlite               README_RATBOX 
  Log:
  - add a README_RATBOX to sqlite/
  - note the sqlite included here isnt suitable for being installed system
    wide.
  
  Revision  Changes    Path
  1.10      +2 -1      rserv/INSTALL
  1.1       +14 -0     rserv/sqlite/README_RATBOX (new)



leeh        2005/04/29 02:43:27 UTC	(20050429_2)

  Removed files:
    sqlite               aclocal.m4 
  Log:
  - remove seemingly unneeded aclocal.m4
  
  Revision  Changes    Path
  1.2       +0 -5913   rserv/sqlite/aclocal.m4 (dead)



leeh        2005/04/29 02:41:36 UTC	(20050429_1)

  Modified files:
    sqlite               Makefile.in 
  Removed files:
    sqlite               ltmain.sh 
  Log:
  - remove ltmain.sh
  - stop installing libsqlite.a and sqlite.h, they dont really help.
  
  Revision  Changes    Path
  1.4       +7 -6      rserv/sqlite/Makefile.in
  1.2       +0 -6399   rserv/sqlite/ltmain.sh (dead)



leeh        2005/04/29 02:38:22 UTC	(20050429_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    sqlite               Makefile.in configure configure.ac 
  Log:
  - remove libtool from sqlite.  we only ever generate static library now
  
  Revision  Changes      Path
  1.25      +1 -1        rserv/autoconf/configure.in
  1.24      +1 -1        rserv/configure
  1.3       +87 -110     rserv/sqlite/Makefile.in
  1.4       +974 -17147  rserv/sqlite/configure
  1.4       +6 -19       rserv/sqlite/configure.ac



leeh        2005/04/28 18:57:50 UTC	(20050428_8)

  Modified files:
    src                  s_operserv.c 
  Log:
  - when doing OPERSERV::TAKEOVER, reop any services already in the channel
  
  Revision  Changes    Path
  1.15      +19 -0     rserv/src/s_operserv.c



leeh        2005/04/28 14:11:20 UTC	(20050428_7)

  Modified files:
    sqlite               configure configure.ac 
  Log:
  - set sqlite default prefix to /usr/local/ratbox-services
  
  Revision  Changes    Path
  1.3       +33 -30    rserv/sqlite/configure
  1.3       +5 -3      rserv/sqlite/configure.ac



leeh        2005/04/28 13:59:11 UTC	(20050428_6)

  Modified files:
    .                    README 
  Added files:
    .                    RELEASE_NOTES 
  Log:
  - added RELEASE_NOTES
  
  Revision  Changes    Path
  1.5       +5 -0      rserv/README
  1.1       +33 -0     rserv/RELEASE_NOTES (new)



leeh        2005/04/28 13:37:03 UTC	(20050428_5)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - fix autovoice with novoices
  
  Revision  Changes    Path
  1.74      +4 -2      rserv/src/s_chanserv.c



leeh        2005/04/28 13:26:54 UTC	(20050428_4)

  Modified files:
    sqlite               Makefile.in configure configure.ac 
  Log:
  - move some stuff out of sqlite Makefile and into autoconf, this should make
    us compatible with bsd-make
  
  Revision  Changes    Path
  1.2       +8 -8      rserv/sqlite/Makefile.in
  1.2       +16 -2     rserv/sqlite/configure
  1.2       +14 -2     rserv/sqlite/configure.ac



leeh        2005/04/28 12:54:41 UTC	(20050428_3)

  Modified files:
    .                    Makefile.in 
  Log:
  - stop typing everything down to make, use whatever they ran.
  
  Revision  Changes    Path
  1.9       +2 -2      rserv/Makefile.in



leeh        2005/04/28 01:56:39 UTC	(20050428_2)

  Modified files:
    .                    INSTALL 
  Log:
  - update INSTALL wrt sqlite
  
  Revision  Changes    Path
  1.9       +13 -33    rserv/INSTALL



leeh        2005/04/28 01:46:12 UTC	(20050428_1)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
    help                 Makefile.in 
    src                  Makefile.in 
  Log:
  - added in the autoconf bollocks to deal with building sqlite.
  
  Revision  Changes    Path
  1.8       +3 -3      rserv/Makefile.in
  1.24      +33 -7     rserv/autoconf/configure.in
  1.23      +139 -21   rserv/configure
  1.7       +2 -1      rserv/help/Makefile.in
  1.34      +3 -2      rserv/src/Makefile.in



leeh        2005/04/28 00:41:55 UTC	(20050428_0)

  Added files:
    sqlite               Makefile.in README VERSION aclocal.m4 
                         config.guess config.sub configure 
                         configure.ac install-sh lemon.html 
                         ltmain.sh main.mk spec.template sqlite.1 
                         sqlite.def sqlite.pc.in 
    sqlite/src           attach.c auth.c btree.c btree.h 
                         btree_rb.c build.c copy.c date.c delete.c 
                         encode.c expr.c func.c hash.c hash.h 
                         insert.c main.c md5.c os.c os.h pager.c 
                         pager.h parse.y pragma.c printf.c 
                         random.c select.c shell.c sqlite.h.in 
                         sqliteInt.h table.c tokenize.c trigger.c 
                         update.c util.c vacuum.c vdbe.c vdbe.h 
                         vdbeInt.h vdbeaux.c where.c 
    sqlite/tool          lemon.c lempar.c 
  Log:
  - pull in the sqlite sources
  
  Revision  Changes    Path
  1.1       +366 -0    rserv/sqlite/Makefile.in (new)
  1.1       +39 -0     rserv/sqlite/README (new)
  1.1       +1 -0      rserv/sqlite/VERSION (new)
  1.1       +5913 -0   rserv/sqlite/aclocal.m4 (new)
  1.1       +1432 -0   rserv/sqlite/config.guess (new)
  1.1       +1537 -0   rserv/sqlite/config.sub (new)
  1.1       +21007 -0  rserv/sqlite/configure (new)
  1.1       +486 -0    rserv/sqlite/configure.ac (new)
  1.1       +251 -0    rserv/sqlite/install-sh (new)
  1.1       +892 -0    rserv/sqlite/lemon.html (new)
  1.1       +6399 -0   rserv/sqlite/ltmain.sh (new)
  1.1       +306 -0    rserv/sqlite/main.mk (new)
  1.1       +62 -0     rserv/sqlite/spec.template (new)
  1.1       +203 -0    rserv/sqlite/sqlite.1 (new)
  1.1       +45 -0     rserv/sqlite/sqlite.def (new)
  1.1       +13 -0     rserv/sqlite/sqlite.pc.in (new)
  1.1       +311 -0    rserv/sqlite/src/attach.c (new)
  1.1       +219 -0    rserv/sqlite/src/auth.c (new)
  1.1       +3584 -0   rserv/sqlite/src/btree.c (new)
  1.1       +156 -0    rserv/sqlite/src/btree.h (new)
  1.1       +1488 -0   rserv/sqlite/src/btree_rb.c (new)
  1.1       +2156 -0   rserv/sqlite/src/build.c (new)
  1.1       +110 -0    rserv/sqlite/src/copy.c (new)
  1.1       +875 -0    rserv/sqlite/src/date.c (new)
  1.1       +393 -0    rserv/sqlite/src/delete.c (new)
  1.1       +254 -0    rserv/sqlite/src/encode.c (new)
  1.1       +1662 -0   rserv/sqlite/src/expr.c (new)
  1.1       +658 -0    rserv/sqlite/src/func.c (new)
  1.1       +356 -0    rserv/sqlite/src/hash.c (new)
  1.1       +109 -0    rserv/sqlite/src/hash.h (new)
  1.1       +919 -0    rserv/sqlite/src/insert.c (new)
  1.1       +1143 -0   rserv/sqlite/src/main.c (new)
  1.1       +386 -0    rserv/sqlite/src/md5.c (new)
  1.1       +1850 -0   rserv/sqlite/src/os.c (new)
  1.1       +192 -0    rserv/sqlite/src/os.h (new)
  1.1       +2220 -0   rserv/sqlite/src/pager.c (new)
  1.1       +107 -0    rserv/sqlite/src/pager.h (new)
  1.1       +897 -0    rserv/sqlite/src/parse.y (new)
  1.1       +712 -0    rserv/sqlite/src/pragma.c (new)
  1.1       +859 -0    rserv/sqlite/src/printf.c (new)
  1.1       +97 -0     rserv/sqlite/src/random.c (new)
  1.1       +2434 -0   rserv/sqlite/src/select.c (new)
  1.1       +1354 -0   rserv/sqlite/src/shell.c (new)
  1.1       +886 -0    rserv/sqlite/src/sqlite.h.in (new)
  1.1       +1270 -0   rserv/sqlite/src/sqliteInt.h (new)
  1.1       +204 -0    rserv/sqlite/src/table.c (new)
  1.1       +679 -0    rserv/sqlite/src/tokenize.c (new)
  1.1       +765 -0    rserv/sqlite/src/trigger.c (new)
  1.1       +459 -0    rserv/sqlite/src/update.c (new)
  1.1       +1135 -0   rserv/sqlite/src/util.c (new)
  1.1       +305 -0    rserv/sqlite/src/vacuum.c (new)
  1.1       +4921 -0   rserv/sqlite/src/vdbe.c (new)
  1.1       +112 -0    rserv/sqlite/src/vdbe.h (new)
  1.1       +304 -0    rserv/sqlite/src/vdbeInt.h (new)
  1.1       +1062 -0   rserv/sqlite/src/vdbeaux.c (new)
  1.1       +1235 -0   rserv/sqlite/src/where.c (new)
  1.1       +4384 -0   rserv/sqlite/tool/lemon.c (new)
  1.1       +688 -0    rserv/sqlite/tool/lempar.c (new)



leeh        2005/04/27 22:29:07 UTC	(20050427_6)

  rserv/sqlite/tool - New directory



leeh        2005/04/27 22:28:51 UTC	(20050427_5)

  rserv/sqlite/src - New directory



leeh        2005/04/27 22:28:47 UTC	(20050427_4)

  rserv/sqlite/doc - New directory



leeh        2005/04/27 22:09:09 UTC	(20050427_3)

  Modified files:
    src                  newconf.c 
  Log:
  - add the missing host register conf options into the parser
  
  Revision  Changes    Path
  1.46      +4 -0      rserv/src/newconf.c



leeh        2005/04/27 21:59:18 UTC	(20050427_2)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - err, members is already a pointer.
  
  Revision  Changes    Path
  1.73      +3 -3      rserv/src/s_chanserv.c



leeh        2005/04/27 21:57:21 UTC	(20050427_1)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - properly clear flags from a users membership when we deop/devoice them due
    to NOOPS etc.
  
  Revision  Changes    Path
  1.72      +9 -2      rserv/src/s_chanserv.c



leeh        2005/04/27 21:48:23 UTC	(20050427_0)

  Modified files:
    src                  c_mode.c 
  Log:
  - ignore redundant modes, and handle +o-o better
  
  Revision  Changes    Path
  1.34      +17 -2     rserv/src/c_mode.c



leeh        2005/04/24 20:03:05 UTC	(20050424_1)

  Modified files:
    help/chanserv        set 
    src                  s_chanserv.c s_userserv.c 
  Log:
  - note AUTOJOIN may be automatically enabled sometimes
  - via jilles, make expiry use transactions
  
  Revision  Changes    Path
  1.8       +2 -1      rserv/help/chanserv/set
  1.71      +10 -0     rserv/src/s_chanserv.c
  1.59      +4 -0      rserv/src/s_userserv.c



leeh        2005/04/24 01:38:52 UTC	(20050424_0)

  rserv/sqlite - New directory



leeh        2005/04/18 14:37:10 UTC	(20050418_2)

  Modified files:
    src                  c_mode.c 
  Log:
  - clear voiced_list at the end of c_mode()
  
  Revision  Changes    Path
  1.33      +7 -1      rserv/src/c_mode.c



leeh        2005/04/18 14:29:37 UTC	(20050418_1)

  Modified files:
    help/chanserv        set 
    include              hook.h s_chanserv.h 
    src                  c_mode.c s_chanserv.c 
  Log:
  - added chanserv::set:novoices, disabling anyone being voiced
  
  Revision  Changes    Path
  1.7       +1 -0      rserv/help/chanserv/set
  1.8       +2 -1      rserv/include/hook.h
  1.26      +3 -1      rserv/include/s_chanserv.h
  1.32      +7 -0      rserv/src/c_mode.c
  1.70      +101 -1    rserv/src/s_chanserv.c



leeh        2005/04/18 12:24:24 UTC	(20050418_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    help/chanserv        set 
    src                  Makefile.in 
  Log:
  - add --enable-warnings flag to configure to enable the compiler warning
    flags, disable them by default
  - via rse@engelschall.com:
    - fix missing <channel> parameter to chanserv::set help
    - properly honour CPPFLAGS/CFLAGS
  
  Revision  Changes    Path
  1.23      +13 -0     rserv/autoconf/configure.in
  1.22      +102 -81   rserv/configure
  1.6       +1 -1      rserv/help/chanserv/set
  1.33      +2 -2      rserv/src/Makefile.in



leeh        2005/04/17 16:38:56 UTC	(20050417_1)

  Modified files:
    help                 Makefile.in 
  Log:
  - via rse@engelschall.com, install nickserv help with distro
  
  Revision  Changes    Path
  1.6       +2 -2      rserv/help/Makefile.in



leeh        2005/04/17 13:43:10 UTC	(20050417_0)

  Modified files:
    src                  s_nickserv.c 
  Added files:
    help/nickserv        regain 
  Log:
  - add nickserv::regain help
  - store the nickname entry in the db on nickserv::register
  
  Revision  Changes    Path
  1.1       +3 -0      rserv/help/nickserv/regain (new)
  1.8       +6 -0      rserv/src/s_nickserv.c



leeh        2005/04/07 18:04:09 UTC	(20050407_7)

  Modified files:
    src                  client.c 
  Log:
  - s/target_p/client_p
  
  Revision  Changes    Path
  1.37      +1 -1      rserv/src/client.c



leeh        2005/04/07 17:26:30 UTC	(20050407_6)

  Modified files:
    help/nickserv        index 
    src                  client.c conf.c s_nickserv.c s_userserv.c 
  Log:
  - added nickserv::regain
  - make userserv::userinfo work on =nick
  - update a clients mask when they change nicks
  
  Revision  Changes    Path
  1.3       +1 -0      rserv/help/nickserv/index
  1.36      +7 -0      rserv/src/client.c
  1.44      +2 -0      rserv/src/conf.c
  1.7       +45 -0     rserv/src/s_nickserv.c
  1.58      +10 -4     rserv/src/s_userserv.c



leeh        2005/04/07 13:30:30 UTC	(20050407_5)

  Modified files:
    src                  s_nickserv.c 
  Log:
  - missed the prototype
  
  Revision  Changes    Path
  1.6       +2 -1      rserv/src/s_nickserv.c



leeh        2005/04/07 13:29:22 UTC	(20050407_4)

  Modified files:
    doc                  example.conf 
    help/nickserv        index 
    help/userserv        index 
    src                  s_nickserv.c 
  Added files:
    help/nickserv        info 
    help/userserv        info 
  Log:
  - add userserv::info help
  - add nickserv::info command
  
  Revision  Changes    Path
  1.38      +2 -0      rserv/doc/example.conf
  1.2       +1 -0      rserv/help/nickserv/index
  1.1       +3 -0      rserv/help/nickserv/info (new)
  1.5       +1 -0      rserv/help/userserv/index
  1.1       +6 -0      rserv/help/userserv/info (new)
  1.5       +25 -1     rserv/src/s_nickserv.c



leeh        2005/04/07 13:12:37 UTC	(20050407_3)

  Modified files:
    src                  c_error.c c_message.c c_mode.c cache.c 
                         channel.c client.c conf.c hook.c io.c 
                         log.c modebuild.c rserv.c s_alis.c 
                         s_chanserv.c s_global.c s_jupeserv.c 
                         s_nickserv.c s_operbot.c s_operserv.c 
                         s_userserv.c scommand.c service.c tools.c 
                         u_stats.c ucommand.c 
  Log:
  - import the bsd license into those files I own.
  
  Revision  Changes    Path
  1.9       +24 -0     rserv/src/c_error.c
  1.19      +24 -0     rserv/src/c_message.c
  1.31      +24 -0     rserv/src/c_mode.c
  1.7       +24 -0     rserv/src/cache.c
  1.42      +24 -0     rserv/src/channel.c
  1.35      +24 -0     rserv/src/client.c
  1.43      +24 -0     rserv/src/conf.c
  1.5       +24 -0     rserv/src/hook.c
  1.40      +24 -0     rserv/src/io.c
  1.11      +24 -0     rserv/src/log.c
  1.6       +24 -0     rserv/src/modebuild.c
  1.50      +24 -0     rserv/src/rserv.c
  1.36      +24 -0     rserv/src/s_alis.c
  1.69      +24 -0     rserv/src/s_chanserv.c
  1.14      +24 -0     rserv/src/s_global.c
  1.29      +24 -0     rserv/src/s_jupeserv.c
  1.4       +24 -0     rserv/src/s_nickserv.c
  1.35      +24 -0     rserv/src/s_operbot.c
  1.14      +24 -0     rserv/src/s_operserv.c
  1.57      +24 -0     rserv/src/s_userserv.c
  1.31      +24 -0     rserv/src/scommand.c
  1.49      +24 -0     rserv/src/service.c
  1.16      +24 -0     rserv/src/tools.c
  1.17      +24 -0     rserv/src/u_stats.c
  1.30      +24 -0     rserv/src/ucommand.c



leeh        2005/04/07 13:05:03 UTC	(20050407_2)

  Modified files:
    .                    README 
    doc                  example.conf 
    help                 genindex.sh 
    src                  s_nickserv.c s_userserv.c 
  Added files:
    help/nickserv        drop index index-admin nickdrop register 
                         u-nickdrop 
  Log:
  - add some nickserv helpfiles
  - update some docs
  - make USERSERV::INFO dump out registered nicknames
  
  Revision  Changes    Path
  1.4       +3 -2      rserv/README
  1.37      +2 -1      rserv/doc/example.conf
  1.6       +1 -1      rserv/help/genindex.sh
  1.1       +3 -0      rserv/help/nickserv/drop (new)
  1.1       +2 -0      rserv/help/nickserv/index (new)
  1.1       +1 -0      rserv/help/nickserv/index-admin (new)
  1.1       +3 -0      rserv/help/nickserv/nickdrop (new)
  1.1       +2 -0      rserv/help/nickserv/register (new)
  1.1       +3 -0      rserv/help/nickserv/u-nickdrop (new)
  1.3       +0 -2      rserv/src/s_nickserv.c
  1.56      +32 -0     rserv/src/s_userserv.c



leeh        2005/04/07 12:54:25 UTC	(20050407_1)

  rserv/help/nickserv - New directory



leeh        2005/04/07 12:52:46 UTC	(20050407_0)

  Modified files:
    include              s_nickserv.h 
    src                  rserv.c s_nickserv.c s_userserv.c 
  Log:
  - link the user_reg into the struct nick_reg
  - added nickserv::nickdrop and nickserv::drop
  - move the init_s_nickserv() inside #ifdef ENABLE_USERSERV
  
  Revision  Changes    Path
  1.2       +2 -1      rserv/include/s_nickserv.h
  1.49      +3 -3      rserv/src/rserv.c
  1.2       +50 -10    rserv/src/s_nickserv.c
  1.55      +1 -1      rserv/src/s_userserv.c



leeh        2005/04/06 23:58:32 UTC	(20050406_3)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    doc                  example.conf schema.txt 
    include              c_init.h conf.h config.h s_userserv.h 
                         setup.h.in 
    src                  Makefile.in newconf.c rserv.c 
                         s_userserv.c 
  Added files:
    include              s_nickserv.h 
    src                  s_nickserv.c 
  Log:
  - beginnings of nickname services
  
  Revision  Changes    Path
  1.22      +21 -0     rserv/autoconf/configure.in
  1.21      +113 -80   rserv/configure
  1.36      +21 -0     rserv/doc/example.conf
  1.18      +9 -0      rserv/doc/schema.txt
  1.18      +1 -0      rserv/include/c_init.h
  1.40      +4 -0      rserv/include/conf.h
  1.25      +1 -0      rserv/include/config.h
  1.1       +27 -0     rserv/include/s_nickserv.h (new)
  1.17      +1 -0      rserv/include/s_userserv.h
  1.11      +3 -0      rserv/include/setup.h.in
  1.32      +2 -2      rserv/src/Makefile.in
  1.45      +7 -0      rserv/src/newconf.c
  1.48      +3 -0      rserv/src/rserv.c
  1.1       +181 -0    rserv/src/s_nickserv.c (new)
  1.54      +6 -0      rserv/src/s_userserv.c



leeh        2005/04/06 23:08:00 UTC	(20050406_2)

  Modified files:
    src                  log.c 
  Log:
  - whoops, fix a bit of code I misunderstood
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/src/log.c



leeh        2005/04/06 23:03:23 UTC	(20050406_1)

  Modified files:
    doc                  example.conf 
    include              client.h 
    src                  log.c newconf.c 
  Log:
  - patch via jilles to add support for sending WALLOPS when an admin command
    is used
  
  Revision  Changes    Path
  1.35      +3 -1      rserv/doc/example.conf
  1.42      +2 -0      rserv/include/client.h
  1.9       +11 -4     rserv/src/log.c
  1.44      +1 -0      rserv/src/newconf.c



leeh        2005/04/06 23:00:15 UTC	(20050406_0)

  Modified files:
    help/chanserv        set 
    src                  s_operbot.c 
  Log:
  - clarify how to remove stuff via CHANSERV::SET
  - fix a core in OPERBOT::OBJOIN
  
  Revision  Changes    Path
  1.5       +8 -4      rserv/help/chanserv/set
  1.34      +1 -1      rserv/src/s_operbot.c



leeh        2005/03/21 21:52:14 UTC	(20050321_0)

  Modified files:
    .                    INSTALL 
  Log:
  - update INSTALL slightly
  
  Revision  Changes    Path
  1.8       +5 -5      rserv/INSTALL



leeh        2005/02/24 14:24:18 EST	(20050224_0)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - s/chreg_p/reg_p
  
  Revision  Changes    Path
  1.68      +1 -1      rserv/src/s_chanserv.c



leeh        2005/02/22 14:51:30 EST	(20050222_1)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - make sure we part_service() when we destroy a channel registration
  
  Revision  Changes    Path
  1.67      +2 -0      rserv/src/s_chanserv.c



leeh        2005/02/22 14:38:38 EST	(20050222_0)

  Modified files:
    help/chanserv        set 
  Log:
  - remove some tabs from set help
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/help/chanserv/set



leeh        2005/02/16 19:05:53 EST	(20050217_0)

  Modified files:
    .                    INSTALL README 
  Added files:
    .                    CVS-Access 
  Log:
  - update some documentation
  - 1.0beta1 is really this commit
  
  Revision  Changes    Path
  1.1       +9 -0      rserv/CVS-Access (new)
  1.7       +12 -5     rserv/INSTALL
  1.3       +6 -0      rserv/README



leeh        2005/02/16 18:33:39 EST	(20050216_3)

  Modified files:
    include              config.h 
  Log:
  - revved patchlevel to 1.0beta1
  
  Revision  Changes    Path
  1.24      +1 -1      rserv/include/config.h



leeh        2005/02/15 19:49:19 EST	(20050216_2)

  Modified files:
    src                  s_alis.c 
  Log:
  - fix alis to not stop showing topicwho for all channels, when it finds
    one it cant show the topicwho for.
  
  Revision  Changes    Path
  1.35      +8 -6      rserv/src/s_alis.c



leeh        2005/02/15 19:42:48 EST	(20050216_1)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - make CS::LISTUSERS use dump_info_accesslist()
  - tidy up dump_info_accesslist() to only show suspend level when its set,
    and to show aop/avoice
  
  Revision  Changes    Path
  1.66      +8 -16     rserv/src/s_chanserv.c



leeh        2005/02/15 19:26:49 EST	(20050216_0)

  Modified files:
    help/userserv        index-admin 
    src                  s_userserv.c 
  Added files:
    help/userserv        u-usersetpass usersetpass 
  Log:
  - add US::USERSETPASS, to change a users password.
  
  Revision  Changes    Path
  1.5       +1 -0      rserv/help/userserv/index-admin
  1.1       +4 -0      rserv/help/userserv/u-usersetpass (new)
  1.1       +4 -0      rserv/help/userserv/usersetpass (new)
  1.53      +31 -0     rserv/src/s_userserv.c



leeh        2005/02/14 12:50:48 EST	(20050214_2)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - patch via jilles to fix unban caching and autoop when suspended
  
  Revision  Changes    Path
  1.65      +3 -0      rserv/src/s_chanserv.c



leeh        2005/02/14 12:41:46 EST	(20050214_1)

  Modified files:
    src                  channel.c 
  Log:
  - join services with CURRENT_TIME if TS is unset on a channel
  
  Revision  Changes    Path
  1.41      +1 -1      rserv/src/channel.c



leeh        2005/02/14 12:40:15 EST	(20050214_0)

  Modified files:
    doc                  example.conf 
    include              client.h conf.h 
    src                  conf.c newconf.c s_chanserv.c 
                         s_userserv.c service.c 
  Log:
  - added per client flood limiting
  
  Revision  Changes    Path
  1.34      +24 -1     rserv/doc/example.conf
  1.41      +3 -0      rserv/include/client.h
  1.39      +5 -0      rserv/include/conf.h
  1.42      +5 -0      rserv/src/conf.c
  1.43      +4 -0      rserv/src/newconf.c
  1.64      +5 -2      rserv/src/s_chanserv.c
  1.52      +3 -0      rserv/src/s_userserv.c
  1.48      +38 -17    rserv/src/service.c



leeh        2005/02/11 11:07:59 EST	(20050211_1)

  Modified files:
    help/chanserv        index index-admin 
    help/userserv        index-admin 
  Added files:
    help/userserv        u-userinfo userinfo 
  Log:
  - added US::USERINFO help
  
  Revision  Changes    Path
  1.7       +1 -0      rserv/help/chanserv/index
  1.5       +1 -0      rserv/help/chanserv/index-admin
  1.4       +1 -0      rserv/help/userserv/index-admin
  1.1       +3 -0      rserv/help/userserv/u-userinfo (new)
  1.1       +3 -0      rserv/help/userserv/userinfo (new)



leeh        2005/02/11 11:05:20 EST	(20050211_0)

  Modified files:
    src                  s_userserv.c 
  Log:
  - remove special services oper privs from US::INFO, move them into
    US::USERINFO
  
  Revision  Changes    Path
  1.51      +81 -56    rserv/src/s_userserv.c



leeh        2005/02/09 13:06:38 EST	(20050209_1)

  Modified files:
    doc                  example.conf 
    include              client.h 
    src                  newconf.c service.c 
  Log:
  - added login_help flag to service {};, requires a luser is logged in before
    they can use HELP (or that theyre an ircop/services oper)
  - dont make services be stealthed from ircops
  
  Revision  Changes    Path
  1.33      +7 -7      rserv/doc/example.conf
  1.40      +2 -0      rserv/include/client.h
  1.42      +1 -0      rserv/src/newconf.c
  1.47      +13 -2     rserv/src/service.c



leeh        2005/02/09 10:08:17 EST	(20050209_0)

  Modified files:
    include              s_chanserv.h 
    src                  s_chanserv.c 
  Log:
  - via jilles:
    - fix chanserv expiry to properly update the db
    - fix expiration checks somewhat
    - dont autoop/autovoice users when they login and are suspended
  
  Revision  Changes    Path
  1.25      +9 -5      rserv/include/s_chanserv.h
  1.63      +73 -13    rserv/src/s_chanserv.c



leeh        2005/02/08 11:56:27 EST	(20050208_0)

  Modified files:
    include              s_userserv.h 
    src                  s_userserv.c 
  Log:
  - via jilles, patch to make sure the expiry time is properly updated
    within the db.
  
  Revision  Changes    Path
  1.16      +4 -0      rserv/include/s_userserv.h
  1.50      +17 -5     rserv/src/s_userserv.c



leeh        2005/02/07 17:52:42 EST	(20050207_2)

  Modified files:
    .                    LICENSE 
    src                  balloc.c c_error.c c_message.c c_mode.c 
                         cache.c channel.c client.c conf.c crypt.c 
                         event.c hook.c io.c log.c match.c 
                         modebuild.c rserv.c s_alis.c s_chanserv.c 
                         s_global.c s_jupeserv.c s_operbot.c 
                         s_operserv.c s_userserv.c scommand.c 
                         service.c tools.c u_stats.c ucommand.c 
  Log:
  - update some copyrights
  
  Revision  Changes    Path
  1.5       +2 -2      rserv/LICENSE
  1.8       +2 -2      rserv/src/balloc.c
  1.8       +2 -2      rserv/src/c_error.c
  1.18      +2 -2      rserv/src/c_message.c
  1.30      +2 -2      rserv/src/c_mode.c
  1.6       +2 -2      rserv/src/cache.c
  1.40      +2 -2      rserv/src/channel.c
  1.34      +2 -2      rserv/src/client.c
  1.41      +2 -2      rserv/src/conf.c
  1.2       +2 -2      rserv/src/crypt.c
  1.7       +2 -2      rserv/src/event.c
  1.4       +2 -2      rserv/src/hook.c
  1.39      +2 -2      rserv/src/io.c
  1.8       +2 -2      rserv/src/log.c
  1.4       +2 -2      rserv/src/match.c
  1.5       +2 -2      rserv/src/modebuild.c
  1.47      +2 -2      rserv/src/rserv.c
  1.34      +2 -2      rserv/src/s_alis.c
  1.62      +2 -2      rserv/src/s_chanserv.c
  1.13      +2 -2      rserv/src/s_global.c
  1.28      +2 -2      rserv/src/s_jupeserv.c
  1.33      +2 -2      rserv/src/s_operbot.c
  1.13      +2 -2      rserv/src/s_operserv.c
  1.49      +2 -2      rserv/src/s_userserv.c
  1.30      +2 -2      rserv/src/scommand.c
  1.46      +2 -2      rserv/src/service.c
  1.15      +2 -2      rserv/src/tools.c
  1.16      +2 -2      rserv/src/u_stats.c
  1.29      +2 -2      rserv/src/ucommand.c



leeh        2005/02/07 17:40:58 EST	(20050207_1)

  Modified files:
    src                  c_mode.c channel.c s_chanserv.c 
  Log:
  - make c_mode() call HOOK_MODE_SIMPLE if the +lk values change
  - fix sjoin not setting MODE_KEY/MODE_INVITE properly
  - fix wrong parc count checking in sjoin
  - move HOOK_SJOIN_LOWERTS to after we've merged in the new modes
  - fix enforcemodes to handle value of +lk changing
  
  Revision  Changes    Path
  1.29      +9 -3      rserv/src/c_mode.c
  1.39      +8 -4      rserv/src/channel.c
  1.61      +15 -12    rserv/src/s_chanserv.c



leeh        2005/02/07 10:41:16 EST	(20050207_0)

  Modified files:
    src                  newconf.c 
  Log:
  - patch via jilles to fix encrypted passwords in operator {};
  
  Revision  Changes    Path
  1.41      +4 -0      rserv/src/newconf.c



leeh        2005/02/04 07:04:17 EST	(20050204_0)

  Modified files:
    src                  c_mode.c 
  Log:
  - add an IsUser() check on MODE, fixing a core when hunting for the
    membership of a server
  
  Revision  Changes    Path
  1.28      +1 -1      rserv/src/c_mode.c



leeh        2005/02/03 17:09:38 EST	(20050203_5)

  Modified files:
    src                  s_chanserv.c 
  Added files:
    help/chanserv        chaninfo u-chaninfo 
  Log:
  - added CHANSERV::CHANINFO, chanserv admin command giving extended info
    about channel registration
  - cleanup CHANSERV::SET somewhat
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/help/chanserv/chaninfo (new)
  1.1       +4 -0      rserv/help/chanserv/u-chaninfo (new)
  1.60      +150 -127  rserv/src/s_chanserv.c



leeh        2005/02/03 11:17:54 EST	(20050203_4)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - remove the special case of one user joining in h_chanserv_join().
  
  Revision  Changes    Path
  1.59      +11 -118   rserv/src/s_chanserv.c



leeh        2005/02/03 11:10:25 EST	(20050203_3)

  Modified files:
    help/operserv        takeover u-takeover 
    src                  s_chanserv.c s_operserv.c s_userserv.c 
  Log:
  - merge chanserv handlers
  - merge operserv handlers
  
  Revision  Changes    Path
  1.3       +1 -2      rserv/help/operserv/takeover
  1.3       +1 -2      rserv/help/operserv/u-takeover
  1.58      +54 -150   rserv/src/s_chanserv.c
  1.12      +46 -169   rserv/src/s_operserv.c
  1.48      +1 -1      rserv/src/s_userserv.c



leeh        2005/02/03 10:37:05 EST	(20050203_2)

  Modified files:
    src                  s_userserv.c 
  Log:
  - merge userserv handlers..
  
  Revision  Changes    Path
  1.47      +47 -171   rserv/src/s_userserv.c



leeh        2005/02/03 10:25:18 EST	(20050203_1)

  Modified files:
    src                  s_operbot.c 
  Log:
  - merged objoin and obpart down to one handler each
  
  Revision  Changes    Path
  1.32      +20 -64    rserv/src/s_operbot.c



leeh        2005/02/03 10:19:09 EST	(20050203_0)

  Modified files:
    include              service.h 
    src                  s_global.c s_jupeserv.c 
  Log:
  - changed OPER_NAME to take client_p, conn_p
  - merged JUPESERV::JUPE with .jupe, and JUPESERV::UNJUPE with .unjupe
  
  Revision  Changes    Path
  1.24      +1 -1      rserv/include/service.h
  1.12      +1 -1      rserv/src/s_global.c
  1.27      +32 -108   rserv/src/s_jupeserv.c



leeh        2005/02/02 16:27:05 EST	(20050202_1)

  Modified files:
    doc                  schema.txt 
    include              channel.h s_chanserv.h service.h 
    src                  channel.c io.c s_chanserv.c s_operbot.c 
                         s_operserv.c scommand.c service.c 
  Log:
  - patch via jilles:
    - store channelts for channels within the db
    - join services when we send our burst, rather than when our uplink
      has finished
    - fix a segfault with OPERSERV::TAKEOVER
  
  Revision  Changes    Path
  1.17      +3 -0      rserv/doc/schema.txt
  1.24      +1 -1      rserv/include/channel.h
  1.24      +1 -0      rserv/include/s_chanserv.h
  1.23      +6 -2      rserv/include/service.h
  1.38      +8 -5      rserv/src/channel.c
  1.38      +1 -0      rserv/src/io.c
  1.57      +52 -27    rserv/src/s_chanserv.c
  1.31      +34 -7     rserv/src/s_operbot.c
  1.11      +53 -8     rserv/src/s_operserv.c
  1.29      +0 -1      rserv/src/scommand.c
  1.45      +19 -0     rserv/src/service.c



leeh        2005/02/01 20:22:40 EST	(20050202_0)

  Modified files:
    include              service.h 
    src                  s_global.c service.c 
  Log:
  - added OPER_NAME() macro to get opers name from (conn_p, client_p)
  - made default loglevel of services 1
  - merged global::netmsg into one function
  
  Revision  Changes    Path
  1.22      +2 -0      rserv/include/service.h
  1.11      +6 -25     rserv/src/s_global.c
  1.44      +1 -0      rserv/src/service.c



leeh        2005/02/01 18:32:56 EST	(20050201_8)

  Modified files:
    include              ucommand.h 
    src                  s_chanserv.c s_global.c s_jupeserv.c 
                         s_operbot.c s_operserv.c s_userserv.c 
                         u_stats.c ucommand.c 
  Log:
  - unify ucommand handlers over to int
  
  Revision  Changes    Path
  1.11      +1 -1      rserv/include/ucommand.h
  1.56      +19 -15    rserv/src/s_chanserv.c
  1.10      +3 -2      rserv/src/s_global.c
  1.26      +9 -7      rserv/src/s_jupeserv.c
  1.30      +8 -5      rserv/src/s_operbot.c
  1.10      +17 -12    rserv/src/s_operserv.c
  1.46      +19 -15    rserv/src/s_userserv.c
  1.15      +5 -4      rserv/src/u_stats.c
  1.28      +48 -35    rserv/src/ucommand.c



leeh        2005/02/01 18:23:54 EST	(20050201_7)

  Modified files:
    include              service.h 
    src                  s_alis.c s_chanserv.c s_global.c 
                         s_jupeserv.c s_operbot.c s_operserv.c 
                         s_userserv.c service.c 
  Log:
  - unify service_command handlers to take struct lconn *
  
  Revision  Changes    Path
  1.21      +1 -1      rserv/include/service.h
  1.33      +2 -2      rserv/src/s_alis.c
  1.55      +55 -55    rserv/src/s_chanserv.c
  1.9       +2 -2      rserv/src/s_global.c
  1.25      +10 -10    rserv/src/s_jupeserv.c
  1.29      +8 -8      rserv/src/s_operbot.c
  1.9       +8 -8      rserv/src/s_operserv.c
  1.45      +18 -18    rserv/src/s_userserv.c
  1.43      +1 -1      rserv/src/service.c



leeh        2005/02/01 18:11:42 EST	(20050201_6)

  Modified files:
    include              ucommand.h 
    src                  s_chanserv.c s_global.c s_jupeserv.c 
                         s_operbot.c s_operserv.c s_userserv.c 
                         u_stats.c ucommand.c 
  Log:
  - made ucommand handlers take struct client *
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/include/ucommand.h
  1.54      +8 -8      rserv/src/s_chanserv.c
  1.8       +2 -2      rserv/src/s_global.c
  1.24      +4 -4      rserv/src/s_jupeserv.c
  1.28      +4 -4      rserv/src/s_operbot.c
  1.8       +8 -8      rserv/src/s_operserv.c
  1.44      +8 -8      rserv/src/s_userserv.c
  1.14      +2 -2      rserv/src/u_stats.c
  1.27      +26 -26    rserv/src/ucommand.c



leeh        2005/02/01 17:50:58 EST	(20050201_5)

  Modified files:
    include              cache.h client.h conf.h event.h io.h 
                         service.h ucommand.h 
    src                  cache.c event.c io.c s_chanserv.c 
                         s_global.c s_jupeserv.c s_operbot.c 
                         s_operserv.c s_userserv.c service.c 
                         u_stats.c ucommand.c 
  Log:
  - s/struct connection_entry/struct lconn
  
  Revision  Changes    Path
  1.2       +2 -2      rserv/include/cache.h
  1.39      +2 -2      rserv/include/client.h
  1.38      +1 -1      rserv/include/conf.h
  1.5       +2 -2      rserv/include/event.h
  1.22      +10 -10    rserv/include/io.h
  1.20      +3 -3      rserv/include/service.h
  1.9       +3 -3      rserv/include/ucommand.h
  1.5       +1 -1      rserv/src/cache.c
  1.6       +1 -1      rserv/src/event.c
  1.37      +37 -37    rserv/src/io.c
  1.53      +8 -8      rserv/src/s_chanserv.c
  1.7       +2 -2      rserv/src/s_global.c
  1.23      +4 -4      rserv/src/s_jupeserv.c
  1.27      +4 -4      rserv/src/s_operbot.c
  1.7       +8 -8      rserv/src/s_operserv.c
  1.43      +8 -8      rserv/src/s_userserv.c
  1.42      +1 -1      rserv/src/service.c
  1.13      +7 -7      rserv/src/u_stats.c
  1.26      +29 -29    rserv/src/ucommand.c



leeh        2005/02/01 15:35:23 EST	(20050201_4)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - make CLEAROPS clear all < S_C_OP
  
  Revision  Changes    Path
  1.52      +1 -1      rserv/src/s_chanserv.c



leeh        2005/02/01 15:32:15 EST	(20050201_3)

  Modified files:
    help/chanserv        modauto 
    src                  s_chanserv.c 
  Log:
  - dont autoop when NOOPS is set
  - dont autoop unless their access >= S_C_OP
  
  Revision  Changes    Path
  1.5       +1 -0      rserv/help/chanserv/modauto
  1.51      +21 -13    rserv/src/s_chanserv.c



leeh        2005/02/01 11:20:03 EST	(20050201_2)

  Modified files:
    help/chanserv        moduser 
  Log:
  - there is no clearusers command..
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/help/chanserv/moduser



leeh        2005/02/01 11:18:13 EST	(20050201_1)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - fix logic around permanent channel bans
  
  Revision  Changes    Path
  1.50      +10 -3     rserv/src/s_chanserv.c



leeh        2005/02/01 11:10:56 EST	(20050201_0)

  Modified files:
    help                 genindex.sh 
    help/chanserv        addban adduser chansuspend chanunsuspend 
                         clearallops clearmodes deluser index 
                         index-admin modauto moduser register set 
                         suspend u-chansuspend u-chanunsuspend 
                         unban unsuspend voice 
  Added files:
    help/chanserv        getkey info 
  Log:
  - patch via jilles to cleanup help files
  
  Revision  Changes    Path
  1.3       +2 -1      rserv/help/chanserv/addban
  1.4       +1 -1      rserv/help/chanserv/adduser
  1.2       +3 -3      rserv/help/chanserv/chansuspend
  1.2       +3 -3      rserv/help/chanserv/chanunsuspend
  1.3       +1 -1      rserv/help/chanserv/clearallops
  1.3       +1 -1      rserv/help/chanserv/clearmodes
  1.4       +3 -1      rserv/help/chanserv/deluser
  1.1       +3 -0      rserv/help/chanserv/getkey (new)
  1.6       +8 -7      rserv/help/chanserv/index
  1.4       +1 -1      rserv/help/chanserv/index-admin
  1.1       +4 -0      rserv/help/chanserv/info (new)
  1.4       +1 -1      rserv/help/chanserv/modauto
  1.4       +2 -2      rserv/help/chanserv/moduser
  1.4       +1 -0      rserv/help/chanserv/register
  1.3       +2 -2      rserv/help/chanserv/set
  1.3       +2 -1      rserv/help/chanserv/suspend
  1.2       +1 -1      rserv/help/chanserv/u-chansuspend
  1.2       +1 -1      rserv/help/chanserv/u-chanunsuspend
  1.3       +3 -0      rserv/help/chanserv/unban
  1.3       +1 -1      rserv/help/chanserv/unsuspend
  1.4       +2 -2      rserv/help/chanserv/voice
  1.5       +5 -5      rserv/help/genindex.sh



leeh        2005/01/31 10:39:52 EST	(20050131_3)

  Modified files:
    help/chanserv        set 
  Log:
  - note in help enforcing +ik needs autojoin to work properly
  
  Revision  Changes    Path
  1.2       +2 -1      rserv/help/chanserv/set



leeh        2005/01/31 07:57:29 EST	(20050131_2)

  Modified files:
    src                  c_mode.c s_chanserv.c 
  Log:
  - make c_mode() honour MODE_DEOPPED
  - make CS::OP and autoop clear MODE_DEOPPED
  
  Revision  Changes    Path
  1.27      +6 -0      rserv/src/c_mode.c
  1.49      +4 -0      rserv/src/s_chanserv.c



leeh        2005/01/30 19:52:18 EST	(20050131_1)

  Modified files:
    include              hook.h 
    src                  s_chanserv.c s_userserv.c 
  Log:
  - patch via jilles to autoop/autovoice users when they login
  
  Revision  Changes    Path
  1.7       +2 -1      rserv/include/hook.h
  1.48      +52 -0     rserv/src/s_chanserv.c
  1.42      +4 -0      rserv/src/s_userserv.c



leeh        2005/01/30 19:42:15 EST	(20050131_0)

  Modified files:
    include              client.h service.h ucommand.h 
    src                  io.c s_alis.c s_chanserv.c s_global.c 
                         s_jupeserv.c s_operbot.c s_operserv.c 
                         s_userserv.c service.c u_stats.c 
                         ucommand.c 
  Log:
  - moved service commands and oper commands over to const char **parv
  
  Revision  Changes    Path
  1.38      +1 -1      rserv/include/client.h
  1.19      +2 -2      rserv/include/service.h
  1.8       +2 -2      rserv/include/ucommand.h
  1.36      +1 -1      rserv/src/io.c
  1.32      +3 -3      rserv/src/s_alis.c
  1.47      +65 -65    rserv/src/s_chanserv.c
  1.6       +6 -6      rserv/src/s_global.c
  1.22      +17 -17    rserv/src/s_jupeserv.c
  1.26      +12 -12    rserv/src/s_operbot.c
  1.6       +17 -17    rserv/src/s_operserv.c
  1.41      +27 -27    rserv/src/s_userserv.c
  1.41      +1 -1      rserv/src/service.c
  1.12      +2 -2      rserv/src/u_stats.c
  1.25      +26 -26    rserv/src/ucommand.c



leeh        2005/01/30 18:54:03 EST	(20050130_0)

  Modified files:
    help/chanserv        index 
    help/userserv        index 
  Added files:
    help/chanserv        set 
    help/userserv        set 
  Removed files:
    help/userserv        setemail setpass 
  Log:
  - added help for chanserv::set and userserv::set
  - remove setemail/setpass, theyre no longer relevant
  
  Revision  Changes    Path
  1.5       +1 -0      rserv/help/chanserv/index
  1.1       +13 -0     rserv/help/chanserv/set (new)
  1.4       +1 -2      rserv/help/userserv/index
  1.1       +5 -0      rserv/help/userserv/set (new)
  1.2       +0 -3      rserv/help/userserv/setemail (dead)
  1.2       +0 -4      rserv/help/userserv/setpass (dead)



leeh        2005/01/27 12:46:57 EST	(20050127_0)

  Modified files:
    include              scommand.h 
    src                  c_error.c c_message.c c_mode.c channel.c 
                         client.c io.c s_chanserv.c s_global.c 
                         s_jupeserv.c s_operbot.c s_operserv.c 
                         s_userserv.c scommand.c u_stats.c 
                         ucommand.c 
  Log:
  - stop putting the sender prefix as parv[0], sync the code so the arguments
    start at parv[0] everywhere.
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/include/scommand.h
  1.7       +3 -3      rserv/src/c_error.c
  1.17      +9 -9      rserv/src/c_message.c
  1.26      +8 -8      rserv/src/c_mode.c
  1.37      +30 -30    rserv/src/channel.c
  1.33      +25 -25    rserv/src/client.c
  1.35      +5 -6      rserv/src/io.c
  1.46      +26 -26    rserv/src/s_chanserv.c
  1.5       +2 -2      rserv/src/s_global.c
  1.21      +13 -13    rserv/src/s_jupeserv.c
  1.25      +13 -13    rserv/src/s_operbot.c
  1.5       +25 -25    rserv/src/s_operserv.c
  1.40      +20 -22    rserv/src/s_userserv.c
  1.28      +46 -45    rserv/src/scommand.c
  1.11      +3 -3      rserv/src/u_stats.c
  1.24      +22 -22    rserv/src/ucommand.c



leeh        2005/01/25 19:52:58 EST	(20050126_0)

  Modified files:
    src                  modebuild.c 
  Log:
  - patch via jilles to fix modebuild_add() to handle arg being NULL
  
  Revision  Changes    Path
  1.4       +8 -5      rserv/src/modebuild.c



leeh        2005/01/23 12:06:37 EST	(20050123_0)

  Modified files:
    include              client.h service.h 
    src                  s_alis.c s_chanserv.c s_global.c 
                         s_jupeserv.c s_operbot.c s_operserv.c 
                         s_userserv.c service.c 
  Log:
  - redid the service command searching, we now hunt for them via bsearch()
  
  Revision  Changes    Path
  1.37      +1 -0      rserv/include/client.h
  1.18      +5 -0      rserv/include/service.h
  1.31      +2 -3      rserv/src/s_alis.c
  1.45      +2 -3      rserv/src/s_chanserv.c
  1.4       +2 -3      rserv/src/s_global.c
  1.20      +2 -3      rserv/src/s_jupeserv.c
  1.24      +2 -3      rserv/src/s_operbot.c
  1.4       +2 -3      rserv/src/s_operserv.c
  1.39      +2 -3      rserv/src/s_userserv.c
  1.40      +186 -161  rserv/src/service.c



leeh        2005/01/22 08:47:51 EST	(20050122_0)

  Modified files:
    .                    CREDITS 
    src                  rserv.c s_chanserv.c 
  Log:
  - via jilles:
    - fix nick in CREDITS
    - fix channel_db_callback() for new db schema
    - fix rebuild_params() to account for not being able to rebuild anything..
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/CREDITS
  1.46      +10 -7     rserv/src/rserv.c
  1.44      +8 -8      rserv/src/s_chanserv.c



leeh        2005/01/19 18:12:57 EST	(20050119_2)

  Modified files:
    src                  rserv.c 
  Log:
  - fix rebuild_params() to not add a trailing space
  
  Revision  Changes    Path
  1.45      +5 -2      rserv/src/rserv.c



leeh        2005/01/19 18:05:20 EST	(20050119_1)

  Modified files:
    include              tools.h 
    src                  s_chanserv.c tools.c 
  Log:
  - added my_strndup()
  
  Revision  Changes    Path
  1.19      +1 -0      rserv/include/tools.h
  1.43      +0 -2      rserv/src/s_chanserv.c
  1.14      +18 -0     rserv/src/tools.c



leeh        2005/01/19 16:52:14 EST	(20050119_0)

  Modified files:
    .                    CREDITS README 
    doc                  schema.txt 
    include              s_chanserv.h 
    src                  s_chanserv.c 
  Log:
  - add jilles to CREDITS
  - update README with a note about reading logfiles
  - add url storage to channels
  
  Revision  Changes    Path
  1.3       +1 -0      rserv/CREDITS
  1.2       +2 -1      rserv/README
  1.16      +1 -0      rserv/doc/schema.txt
  1.23      +1 -0      rserv/include/s_chanserv.h
  1.42      +44 -0     rserv/src/s_chanserv.c



leeh        2005/01/13 10:23:14 EST	(20050113_3)

  Modified files:
    src                  client.c s_userserv.c 
  Log:
  - logout users on USERDROP/USERSUSPEND
  - logout users when we get a LOGIN for an unknown username
  - dont put our "SU" stuff under a capability test
  
  Revision  Changes    Path
  1.32      +1 -2      rserv/src/client.c
  1.38      +12 -6     rserv/src/s_userserv.c



leeh        2005/01/13 08:16:38 EST	(20050113_2)

  Modified files:
    help/main            u-flags 
    include              io.h 
    src                  s_chanserv.c s_userserv.c tools.c 
                         ucommand.c 
  Log:
  - added +botfight flag, unused atm
  - move userserv::info/chanserv::info over to get_duration()
  - via jilles, fix logic in get_duration()
  
  Revision  Changes    Path
  1.4       +1 -0      rserv/help/main/u-flags
  1.21      +2 -1      rserv/include/io.h
  1.41      +2 -14     rserv/src/s_chanserv.c
  1.37      +3 -14     rserv/src/s_userserv.c
  1.13      +1 -1      rserv/src/tools.c
  1.23      +3 -0      rserv/src/ucommand.c



leeh        2005/01/12 20:58:07 EST	(20050113_1)

  Modified files:
    include              client.h io.h 
    src                  client.c io.c s_userserv.c scommand.c 
  Log:
  - added netwide eob emulation via PING/PONG
  - only accept login bursts while theyre bursting
  
  Revision  Changes    Path
  1.36      +3 -0      rserv/include/client.h
  1.20      +10 -9     rserv/include/io.h
  1.31      +3 -0      rserv/src/client.c
  1.34      +3 -5      rserv/src/io.c
  1.36      +4 -0      rserv/src/s_userserv.c
  1.27      +5 -3      rserv/src/scommand.c



leeh        2005/01/12 20:40:58 EST	(20050113_0)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - when a user crates a channel with noops, restrict ops, or they would
    be banned, put chanserv in to stop them recreating the channel over and
    over
  
  Revision  Changes    Path
  1.40      +31 -6     rserv/src/s_chanserv.c



leeh        2005/01/12 11:11:48 EST	(20050112_4)

  Modified files:
    doc                  example.conf 
    include              client.h conf.h 
    src                  client.c conf.c s_chanserv.c s_userserv.c 
  Log:
  - remove the hacky allow userregister once per connection
  - replace it with host based registration limits for usernames and channels
  
  Revision  Changes    Path
  1.32      +16 -4     rserv/doc/example.conf
  1.35      +0 -4      rserv/include/client.h
  1.37      +6 -2      rserv/include/conf.h
  1.30      +1 -1      rserv/src/client.c
  1.40      +5 -1      rserv/src/conf.c
  1.39      +25 -0     rserv/src/s_chanserv.c
  1.35      +25 -8     rserv/src/s_userserv.c



leeh        2005/01/12 10:46:24 EST	(20050112_3)

  Modified files:
    include              client.h config.h 
    src                  client.c 
  Log:
  - added in a hostname hash..
  
  Revision  Changes    Path
  1.34      +14 -7     rserv/include/client.h
  1.23      +2 -4      rserv/include/config.h
  1.29      +77 -0     rserv/src/client.c



leeh        2005/01/12 10:15:45 EST	(20050112_2)

  Modified files:
    doc                  example.conf 
    src                  conf.c s_userserv.c 
  Log:
  - raise default umax_logins to 5, document it in example.conf
  - struct client not struct Client -- this isnt ircd, its services!
  
  Revision  Changes    Path
  1.31      +5 -0      rserv/doc/example.conf
  1.39      +1 -1      rserv/src/conf.c
  1.34      +1 -1      rserv/src/s_userserv.c



leeh        2005/01/12 09:31:36 EST	(20050112_1)

  Modified files:
    src                  s_userserv.c 
  Log:
  - make userserv::info give a list of clients using that username if someones
    asking for info on their own username, or its a userserv admin
  - notify existing users on userserv::login
  
  Revision  Changes    Path
  1.33      +25 -0     rserv/src/s_userserv.c



leeh        2005/01/11 19:18:27 EST	(20050112_0)

  Modified files:
    src                  service.c 
  Log:
  - burst services with umode +S
  
  Revision  Changes    Path
  1.39      +1 -1      rserv/src/service.c



leeh        2005/01/11 18:29:21 EST	(20050111_2)

  Modified files:
    src                  s_userserv.c scommand.c 
  Log:
  - fix a few compile errors
  
  Revision  Changes    Path
  1.32      +4 -1      rserv/src/s_userserv.c
  1.26      +2 -1      rserv/src/scommand.c



leeh        2005/01/11 17:50:25 EST	(20050111_1)

  Modified files:
    src                  scommand.c 
  Log:
  - s/SERVICE/SERVICES in capab test
  
  Revision  Changes    Path
  1.25      +1 -1      rserv/src/scommand.c



leeh        2005/01/10 19:42:10 EST	(20050111_0)

  Modified files:
    include              hook.h 
    src                  io.c s_userserv.c scommand.c 
  Log:
  - added support for ENCAP
  - add support for receiving the logged in username over encap
  
  Revision  Changes    Path
  1.6       +2 -1      rserv/include/hook.h
  1.33      +1 -1      rserv/src/io.c
  1.31      +22 -0     rserv/src/s_userserv.c
  1.24      +21 -0     rserv/src/scommand.c



leeh        2005/01/10 16:34:02 EST	(20050110_3)

  Modified files:
    src                  service.c 
  Log:
  - introduce services with +D(eaf)
  
  Revision  Changes    Path
  1.38      +1 -1      rserv/src/service.c



leeh        2005/01/10 15:28:17 EST	(20050110_2)

  Modified files:
    include              io.h 
    src                  s_userserv.c scommand.c 
  Log:
  - fix a core with userserv::register
  - parse CAPAB
  - issue "ENCAP * SU" when someone logs in (ircd compatibility)
  
  Revision  Changes    Path
  1.19      +2 -0      rserv/include/io.h
  1.30      +24 -14    rserv/src/s_userserv.c
  1.23      +48 -0     rserv/src/scommand.c



leeh        2005/01/09 20:38:09 EST	(20050110_1)

  Modified files:
    include              channel.h 
    src                  c_mode.c channel.c io.c s_alis.c 
  Log:
  - added support for chanmode +r, registered only
  - give SERVICES capab on connect
  
  Revision  Changes    Path
  1.23      +1 -0      rserv/include/channel.h
  1.25      +16 -0     rserv/src/c_mode.c
  1.36      +7 -0      rserv/src/channel.c
  1.32      +1 -1      rserv/src/io.c
  1.30      +3 -0      rserv/src/s_alis.c



leeh        2005/01/09 20:30:51 EST	(20050110_0)

  Modified files:
    help/operserv        takeover u-takeover 
    src                  s_operserv.c 
  Log:
  - added -clear and -clearall to operserv::takeover
  
  Revision  Changes    Path
  1.2       +7 -3      rserv/help/operserv/takeover
  1.2       +7 -3      rserv/help/operserv/u-takeover
  1.3       +81 -10    rserv/src/s_operserv.c



leeh        2005/01/07 11:50:27 EST	(20050107_0)

  Modified files:
    include              stdinc.h 
    src                  s_chanserv.c 
  Log:
  - as noted by jilles, dont define ANFL_LAPTOP and sync channel_db_callback()
    with the schema
  
  Revision  Changes    Path
  1.10      +0 -2      rserv/include/stdinc.h
  1.38      +20 -8     rserv/src/s_chanserv.c



leeh        2005/01/04 20:42:21 EST	(20050105_3)

  Modified files:
    include              channel.h client.h 
  Log:
  - ... and stop redefining NICKLEN/TOPICLEN
  
  Revision  Changes    Path
  1.22      +0 -1      rserv/include/channel.h
  1.33      +0 -1      rserv/include/client.h



leeh        2005/01/04 20:41:10 EST	(20050105_2)

  Modified files:
    .                    configure 
  Log:
  - properly rebuild configure
  
  Revision  Changes    Path
  1.20      +5 -2      rserv/configure



leeh        2005/01/04 20:40:24 EST	(20050105_1)

  Modified files:
    .                    INSTALL configure 
    autoconf             configure.in 
    include              setup.h.in 
  Log:
  - add --with-nicklen and --with-topiclen
  
  Revision  Changes    Path
  1.6       +8 -1      rserv/INSTALL
  1.21      +17 -1     rserv/autoconf/configure.in
  1.19      +113 -80   rserv/configure
  1.10      +6 -0      rserv/include/setup.h.in



leeh        2005/01/04 19:31:00 EST	(20050105_0)

  Modified files:
    src                  s_operbot.c scommand.c 
  Log:
  - change "Operbot" to operbots actual nick in objoin/obpart
  - make whois output RPL_WHOISACCOUNT for logged in users
  
  Revision  Changes    Path
  1.23      +8 -8      rserv/src/s_operbot.c
  1.22      +8 -0      rserv/src/scommand.c



leeh        2005/01/04 18:32:19 EST	(20050104_19)

  Modified files:
    .                    INSTALL configure 
    doc                  schema.txt 
    help/chanserv        index 
    help/userserv        index 
    include              setup.h.in 
    src                  .depend s_alis.c 
  Removed files:
    help/chanserv        join part 
  Log:
  - rebuild configure
  - ALIS shouldnt be skipping +p channels
  - proper comment in the schema.txt
  - update INSTALL
  
  Revision  Changes    Path
  1.5       +9 -4      rserv/INSTALL
  1.18      +147 -78   rserv/configure
  1.15      +1 -1      rserv/doc/schema.txt
  1.4       +0 -1      rserv/help/chanserv/index
  1.4       +0 -3      rserv/help/chanserv/join (dead)
  1.4       +0 -3      rserv/help/chanserv/part (dead)
  1.3       +2 -0      rserv/help/userserv/index
  1.9       +5 -1      rserv/include/setup.h.in
  1.7       +76 -39    rserv/src/.depend
  1.29      +2 -2      rserv/src/s_alis.c



leeh        2005/01/04 16:02:46 EST	(20050104_18)

  Modified files:
    src                  c_mode.c s_chanserv.c s_userserv.c 
  Log:
  - handle +l properly in mode parser
  - tidy up CHANSERV::INFO
  - disallow usernames starting with a digit or '-'
  
  Revision  Changes    Path
  1.24      +24 -4     rserv/src/c_mode.c
  1.37      +16 -11    rserv/src/s_chanserv.c
  1.29      +3 -0      rserv/src/s_userserv.c



leeh        2005/01/04 16:01:17 EST	(20050104_17)

  Modified files:
    help/chanserv        index 
    help/operserv        index-admin 
    help/userserv        index 
    include              channel.h modebuild.h 
    src                  c_mode.c s_operserv.c ucommand.c 
  Added files:
    help/operserv        omode u-omode 
  Log:
  - added OPERSERV::OMODE
  - rework the mode parsing system
  
  Revision  Changes    Path
  1.3       +1 -2      rserv/help/chanserv/index
  1.2       +1 -0      rserv/help/operserv/index-admin
  1.1       +4 -0      rserv/help/operserv/omode (new)
  1.1       +4 -0      rserv/help/operserv/u-omode (new)
  1.2       +0 -2      rserv/help/userserv/index
  1.21      +5 -0      rserv/include/channel.h
  1.4       +0 -4      rserv/include/modebuild.h
  1.23      +272 -210  rserv/src/c_mode.c
  1.2       +41 -2     rserv/src/s_operserv.c
  1.22      +0 -2      rserv/src/ucommand.c



leeh        2005/01/04 15:59:59 EST	(20050104_16)

  Modified files:
    doc                  schema.txt 
    include              channel.h hook.h s_chanserv.h 
    src                  c_mode.c channel.c s_chanserv.c 
  Log:
  - added CHANSERV::SET::RESTRICTOPS
  - move CHANSERV::SET::MODES to CREATEMODES
  - added CHANSERV::SET::ENFORCEMODES
  
  Revision  Changes    Path
  1.14      +2 -1      rserv/doc/schema.txt
  1.20      +5 -3      rserv/include/channel.h
  1.5       +5 -3      rserv/include/hook.h
  1.22      +4 -2      rserv/include/s_chanserv.h
  1.22      +24 -0     rserv/src/c_mode.c
  1.35      +2 -0      rserv/src/channel.c
  1.36      +257 -51   rserv/src/s_chanserv.c



leeh        2005/01/04 15:57:55 EST	(20050104_15)

  Modified files:
    doc                  example.conf 
    help/userserv        register 
    include              conf.h s_chanserv.h s_userserv.h 
    src                  conf.c newconf.c s_chanserv.c 
                         s_userserv.c 
  Log:
  - allow_setx -> allow_set_x in conf
  - added CHANSERV::SET::WARNOVERRIDE
  - added CHANSERV::GETKEY
  - move SETPASS|SETEMAIL to SET PASS|EMAIL
  
  Revision  Changes    Path
  1.30      +6 -6      rserv/doc/example.conf
  1.2       +2 -2      rserv/help/userserv/register
  1.36      +2 -2      rserv/include/conf.h
  1.21      +5 -0      rserv/include/s_chanserv.h
  1.15      +1 -0      rserv/include/s_userserv.h
  1.38      +3 -3      rserv/src/conf.c
  1.40      +2 -2      rserv/src/newconf.c
  1.35      +94 -3     rserv/src/s_chanserv.c
  1.28      +165 -34   rserv/src/s_userserv.c



leeh        2005/01/04 15:55:24 EST	(20050104_14)

  Modified files:
    doc                  example.conf 
    include              conf.h event.h s_chanserv.h tools.h 
    src                  conf.c event.c newconf.c rserv.c 
                         s_chanserv.c tools.c 
  Log:
  - fixed bans in chanserv, we now test levels when applying bans and doing
    an unban
  - cache unban results, invalidated on MODBAN/DELBAN
  - added CHANSERV::SET::TOPIC, enforced every n seconds.
  - added eventUpdate(), so events that are timed from config options are
    updated properly
  
  Revision  Changes    Path
  1.29      +7 -2      rserv/doc/example.conf
  1.35      +5 -1      rserv/include/conf.h
  1.4       +1 -0      rserv/include/event.h
  1.20      +2 -0      rserv/include/s_chanserv.h
  1.18      +1 -0      rserv/include/tools.h
  1.37      +2 -4      rserv/src/conf.c
  1.5       +23 -0     rserv/src/event.c
  1.39      +41 -1     rserv/src/newconf.c
  1.44      +5 -7      rserv/src/rserv.c
  1.34      +219 -87   rserv/src/s_chanserv.c
  1.12      +13 -0     rserv/src/tools.c



leeh        2005/01/04 15:01:26 EST	(20050104_13)

  Modified files:
    doc                  example.conf 
    help                 Makefile.in 
    include              client.h conf.h s_userserv.h 
    src                  client.c conf.c newconf.c s_userserv.c 
                         service.c 
  Log:
  - added stealth to service flags, to make it ignore messages from lusers
  - track the clients logged into a username properly
  - added max_logins to userserv conf, controlling how many nicks may be
    logged into a given username at one time
  
  Revision  Changes    Path
  1.28      +9 -4      rserv/doc/example.conf
  1.5       +2 -2      rserv/help/Makefile.in
  1.32      +2 -0      rserv/include/client.h
  1.34      +1 -0      rserv/include/conf.h
  1.14      +1 -1      rserv/include/s_userserv.h
  1.28      +1 -1      rserv/src/client.c
  1.36      +5 -1      rserv/src/conf.c
  1.38      +2 -0      rserv/src/newconf.c
  1.27      +18 -16    rserv/src/s_userserv.c
  1.37      +5 -0      rserv/src/service.c



leeh        2005/01/04 14:58:51 EST	(20050104_12)

  Modified files:
    autoconf             configure.in 
    doc                  example.conf schema.txt 
    help                 genindex.sh 
    help/chanserv        index 
    help/operbot         index-admin 
    include              c_init.h channel.h conf.h setup.h.in 
    src                  Makefile.in c_mode.c channel.c conf.c 
                         newconf.c rserv.c s_global.c s_operbot.c 
  Added files:
    help/operbot         objoin obpart u-objoin u-obpart 
    help/operserv        index-admin osjoin ospart takeover 
                         u-osjoin u-ospart u-takeover 
    src                  s_operserv.c 
  Removed files:
    help/operbot         ojoin opart u-ojoin u-opart 
  Log:
  - rename ojoin/opart to objoin/obpart
  - added operserv service, with initial commands osjoin/ospart/takeover
  
  Revision  Changes    Path
  1.20      +17 -0     rserv/autoconf/configure.in
  1.27      +19 -0     rserv/doc/example.conf
  1.13      +5 -0      rserv/doc/schema.txt
  1.2       +2 -0      rserv/help/chanserv/index
  1.4       +2 -2      rserv/help/genindex.sh
  1.3       +2 -2      rserv/help/operbot/index-admin
  1.1       +3 -0      rserv/help/operbot/objoin (new)
  1.1       +3 -0      rserv/help/operbot/obpart (new)
  1.2       +0 -3      rserv/help/operbot/ojoin (dead)
  1.2       +0 -3      rserv/help/operbot/opart (dead)
  1.1       +3 -0      rserv/help/operbot/u-objoin (new)
  1.1       +3 -0      rserv/help/operbot/u-obpart (new)
  1.2       +0 -3      rserv/help/operbot/u-ojoin (dead)
  1.2       +0 -3      rserv/help/operbot/u-opart (dead)
  1.1       +3 -0      rserv/help/operserv/index-admin (new)
  1.1       +3 -0      rserv/help/operserv/osjoin (new)
  1.1       +3 -0      rserv/help/operserv/ospart (new)
  1.1       +4 -0      rserv/help/operserv/takeover (new)
  1.1       +3 -0      rserv/help/operserv/u-osjoin (new)
  1.1       +3 -0      rserv/help/operserv/u-ospart (new)
  1.1       +4 -0      rserv/help/operserv/u-takeover (new)
  1.17      +1 -0      rserv/include/c_init.h
  1.19      +2 -0      rserv/include/channel.h
  1.33      +3 -2      rserv/include/conf.h
  1.8       +3 -0      rserv/include/setup.h.in
  1.31      +2 -2      rserv/src/Makefile.in
  1.21      +1 -2      rserv/src/c_mode.c
  1.34      +1 -1      rserv/src/channel.c
  1.35      +2 -1      rserv/src/conf.c
  1.37      +1 -0      rserv/src/newconf.c
  1.43      +3 -0      rserv/src/rserv.c
  1.3       +3 -0      rserv/src/s_global.c
  1.22      +18 -21    rserv/src/s_operbot.c
  1.1       +256 -0    rserv/src/s_operserv.c (new)



leeh        2005/01/04 14:55:28 EST	(20050104_11)

  rserv/help/operserv - New directory



leeh        2005/01/04 14:53:38 EST	(20050104_10)

  Modified files:
    include              channel.h rserv.h s_chanserv.h tools.h 
    src                  c_mode.c channel.c io.c s_chanserv.c 
                         s_operbot.c s_userserv.c service.c 
                         tools.c 
  Log:
  - modify join_service() to take a mode to create the channel with
  - make string_to_array() global
  - added validation of channel keys
  - free channels when services parts and it was last person
  - added CHANSERV::SET::AUTOJOIN to make chanserv join automatically
  
  Revision  Changes    Path
  1.18      +2 -1      rserv/include/channel.h
  1.13      +0 -1      rserv/include/rserv.h
  1.19      +1 -3      rserv/include/s_chanserv.h
  1.17      +3 -0      rserv/include/tools.h
  1.20      +38 -1     rserv/src/c_mode.c
  1.33      +16 -2     rserv/src/channel.c
  1.31      +4 -4      rserv/src/io.c
  1.33      +54 -8     rserv/src/s_chanserv.c
  1.21      +3 -3      rserv/src/s_operbot.c
  1.26      +1 -0      rserv/src/s_userserv.c
  1.36      +1 -43     rserv/src/service.c
  1.11      +43 -0     rserv/src/tools.c



leeh        2005/01/04 14:50:40 EST	(20050104_9)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  conf.c newconf.c s_chanserv.c 
                         s_userserv.c 
  Log:
  - added expiry of bans and channel registrations
  - s/channel_reg_table/chan_reg_table
  
  Revision  Changes    Path
  1.26      +7 -0      rserv/doc/example.conf
  1.32      +1 -0      rserv/include/conf.h
  1.34      +4 -0      rserv/src/conf.c
  1.36      +1 -0      rserv/src/newconf.c
  1.32      +82 -12    rserv/src/s_chanserv.c
  1.25      +2 -2      rserv/src/s_userserv.c



leeh        2005/01/04 14:48:28 EST	(20050104_8)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  conf.c io.c newconf.c s_chanserv.c 
  Added files:
    help/chanserv        modban 
  Log:
  - added CHANSERV::MODBAN, to modify access level on a ban
  - added max_bans to chanserv config, controlling how many bans may be set
  
  Revision  Changes    Path
  1.25      +3 -0      rserv/doc/example.conf
  1.1       +5 -0      rserv/help/chanserv/modban (new)
  1.31      +1 -0      rserv/include/conf.h
  1.33      +1 -0      rserv/src/conf.c
  1.30      +1 -1      rserv/src/io.c
  1.35      +1 -0      rserv/src/newconf.c
  1.31      +88 -26    rserv/src/s_chanserv.c



leeh        2005/01/04 14:45:27 EST	(20050104_7)

  Modified files:
    doc                  example.conf 
    include              conf.h io.h 
    src                  client.c newconf.c s_userserv.c 
                         scommand.c 
  Log:
  - added register_url to userserv config, url to point users towards when
    disable_register is set
  - added basic validity checking on email addys
  - validate the PASS command s2s, to ensure we're talking with TS servers
  
  Revision  Changes    Path
  1.24      +5 -0      rserv/doc/example.conf
  1.30      +1 -0      rserv/include/conf.h
  1.18      +3 -0      rserv/include/io.h
  1.27      +10 -1     rserv/src/client.c
  1.34      +1 -0      rserv/src/newconf.c
  1.24      +40 -1     rserv/src/s_userserv.c
  1.21      +35 -0     rserv/src/scommand.c



leeh        2005/01/04 14:20:54 EST	(20050104_6)

  Modified files:
    doc                  example.conf 
    include              rserv.h 
    src                  balloc.c conf.c newconf.c rserv.c 
                         s_alis.c s_chanserv.c s_global.c 
                         s_jupeserv.c s_operbot.c s_userserv.c 
  Log:
  - made the hostnames for services to "services.int"
  - made die() take format strings
  - added ability to just make ircd test the config
  
  Revision  Changes    Path
  1.23      +2 -2      rserv/doc/example.conf
  1.12      +2 -1      rserv/include/rserv.h
  1.7       +5 -12     rserv/src/balloc.c
  1.32      +1 -1      rserv/src/conf.c
  1.33      +6 -1      rserv/src/newconf.c
  1.42      +82 -41    rserv/src/rserv.c
  1.28      +1 -1      rserv/src/s_alis.c
  1.30      +1 -1      rserv/src/s_chanserv.c
  1.2       +1 -1      rserv/src/s_global.c
  1.19      +1 -1      rserv/src/s_jupeserv.c
  1.20      +1 -1      rserv/src/s_operbot.c
  1.23      +1 -1      rserv/src/s_userserv.c



leeh        2005/01/04 13:51:23 EST	(20050104_5)

  Modified files:
    include              channel.h s_chanserv.h 
    src                  c_mode.c channel.c s_alis.c s_chanserv.c 
                         service.c 
  Log:
  - make chmode_to_string() take a struct chmode rather than struct channel
  - added CHANSERV::SET::MODES, used when chanserv creates the channel
  - tweaked CHANSERV::SET::NOOPS behaviour
  
  Revision  Changes    Path
  1.17      +5 -2      rserv/include/channel.h
  1.18      +1 -0      rserv/include/s_chanserv.h
  1.19      +94 -0     rserv/src/c_mode.c
  1.32      +33 -30    rserv/src/channel.c
  1.27      +5 -5      rserv/src/s_alis.c
  1.29      +60 -5     rserv/src/s_chanserv.c
  1.35      +1 -1      rserv/src/service.c



leeh        2005/01/04 13:47:40 EST	(20050104_4)

  Modified files:
    autoconf             configure.in 
    include              s_chanserv.h 
    src                  c_mode.c s_chanserv.c 
  Log:
  - added CHANSERV::SET:NOOPS, to disable anyone being opped.
  - added some info text when configure finishes
  
  Revision  Changes    Path
  1.19      +12 -0     rserv/autoconf/configure.in
  1.17      +2 -0      rserv/include/s_chanserv.h
  1.18      +1 -1      rserv/src/c_mode.c
  1.28      +147 -10   rserv/src/s_chanserv.c



leeh        2005/01/04 13:43:24 EST	(20050104_3)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  conf.c newconf.c rserv.c s_chanserv.c 
                         s_jupeserv.c s_operbot.c s_userserv.c 
  Added files:
    doc                  operguide.txt 
  Log:
  - update some comments in example.conf
  - rename the operator flags so that theyre more intuitive
  - rename oper {}; to operator {}; to be consistent with ircd-ratbox
  - stop rebuild_params() cutting at REASONLEN
  
  Revision  Changes    Path
  1.22      +24 -17    rserv/doc/example.conf
  1.1       +21 -0     rserv/doc/operguide.txt (new)
  1.29      +15 -17    rserv/include/conf.h
  1.31      +7 -6      rserv/src/conf.c
  1.32      +10 -9     rserv/src/newconf.c
  1.41      +2 -7      rserv/src/rserv.c
  1.27      +8 -8      rserv/src/s_chanserv.c
  1.18      +16 -7     rserv/src/s_jupeserv.c
  1.19      +4 -4      rserv/src/s_operbot.c
  1.22      +8 -8      rserv/src/s_userserv.c



leeh        2005/01/04 13:36:54 EST	(20050104_2)

  Modified files:
    autoconf             configure.in 
    doc                  example.conf 
    include              c_init.h conf.h setup.h.in 
    src                  Makefile.in newconf.c rserv.c 
  Added files:
    src                  s_global.c 
  Log:
  - added the global service, to do netwide messages
  
  Revision  Changes    Path
  1.18      +16 -0     rserv/autoconf/configure.in
  1.21      +14 -0     rserv/doc/example.conf
  1.16      +2 -0      rserv/include/c_init.h
  1.28      +3 -0      rserv/include/conf.h
  1.7       +2 -0      rserv/include/setup.h.in
  1.30      +2 -1      rserv/src/Makefile.in
  1.31      +1 -0      rserv/src/newconf.c
  1.40      +3 -0      rserv/src/rserv.c
  1.1       +92 -0     rserv/src/s_global.c (new)



leeh        2005/01/04 13:34:41 EST	(20050104_1)

  Modified files:
    doc                  schema.txt 
    include              s_chanserv.h 
    src                  s_chanserv.c 
  Added files:
    help/chanserv        modauto 
  Log:
  - added CHANSERV::MODAUTO to allow autoop/autovoice
  
  Revision  Changes    Path
  1.12      +1 -0      rserv/doc/schema.txt
  1.3       +5 -0      rserv/help/chanserv/modauto (new)
  1.16      +7 -0      rserv/include/s_chanserv.h
  1.26      +132 -5    rserv/src/s_chanserv.c



leeh        2005/01/04 13:32:51 EST	(20050104_0)

  Modified files:
    include              stdinc.h 
    src                  io.c rserv.c s_chanserv.c s_userserv.c 
  Log:
  - fix a compile error when we dont have getaddrinfo()
  - an ifdef to make compilation work on my laptop..
  
  Revision  Changes    Path
  1.9       +2 -0      rserv/include/stdinc.h
  1.29      +1 -1      rserv/src/io.c
  1.39      +12 -0     rserv/src/rserv.c
  1.25      +0 -1      rserv/src/s_chanserv.c
  1.21      +0 -1      rserv/src/s_userserv.c



leeh        2004/11/29 06:15:28 EST	(20041129_1)

  Modified files:
    help                 genindex.sh 
    help/chanserv        index-admin 
    help/jupeserv        index-admin 
    help/operbot         index-admin 
    help/userserv        index-admin userdrop 
  Log:
  - tweaked alignment for index-admin to 13 chars
  
  Revision  Changes    Path
  1.3       +3 -3      rserv/help/chanserv/index-admin
  1.3       +1 -1      rserv/help/genindex.sh
  1.2       +2 -2      rserv/help/jupeserv/index-admin
  1.2       +2 -2      rserv/help/operbot/index-admin
  1.3       +3 -3      rserv/help/userserv/index-admin
  1.2       +1 -1      rserv/help/userserv/userdrop



leeh        2004/11/29 06:09:14 EST	(20041129_0)

  Modified files:
    doc                  schema.txt 
    include              s_userserv.h 
    src                  s_userserv.c 
  Log:
  - add tracking of who suspends a username
  
  Revision  Changes    Path
  1.11      +1 -0      rserv/doc/schema.txt
  1.13      +1 -0      rserv/include/s_userserv.h
  1.20      +25 -13    rserv/src/s_userserv.c



leeh        2004/11/28 18:40:47 EST	(20041128_2)

  Modified files:
    help/chanserv        index-admin 
    help/userserv        index-admin 
  Added files:
    help/main            u-boot u-who 
  Log:
  - updated index files and added helpfiles for .boot/.who
  
  Revision  Changes    Path
  1.2       +4 -4      rserv/help/chanserv/index-admin
  1.1       +2 -0      rserv/help/main/u-boot (new)
  1.1       +10 -0     rserv/help/main/u-who (new)
  1.2       +3 -0      rserv/help/userserv/index-admin



leeh        2004/11/28 18:31:47 EST	(20041128_1)

  Modified files:
    include              client.h conf.h 
    src                  client.c conf.c io.c service.c u_stats.c 
                         ucommand.c 
  Log:
  - added tracking of logged in opers over irc
  - added conversion of oper flags -> string
  - deallocate oper conf on client exit
  - added .boot and .who commands
  
  Revision  Changes    Path
  1.31      +1 -0      rserv/include/client.h
  1.27      +1 -0      rserv/include/conf.h
  1.26      +8 -0      rserv/src/client.c
  1.30      +36 -0     rserv/src/conf.c
  1.28      +9 -3      rserv/src/io.c
  1.34      +8 -2      rserv/src/service.c
  1.10      +3 -2      rserv/src/u_stats.c
  1.21      +90 -12    rserv/src/ucommand.c



leeh        2004/11/28 17:21:32 EST	(20041128_0)

  Modified files:
    include              client.h io.h 
    src                  c_message.c client.c conf.c io.c 
                         newconf.c scommand.c service.c ucommand.c 
  Log:
  - fix set_modes_from_table() not resetting, which was screwing up service
    flags
  - fixed up some bugs with services introduction
  
  Revision  Changes    Path
  1.30      +12 -9     rserv/include/client.h
  1.17      +5 -0      rserv/include/io.h
  1.16      +3 -0      rserv/src/c_message.c
  1.25      +6 -0      rserv/src/client.c
  1.29      +21 -15    rserv/src/conf.c
  1.27      +3 -0      rserv/src/io.c
  1.30      +23 -8     rserv/src/newconf.c
  1.20      +3 -0      rserv/src/scommand.c
  1.33      +14 -3     rserv/src/service.c
  1.20      +8 -4      rserv/src/ucommand.c



leeh        2004/11/24 20:26:09 EST	(20041125_0)

  Modified files:
    help/main            u-flags 
    include              io.h service.h 
    src                  rserv.c s_alis.c s_chanserv.c 
                         s_jupeserv.c s_operbot.c s_userserv.c 
                         service.c ucommand.c 
  Log:
  - fix rebuild_params() not adding spaces
  - added a generic spying flag to the service handlers, which will send a
    notice to the users with that flag in dcc when the command is used.
  - implement command spying for register, oper jupes and alis
  
  Revision  Changes    Path
  1.3       +3 -0      rserv/help/main/u-flags
  1.16      +5 -1      rserv/include/io.h
  1.17      +1 -0      rserv/include/service.h
  1.38      +2 -0      rserv/src/rserv.c
  1.26      +2 -2      rserv/src/s_alis.c
  1.24      +24 -24    rserv/src/s_chanserv.c
  1.17      +8 -8      rserv/src/s_jupeserv.c
  1.18      +5 -5      rserv/src/s_operbot.c
  1.19      +16 -10    rserv/src/s_userserv.c
  1.32      +7 -0      rserv/src/service.c
  1.19      +9 -0      rserv/src/ucommand.c



leeh        2004/11/24 16:24:54 EST	(20041124_2)

  Modified files:
    help/main            u-flags 
    include              io.h ucommand.h 
    src                  s_chanserv.c s_jupeserv.c s_operbot.c 
                         s_userserv.c service.c u_stats.c 
                         ucommand.c 
  Log:
  - implemented flag 'spy' in dcc to spy on commands issued by admins,
    param per ucommand entry to disable it for that command (help, flags etc)
  
  Revision  Changes    Path
  1.2       +5 -4      rserv/help/main/u-flags
  1.15      +3 -2      rserv/include/io.h
  1.7       +1 -0      rserv/include/ucommand.h
  1.23      +5 -5      rserv/src/s_chanserv.c
  1.16      +3 -3      rserv/src/s_jupeserv.c
  1.17      +3 -3      rserv/src/s_operbot.c
  1.18      +5 -5      rserv/src/s_userserv.c
  1.31      +6 -1      rserv/src/service.c
  1.9       +1 -1      rserv/src/u_stats.c
  1.18      +18 -10    rserv/src/ucommand.c



leeh        2004/11/23 20:28:20 EST	(20041124_1)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - merge two loc_sqlite_exec()'s
  - update lastmod on suspend/unsuspend
  
  Revision  Changes    Path
  1.22      +12 -7     rserv/src/s_chanserv.c



leeh        2004/11/23 20:21:32 EST	(20041124_0)

  Modified files:
    include              s_chanserv.h 
    src                  s_chanserv.c s_userserv.c 
  Log:
  - make free_member_reg() raise the highest level to owner status when we
    remove the owner of a channel.
  
  Revision  Changes    Path
  1.15      +1 -1      rserv/include/s_chanserv.h
  1.21      +71 -28    rserv/src/s_chanserv.c
  1.17      +1 -8      rserv/src/s_userserv.c



leeh        2004/11/23 12:04:37 EST	(20041123_0)

  Modified files:
    doc                  example.conf 
    include              conf.h tools.h 
    src                  conf.c newconf.c s_userserv.c service.c 
  Log:
  - add expiry of registered usernames.
  
  Revision  Changes    Path
  1.20      +6 -0      rserv/doc/example.conf
  1.26      +2 -0      rserv/include/conf.h
  1.16      +4 -0      rserv/include/tools.h
  1.28      +2 -0      rserv/src/conf.c
  1.29      +2 -0      rserv/src/newconf.c
  1.16      +50 -38    rserv/src/s_userserv.c
  1.30      +10 -3     rserv/src/service.c



leeh        2004/11/21 12:08:14 EST	(20041121_0)

  Modified files:
    doc                  schema.txt 
    include              s_chanserv.h 
    src                  s_chanserv.c 
  Log:
  - track which oper suspends a channel, and output the fact its suspended
    in CHANSERV::INFO
  
  Revision  Changes    Path
  1.10      +1 -0      rserv/doc/schema.txt
  1.14      +1 -0      rserv/include/s_chanserv.h
  1.20      +25 -7     rserv/src/s_chanserv.c



leeh        2004/11/20 11:49:50 EST	(20041120_1)

  Modified files:
    include              s_userserv.h 
    src                  client.c s_chanserv.c s_userserv.c 
  Log:
  - fix chanserv to update flags in db on suspend/unsuspend
  - add refcounting to user_reg's, and logout users on userdrop
  
  Revision  Changes    Path
  1.12      +1 -0      rserv/include/s_userserv.h
  1.24      +6 -0      rserv/src/client.c
  1.19      +12 -0     rserv/src/s_chanserv.c
  1.15      +34 -20    rserv/src/s_userserv.c



leeh        2004/11/20 10:08:35 EST	(20041120_0)

  Modified files:
    include              s_userserv.h 
    src                  s_chanserv.c s_userserv.c 
  Added files:
    help/chanserv        chandrop chanregister chansuspend 
                         chanunsuspend u-chandrop u-chanregister 
                         u-chansuspend u-chanunsuspend 
    help/userserv        u-userdrop u-userregister u-usersuspend 
                         u-userunsuspend userdrop userregister 
                         usersuspend userunsuspend 
  Removed files:
    help/chanserv        cdrop cregister csuspend cunsuspend 
                         u-cdrop u-cregister u-csuspend 
                         u-cunsuspend 
    help/userserv        u-udrop udrop 
  Log:
  - renamed CDROP,CREGISTER,CSUSPEND,CUNSUSPEND to CHANDROP etc.
  - renamed UDROP to USERDROP
  - added USERREGISTER, USERSUSPEND, USERUNSUSPEND to userserv
  - added INFO to chanserv
  - tidied up notices with userserv
  
  Revision  Changes    Path
  1.3       +0 -3      rserv/help/chanserv/cdrop (dead)
  1.1       +3 -0      rserv/help/chanserv/chandrop (new)
  1.1       +4 -0      rserv/help/chanserv/chanregister (new)
  1.1       +3 -0      rserv/help/chanserv/chansuspend (new)
  1.1       +3 -0      rserv/help/chanserv/chanunsuspend (new)
  1.3       +0 -4      rserv/help/chanserv/cregister (dead)
  1.2       +0 -3      rserv/help/chanserv/csuspend (dead)
  1.2       +0 -3      rserv/help/chanserv/cunsuspend (dead)
  1.2       +0 -3      rserv/help/chanserv/u-cdrop (dead)
  1.1       +3 -0      rserv/help/chanserv/u-chandrop (new)
  1.1       +4 -0      rserv/help/chanserv/u-chanregister (new)
  1.1       +3 -0      rserv/help/chanserv/u-chansuspend (new)
  1.1       +3 -0      rserv/help/chanserv/u-chanunsuspend (new)
  1.2       +0 -4      rserv/help/chanserv/u-cregister (dead)
  1.2       +0 -3      rserv/help/chanserv/u-csuspend (dead)
  1.2       +0 -3      rserv/help/chanserv/u-cunsuspend (dead)
  1.2       +0 -3      rserv/help/userserv/u-udrop (dead)
  1.1       +3 -0      rserv/help/userserv/u-userdrop (new)
  1.1       +5 -0      rserv/help/userserv/u-userregister (new)
  1.1       +3 -0      rserv/help/userserv/u-usersuspend (new)
  1.1       +3 -0      rserv/help/userserv/u-userunsuspend (new)
  1.3       +0 -3      rserv/help/userserv/udrop (dead)
  1.1       +3 -0      rserv/help/userserv/userdrop (new)
  1.1       +5 -0      rserv/help/userserv/userregister (new)
  1.1       +3 -0      rserv/help/userserv/usersuspend (new)
  1.1       +3 -0      rserv/help/userserv/userunsuspend (new)
  1.11      +2 -0      rserv/include/s_userserv.h
  1.18      +143 -91   rserv/src/s_chanserv.c
  1.14      +277 -41   rserv/src/s_userserv.c



leeh        2004/11/19 17:55:40 EST	(20041119_7)

  Modified files:
    include              client.h 
    src                  s_userserv.c 
  Log:
  - only allow USERSERV::REGISTER once per client
  - check the username passed to USERSERV::REGISTER is valid, uses same
    characters as a NICK can.
  
  Revision  Changes    Path
  1.29      +4 -0      rserv/include/client.h
  1.13      +24 -1     rserv/src/s_userserv.c



leeh        2004/11/19 17:39:32 EST	(20041119_6)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  conf.c newconf.c s_alis.c 
  Log:
  - added max_matches option to alis
  
  Revision  Changes    Path
  1.19      +3 -0      rserv/doc/example.conf
  1.25      +3 -0      rserv/include/conf.h
  1.27      +7 -0      rserv/src/conf.c
  1.28      +7 -0      rserv/src/newconf.c
  1.25      +2 -3      rserv/src/s_alis.c



leeh        2004/11/19 16:54:55 EST	(20041119_5)

  Modified files:
    doc                  example.conf 
    include              client.h log.h 
    src                  log.c newconf.c s_alis.c s_chanserv.c 
                         s_jupeserv.c s_operbot.c s_userserv.c 
  Log:
  - implement loglevel to service {};
  - added logging of services commands
  - fix a bug with .cregister using the wrong param
  - fix wrong parameter count on udrop
  
  Revision  Changes    Path
  1.18      +36 -0     rserv/doc/example.conf
  1.28      +2 -0      rserv/include/client.h
  1.6       +1 -1      rserv/include/log.h
  1.7       +4 -1      rserv/src/log.c
  1.27      +6 -0      rserv/src/newconf.c
  1.24      +2 -0      rserv/src/s_alis.c
  1.17      +92 -1     rserv/src/s_chanserv.c
  1.15      +26 -0     rserv/src/s_jupeserv.c
  1.16      +10 -0     rserv/src/s_operbot.c
  1.12      +18 -1     rserv/src/s_userserv.c



leeh        2004/11/19 09:08:20 EST	(20041119_4)

  Modified files:
    doc                  example.conf 
    include              client.h 
    src                  newconf.c service.c 
  Log:
  - read in the index/index-admin files to each service
  - add a short_help flag to services, which will use the old help method of
    simply outputting a list of commands, otherwise we output index and
    index-admin if theyre an admin.
  
  Revision  Changes    Path
  1.17      +6 -4      rserv/doc/example.conf
  1.27      +5 -0      rserv/include/client.h
  1.26      +1 -0      rserv/src/newconf.c
  1.29      +77 -21    rserv/src/service.c



leeh        2004/11/19 08:45:19 EST	(20041119_3)

  Modified files:
    doc                  example.conf 
    include              client.h service.h 
    src                  conf.c io.c newconf.c service.c 
  Log:
  - reworked reintroducing of services to use bitmasks, and added ability to
    disable a service
  
  Revision  Changes    Path
  1.16      +1 -0      rserv/doc/example.conf
  1.26      +16 -7     rserv/include/client.h
  1.16      +1 -0      rserv/include/service.h
  1.26      +13 -6     rserv/src/conf.c
  1.26      +11 -0     rserv/src/io.c
  1.25      +8 -7      rserv/src/newconf.c
  1.28      +20 -2     rserv/src/service.c



leeh        2004/11/19 08:07:22 EST	(20041119_2)

  Modified files:
    doc                  example.conf 
    include              client.h service.h 
    src                  newconf.c s_alis.c s_chanserv.c 
                         s_jupeserv.c s_operbot.c s_userserv.c 
                         scommand.c service.c 
  Log:
  - removed the 'opered' flag from struct service_handler
  - added flags entry to service {};, two flags controlling whether the
    service is opered, and whether messages come from the service nick or the
    servername
  - fixed services to always use service_error()
  - fixed OLOGIN etc to always use sendto_server()
  
  Revision  Changes    Path
  1.15      +11 -0     rserv/doc/example.conf
  1.25      +7 -1      rserv/include/client.h
  1.15      +0 -1      rserv/include/service.h
  1.24      +15 -0     rserv/src/newconf.c
  1.23      +21 -27    rserv/src/s_alis.c
  1.16      +1 -1      rserv/src/s_chanserv.c
  1.14      +1 -1      rserv/src/s_jupeserv.c
  1.15      +1 -1      rserv/src/s_operbot.c
  1.11      +5 -5      rserv/src/s_userserv.c
  1.19      +3 -5      rserv/src/scommand.c
  1.27      +27 -29    rserv/src/service.c



leeh        2004/11/19 07:28:37 EST	(20041119_1)

  Modified files:
    src                  s_jupeserv.c 
  Log:
  - disable wildcard jupes, and jupes matching our uplink
  
  Revision  Changes    Path
  1.13      +17 -3     rserv/src/s_jupeserv.c



leeh        2004/11/18 19:57:02 EST	(20041119_0)

  Modified files:
    .                    INSTALL configure 
    autoconf             configure.in 
    include              rserv.h 
    src                  newconf.c rserv.c s_jupeserv.c 
  Added files:
    .                    README 
  Log:
  - added sqlite installation instructions to INSTALL
  - add some info to README
  - fix configure including -lsqlite twice
  - check servername is a valid servername
  - check requested jupes are valid servernames and dont match our name.
  
  Revision  Changes    Path
  1.4       +47 -7     rserv/INSTALL
  1.1       +29 -0     rserv/README (new)
  1.17      +1 -1      rserv/autoconf/configure.in
  1.17      +1 -1      rserv/configure
  1.11      +2 -0      rserv/include/rserv.h
  1.23      +8 -0      rserv/src/newconf.c
  1.37      +23 -0     rserv/src/rserv.c
  1.12      +20 -1     rserv/src/s_jupeserv.c



leeh        2004/11/18 18:35:25 EST	(20041118_6)

  Added files:
    help/jupeserv        u-jupe u-unjupe 
  Log:
  - add jupeserv helpfiles too
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/help/jupeserv/u-jupe (new)
  1.1       +3 -0      rserv/help/jupeserv/u-unjupe (new)



leeh        2004/11/18 18:34:00 EST	(20041118_5)

  Modified files:
    help                 genindex.sh 
    src                  service.c 
  Added files:
    help/chanserv        u-cdrop u-cregister u-csuspend 
                         u-cunsuspend 
    help/operbot         index-admin ojoin opart u-ojoin u-opart 
    help/userserv        u-udrop 
  Log:
  - updated genindex.sh to ignore help files beginning with "u-", these are
    for logins over dcc
  - added operbot documentation
  - added documentation for commands over dcc
  
  Revision  Changes    Path
  1.1       +3 -0      rserv/help/chanserv/u-cdrop (new)
  1.1       +4 -0      rserv/help/chanserv/u-cregister (new)
  1.1       +3 -0      rserv/help/chanserv/u-csuspend (new)
  1.1       +3 -0      rserv/help/chanserv/u-cunsuspend (new)
  1.2       +8 -0      rserv/help/genindex.sh
  1.1       +2 -0      rserv/help/operbot/index-admin (new)
  1.1       +3 -0      rserv/help/operbot/ojoin (new)
  1.1       +3 -0      rserv/help/operbot/opart (new)
  1.1       +3 -0      rserv/help/operbot/u-ojoin (new)
  1.1       +3 -0      rserv/help/operbot/u-opart (new)
  1.1       +3 -0      rserv/help/userserv/u-udrop (new)
  1.26      +8 -8      rserv/src/service.c



leeh        2004/11/18 17:33:26 EST	(20041118_4)

  Modified files:
    help                 Makefile.in 
    help/operbot         op 
    include              client.h ucommand.h 
    src                  rserv.c service.c ucommand.c 
  Log:
  - fix Makefile.in in help/ to correctly install all help files
  - store list of ucommands in each service for .help
  - reworked .help to list commands available in each service
  
  Revision  Changes    Path
  1.4       +6 -13     rserv/help/Makefile.in
  1.4       +1 -2      rserv/help/operbot/op
  1.24      +2 -0      rserv/include/client.h
  1.6       +3 -2      rserv/include/ucommand.h
  1.36      +1 -1      rserv/src/rserv.c
  1.25      +1 -1      rserv/src/service.c
  1.17      +69 -44    rserv/src/ucommand.c



leeh        2004/11/18 14:37:06 EST	(20041118_3)

  Modified files:
    doc                  example.conf 
    help/chanserv        addban adduser cdrop clearallops 
                         clearbans clearmodes clearops cregister 
                         delban deluser invite join listbans 
                         listusers moduser op part register 
                         suspend unban unsuspend voice 
    help/jupeserv        jupe unjupe 
    help/userserv        udrop 
    include              s_chanserv.h 
    src                  s_chanserv.c 
  Added files:
    help                 genindex.sh 
    help/alis            index 
    help/chanserv        csuspend cunsuspend index index-admin 
    help/jupeserv        index index-admin 
    help/operbot         index 
    help/userserv        index index-admin 
  Log:
  - added an sh script to generate index files, add added these in.
  - update helpfiles
  - added ability to suspend/unsuspend a channel registration
  
  Revision  Changes    Path
  1.14      +6 -0      rserv/doc/example.conf
  1.1       +1 -0      rserv/help/alis/index (new)
  1.2       +1 -1      rserv/help/chanserv/addban
  1.3       +1 -1      rserv/help/chanserv/adduser
  1.2       +1 -1      rserv/help/chanserv/cdrop
  1.2       +1 -1      rserv/help/chanserv/clearallops
  1.2       +1 -1      rserv/help/chanserv/clearbans
  1.2       +1 -1      rserv/help/chanserv/clearmodes
  1.2       +1 -1      rserv/help/chanserv/clearops
  1.2       +1 -1      rserv/help/chanserv/cregister
  1.1       +3 -0      rserv/help/chanserv/csuspend (new)
  1.1       +3 -0      rserv/help/chanserv/cunsuspend (new)
  1.2       +1 -1      rserv/help/chanserv/delban
  1.3       +1 -1      rserv/help/chanserv/deluser
  1.1       +20 -0     rserv/help/chanserv/index (new)
  1.1       +4 -0      rserv/help/chanserv/index-admin (new)
  1.2       +1 -1      rserv/help/chanserv/invite
  1.3       +1 -1      rserv/help/chanserv/join
  1.2       +1 -1      rserv/help/chanserv/listbans
  1.2       +1 -1      rserv/help/chanserv/listusers
  1.3       +1 -1      rserv/help/chanserv/moduser
  1.3       +1 -1      rserv/help/chanserv/op
  1.3       +1 -1      rserv/help/chanserv/part
  1.3       +1 -1      rserv/help/chanserv/register
  1.2       +1 -1      rserv/help/chanserv/suspend
  1.2       +1 -1      rserv/help/chanserv/unban
  1.2       +1 -1      rserv/help/chanserv/unsuspend
  1.3       +1 -1      rserv/help/chanserv/voice
  1.1       +30 -0     rserv/help/genindex.sh (new)
  1.1       +3 -0      rserv/help/jupeserv/index (new)
  1.1       +2 -0      rserv/help/jupeserv/index-admin (new)
  1.2       +1 -1      rserv/help/jupeserv/jupe
  1.2       +1 -1      rserv/help/jupeserv/unjupe
  1.1       +2 -0      rserv/help/operbot/index (new)
  1.1       +5 -0      rserv/help/userserv/index (new)
  1.1       +1 -0      rserv/help/userserv/index-admin (new)
  1.2       +1 -1      rserv/help/userserv/udrop
  1.13      +2 -0      rserv/include/s_chanserv.h
  1.15      +104 -0    rserv/src/s_chanserv.c



leeh        2004/11/18 12:39:55 EST	(20041118_2)

  Modified files:
    include              conf.h 
    src                  conf.c newconf.c s_userserv.c 
  Added files:
    help/userserv        setemail setpass 
  Log:
  - imlpemented SETPASS and SETEMAIL for userserv, and appropriate conf
    options to disable them
  
  Revision  Changes    Path
  1.1       +3 -0      rserv/help/userserv/setemail (new)
  1.1       +4 -0      rserv/help/userserv/setpass (new)
  1.24      +2 -0      rserv/include/conf.h
  1.25      +2 -0      rserv/src/conf.c
  1.22      +2 -0      rserv/src/newconf.c
  1.10      +54 -0     rserv/src/s_userserv.c



leeh        2004/11/18 12:21:27 EST	(20041118_1)

  Modified files:
    help                 Makefile.in 
  Added files:
    help/jupeserv        calljupe callunjupe jupe pending unjupe 
    help/userserv        login logout register udrop 
  Removed files:
    help/hoststat        clones host testmask 
  Log:
  - add help for various commands
  
  Revision  Changes    Path
  1.3       +2 -2      rserv/help/Makefile.in
  1.3       +0 -3      rserv/help/hoststat/clones (dead)
  1.3       +0 -3      rserv/help/hoststat/host (dead)
  1.3       +0 -3      rserv/help/hoststat/testmask (dead)
  1.1       +4 -0      rserv/help/jupeserv/calljupe (new)
  1.1       +3 -0      rserv/help/jupeserv/callunjupe (new)
  1.1       +4 -0      rserv/help/jupeserv/jupe (new)
  1.1       +2 -0      rserv/help/jupeserv/pending (new)
  1.1       +3 -0      rserv/help/jupeserv/unjupe (new)
  1.1       +4 -0      rserv/help/userserv/login (new)
  1.1       +2 -0      rserv/help/userserv/logout (new)
  1.1       +6 -0      rserv/help/userserv/register (new)
  1.1       +3 -0      rserv/help/userserv/udrop (new)



leeh        2004/11/17 19:05:13 EST	(20041118_0)

  Modified files:
    .                    INSTALL 
    src                  rserv.c 
  Log:
  - dont allow running as root
  
  Revision  Changes    Path
  1.3       +1 -1      rserv/INSTALL
  1.35      +7 -1      rserv/src/rserv.c



leeh        2004/11/17 18:58:16 EST	(20041117_4)

  Modified files:
    .                    Makefile.in 
    doc                  example.conf schema.txt 
    include              conf.h s_userserv.h 
    src                  .cvsignore conf.c newconf.c s_userserv.c 
  Log:
  - install the schema to PREFIX too
  - add storage of email address to userserv db, conf option register_email to
    dictate whether users are required to give an email addy on REGISTER
  
  Revision  Changes    Path
  1.7       +1 -0      rserv/Makefile.in
  1.13      +2 -0      rserv/doc/example.conf
  1.9       +1 -0      rserv/doc/schema.txt
  1.23      +1 -0      rserv/include/conf.h
  1.10      +1 -0      rserv/include/s_userserv.h
  1.3       +1 -1      rserv/src/.cvsignore
  1.24      +1 -0      rserv/src/conf.c
  1.21      +1 -0      rserv/src/newconf.c
  1.9       +21 -7     rserv/src/s_userserv.c



leeh        2004/11/17 18:37:29 EST	(20041117_3)

  Modified files:
    .                    configure 
    autoconf             configure.in 
  Log:
  - add help text in configure to --with-sqlite
  
  Revision  Changes    Path
  1.16      +3 -1      rserv/autoconf/configure.in
  1.16      +1 -1      rserv/configure



leeh        2004/11/17 17:22:53 EST	(20041117_2)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
    include              config.h 
    src                  Makefile.in 
  Log:
  - fixed the autoconf code to check properly for sqlite.h and sqlite lib
  - renamed the conf, pid and db file to services.(???)
  - renamed the binary to ratbox-services
  
  Revision  Changes    Path
  1.6       +1 -1      rserv/Makefile.in
  1.15      +30 -42    rserv/autoconf/configure.in
  1.15      +81 -53    rserv/configure
  1.22      +3 -3      rserv/include/config.h
  1.29      +2 -2      rserv/src/Makefile.in



leeh        2004/11/17 16:31:15 EST	(20041117_1)

  Modified files:
    .                    Makefile.in 
    include              client.h config.h log.h tools.h 
    src                  balloc.c c_error.c client.c conf.c io.c 
                         log.c newconf.c rserv.c scommand.c 
                         service.c ucommand.c 
  Log:
  - moved logfiles to their own dir
  - s/slog/mlog
  - give each service its own logfile
  - tidied up the log reopening
  
  Revision  Changes    Path
  1.5       +1 -0      rserv/Makefile.in
  1.23      +2 -0      rserv/include/client.h
  1.21      +3 -1      rserv/include/config.h
  1.5       +7 -3      rserv/include/log.h
  1.15      +2 -2      rserv/include/tools.h
  1.6       +6 -6      rserv/src/balloc.c
  1.6       +1 -1      rserv/src/c_error.c
  1.23      +7 -7      rserv/src/client.c
  1.23      +4 -5      rserv/src/conf.c
  1.25      +18 -18    rserv/src/io.c
  1.6       +46 -6     rserv/src/log.c
  1.20      +1 -1      rserv/src/newconf.c
  1.34      +9 -9      rserv/src/rserv.c
  1.18      +2 -2      rserv/src/scommand.c
  1.24      +5 -3      rserv/src/service.c
  1.16      +3 -3      rserv/src/ucommand.c



leeh        2004/11/17 10:46:34 EST	(20041117_0)

  Modified files:
    doc                  example.conf 
    src                  conf.c 
  Log:
  - updated the example conf and added some conf validation
  
  Revision  Changes    Path
  1.12      +85 -11    rserv/doc/example.conf
  1.22      +30 -0     rserv/src/conf.c



leeh        2004/11/15 19:06:49 EST	(20041116_0)

  Modified files:
    src                  s_jupeserv.c 
  Log:
  - added "PENDING" command to jupeserv to list pending jupes/unjupes
  
  Revision  Changes    Path
  1.11      +38 -0     rserv/src/s_jupeserv.c



leeh        2004/11/12 10:27:25 EST	(20041112_0)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - chain -o's and kicks together when we do CHANSERV::ADDBAN
  - fix rebuilding of ban reason on CHANSERV::ADDBAN
  
  Revision  Changes    Path
  1.14      +16 -12    rserv/src/s_chanserv.c



leeh        2004/11/05 18:15:59 EST	(20041105_0)

  Modified files:
    include              modebuild.h rserv.h s_chanserv.h 
    src                  channel.c modebuild.c rserv.c 
                         s_chanserv.c s_jupeserv.c 
  Log:
  - reworked kickbuilder to store reason per kick
  - hook for HOOK_JOIN_CHANNEL was using wrong params
  - added support to chanserv for kickbanning people who join and match
    stored bans
  
  Revision  Changes    Path
  1.3       +2 -3      rserv/include/modebuild.h
  1.10      +2 -0      rserv/include/rserv.h
  1.12      +1 -0      rserv/include/s_chanserv.h
  1.31      +1 -1      rserv/src/channel.c
  1.3       +21 -7     rserv/src/modebuild.c
  1.33      +3 -0      rserv/src/rserv.c
  1.13      +105 -0    rserv/src/s_chanserv.c
  1.10      +1 -1      rserv/src/s_jupeserv.c



leeh        2004/10/29 15:06:56 EDT	(20041029_1)

  Modified files:
    src                  service.c 
  Log:
  - fix include of crypt.h
  
  Revision  Changes    Path
  1.23      +5 -1      rserv/src/service.c



leeh        2004/10/29 14:57:22 EDT	(20041029_0)

  Modified files:
    src                  Makefile.in 
    autoconf             configure.in 
    .                    configure 
  Log:
  - patch via rakaur to properly check for sqlite
  
  Revision  Changes    Path
  1.14      +45 -0     rserv/autoconf/configure.in
  1.14      +162 -70   rserv/configure
  1.28      +3 -3      rserv/src/Makefile.in



leeh        2004/10/27 15:22:47 EDT	(20041027_5)

  Modified files:
    help/operbot         op 
    src                  s_operbot.c 
  Log:
  - allow op to operbot without params, to op in all common channels
  
  Revision  Changes    Path
  1.3       +3 -2      rserv/help/operbot/op
  1.14      +27 -1     rserv/src/s_operbot.c



leeh        2004/10/27 14:27:40 EDT	(20041027_4)

  Modified files:
    include              tools.h 
    src                  c_mode.c channel.c s_operbot.c scommand.c 
                         tools.c 
  Log:
  - swapped two params of dlink_find_* to be consistent with other dlink
    functions
  
  Revision  Changes    Path
  1.14      +3 -3      rserv/include/tools.h
  1.17      +2 -2      rserv/src/c_mode.c
  1.30      +4 -4      rserv/src/channel.c
  1.13      +4 -4      rserv/src/s_operbot.c
  1.17      +1 -1      rserv/src/scommand.c
  1.10      +4 -4      rserv/src/tools.c



leeh        2004/10/27 14:15:34 EDT	(20041027_3)

  Modified files:
    include              channel.h conf.h 
    src                  channel.c newconf.c 
  Log:
  - added a config option named ratbox, for a ratbox only network
  - simply have the server op us if we lose ops and network is ratbox
  - move the services reop on sjoin to just below when we remove our modes,
    before we start parsing the nicklist
  
  Revision  Changes    Path
  1.16      +1 -1      rserv/include/channel.h
  1.22      +1 -0      rserv/include/conf.h
  1.29      +23 -13    rserv/src/channel.c
  1.19      +1 -0      rserv/src/newconf.c



leeh        2004/10/27 14:05:41 EDT	(20041027_2)

  Modified files:
    include              modebuild.h 
    src                  modebuild.c 
  Log:
  - added a kick builder
  
  Revision  Changes    Path
  1.2       +5 -0      rserv/include/modebuild.h
  1.2       +35 -0     rserv/src/modebuild.c



leeh        2004/10/27 13:21:34 EDT	(20041027_1)

  Modified files:
    src                  s_jupeserv.c 
  Log:
  - added wallops to calljupe/callunjupe
  
  Revision  Changes    Path
  1.9       +24 -4     rserv/src/s_jupeserv.c



leeh        2004/10/27 12:43:32 EDT	(20041027_0)

  Modified files:
    include              conf.h 
    src                  newconf.c s_jupeserv.c 
  Log:
  - added expiry of pending oper jupes, with associated conf option.
  
  Revision  Changes    Path
  1.21      +1 -0      rserv/include/conf.h
  1.18      +1 -0      rserv/src/newconf.c
  1.8       +26 -0     rserv/src/s_jupeserv.c



leeh        2004/10/19 18:45:42 EDT	(20041019_1)

  Modified files:
    include              conf.h 
    src                  newconf.c s_jupeserv.c 
  Log:
  - remove admin_score from jupes config
  - disable oper jupes if the appropriate vars are 0
  - add jupe/unjupe over dcc
  
  Revision  Changes    Path
  1.20      +0 -1      rserv/include/conf.h
  1.17      +0 -1      rserv/src/newconf.c
  1.7       +97 -1     rserv/src/s_jupeserv.c



leeh        2004/10/19 18:20:13 EDT	(20041019_0)

  Modified files:
    .                    CREDITS INSTALL 
    include              conf.h hook.h 
    src                  newconf.c s_jupeserv.c scommand.c 
  Log:
  - updated CREDITS and INSTALL
  - added JUPE/UNJUPE over irc commands, to immediately jupe/unjupe servers,
    controllable via jupe_admin
  - add a finished_bursting hook, at which point reintroduce juped servers
  
  Revision  Changes    Path
  1.2       +4 -6      rserv/CREDITS
  1.2       +18 -7     rserv/INSTALL
  1.19      +1 -0      rserv/include/conf.h
  1.4       +2 -1      rserv/include/hook.h
  1.16      +1 -0      rserv/src/newconf.c
  1.6       +99 -2     rserv/src/s_jupeserv.c
  1.16      +2 -0      rserv/src/scommand.c



leeh        2004/10/16 20:11:02 EDT	(20041017_0)

  Modified files:
    doc                  schema.txt 
    include              hook.h 
    src                  client.c hook.c s_jupeserv.c 
  Log:
  - reworked hooks to use integer returning funcs
  - added hook for squit of unknown servers, for jupeserv, it now reintroduces
    squit jupes
  - storage of jupes in db
  
  Revision  Changes    Path
  1.8       +5 -0      rserv/doc/schema.txt
  1.3       +4 -3      rserv/include/hook.h
  1.22      +5 -1      rserv/src/client.c
  1.3       +6 -3      rserv/src/hook.c
  1.5       +66 -16    rserv/src/s_jupeserv.c



leeh        2004/10/16 19:36:30 EDT	(20041016_3)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - make the chanserv ban duration in minutes not seconds
  
  Revision  Changes    Path
  1.12      +2 -1      rserv/src/s_chanserv.c



leeh        2004/10/16 18:47:50 EDT	(20041016_2)

  Modified files:
    help/chanserv        adduser deluser join moduser op part 
                         register voice 
  Added files:
    help/chanserv        addban cdrop clearallops clearbans 
                         clearmodes clearops cregister delban 
                         invite listbans listusers suspend unban 
                         unsuspend 
  Removed files:
    help/chanserv        deop devoice modauto 
  Log:
  - updated the chanserv documentation
  
  Revision  Changes    Path
  1.1       +8 -0      rserv/help/chanserv/addban (new)
  1.2       +3 -3      rserv/help/chanserv/adduser
  1.1       +3 -0      rserv/help/chanserv/cdrop (new)
  1.1       +3 -0      rserv/help/chanserv/clearallops (new)
  1.1       +3 -0      rserv/help/chanserv/clearbans (new)
  1.1       +3 -0      rserv/help/chanserv/clearmodes (new)
  1.1       +3 -0      rserv/help/chanserv/clearops (new)
  1.1       +4 -0      rserv/help/chanserv/cregister (new)
  1.1       +4 -0      rserv/help/chanserv/delban (new)
  1.2       +2 -2      rserv/help/chanserv/deluser
  1.2       +0 -5      rserv/help/chanserv/deop (dead)
  1.2       +0 -5      rserv/help/chanserv/devoice (dead)
  1.1       +3 -0      rserv/help/chanserv/invite (new)
  1.2       +3 -3      rserv/help/chanserv/join
  1.1       +3 -0      rserv/help/chanserv/listbans (new)
  1.1       +3 -0      rserv/help/chanserv/listusers (new)
  1.2       +0 -5      rserv/help/chanserv/modauto (dead)
  1.2       +12 -2     rserv/help/chanserv/moduser
  1.2       +3 -5      rserv/help/chanserv/op
  1.2       +3 -3      rserv/help/chanserv/part
  1.2       +2 -2      rserv/help/chanserv/register
  1.1       +5 -0      rserv/help/chanserv/suspend (new)
  1.1       +3 -0      rserv/help/chanserv/unban (new)
  1.1       +4 -0      rserv/help/chanserv/unsuspend (new)
  1.2       +3 -5      rserv/help/chanserv/voice



leeh        2004/10/16 18:02:00 EDT	(20041016_1)

  Modified files:
    src                  channel.c 
  Log:
  - fix a bug with channel TSs, and a bug with rejoining services
  - reorder mode loop slightly
  
  Revision  Changes    Path
  1.28      +7 -7      rserv/src/channel.c



leeh        2004/10/16 09:43:31 EDT	(20041016_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              channel.h 
    src                  c_mode.c channel.c s_chanserv.c 
                         s_userserv.c service.c 
  Log:
  - remove an extra $ in configure code
  - make rejoin_service() take a part param
  - handle -o+o on a service properly so we dont rejoin
  - make chanserv/userserv compile
  
  Revision  Changes    Path
  1.13      +1 -1      rserv/autoconf/configure.in
  1.13      +1 -1      rserv/configure
  1.15      +1 -1      rserv/include/channel.h
  1.16      +11 -10    rserv/src/c_mode.c
  1.27      +16 -3     rserv/src/channel.c
  1.11      +1 -0      rserv/src/s_chanserv.c
  1.8       +1 -1      rserv/src/s_userserv.c
  1.22      +1 -1      rserv/src/service.c



leeh        2004/10/15 19:57:04 EDT	(20041015_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              config.h setup.h.in 
    src                  Makefile.in rserv.c s_alis.c s_jupeserv.c 
                         s_operbot.c 
  Log:
  - add some configure magic, --enable-alis etc to determine which services
    are built
  
  Revision  Changes    Path
  1.12      +85 -0     rserv/autoconf/configure.in
  1.12      +210 -65   rserv/configure
  1.20      +0 -26     rserv/include/config.h
  1.6       +17 -1     rserv/include/setup.h.in
  1.27      +1 -1      rserv/src/Makefile.in
  1.32      +7 -6      rserv/src/rserv.c
  1.22      +1 -1      rserv/src/s_alis.c
  1.4       +3 -0      rserv/src/s_jupeserv.c
  1.12      +1 -1      rserv/src/s_operbot.c



leeh        2004/10/12 19:51:30 EDT	(20041012_0)

  Modified files:
    include              s_chanserv.h 
    src                  s_chanserv.c s_userserv.c 
  Log:
  - implemented udrop for dropping registered usernames
  - added free_member_reg() to handle removing memberships
  
  Revision  Changes    Path
  1.11      +4 -2      rserv/include/s_chanserv.h
  1.10      +26 -28    rserv/src/s_chanserv.c
  1.7       +97 -1     rserv/src/s_userserv.c



leeh        2004/10/10 11:35:58 EDT	(20041010_1)

  Modified files:
    include              conf.h 
    src                  newconf.c s_chanserv.c s_userserv.c 
  Log:
  - add rate limiting of n registers per m seconds
  
  Revision  Changes    Path
  1.18      +4 -0      rserv/include/conf.h
  1.15      +4 -0      rserv/src/newconf.c
  1.9       +22 -0     rserv/src/s_chanserv.c
  1.6       +23 -0     rserv/src/s_userserv.c



leeh        2004/10/10 11:13:49 EDT	(20041010_0)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - implemented .cregister and .cdrop over dcc
  
  Revision  Changes    Path
  1.8       +66 -1     rserv/src/s_chanserv.c



leeh        2004/10/08 19:10:05 EDT	(20041008_0)

  Modified files:
    doc                  schema.txt 
    include              channel.h conf.h service.h 
    src                  channel.c newconf.c s_operbot.c 
  Log:
  - added ojoin/opart commands, for joining/parting the operbot service and an
    associated table in rserv.db
  
  Revision  Changes    Path
  1.7       +4 -2      rserv/doc/schema.txt
  1.14      +1 -1      rserv/include/channel.h
  1.17      +2 -0      rserv/include/conf.h
  1.14      +0 -6      rserv/include/service.h
  1.26      +5 -3      rserv/src/channel.c
  1.14      +1 -16     rserv/src/newconf.c
  1.11      +99 -1     rserv/src/s_operbot.c



leeh        2004/10/05 18:44:43 EDT	(20041005_3)

  Modified files:
    src                  s_chanserv.c 
  Log:
  - drop a channel registration when the only person with access removes
    themselves
  
  Revision  Changes    Path
  1.7       +52 -33    rserv/src/s_chanserv.c



leeh        2004/10/05 18:08:07 EDT	(20041005_2)

  Modified files:
    src                  s_chanserv.c service.c 
  Log:
  - add chanserv commands "CREGISTER" and "CDROP" for admins
  - make handle_service() check the oper privs of a command
  
  Revision  Changes    Path
  1.6       +95 -1     rserv/src/s_chanserv.c
  1.21      +11 -4     rserv/src/service.c



leeh        2004/10/05 16:12:43 EDT	(20041005_1)

  Modified files:
    include              conf.h service.h tools.h 
    src                  newconf.c s_alis.c s_chanserv.c 
                         s_jupeserv.c s_operbot.c s_userserv.c 
                         service.c tools.c 
  Log:
  - reworked the irc command handler to include privs required for someone
    logged in..
  
  Revision  Changes    Path
  1.16      +17 -2     rserv/include/conf.h
  1.13      +7 -0      rserv/include/service.h
  1.13      +1 -0      rserv/include/tools.h
  1.13      +4 -0      rserv/src/newconf.c
  1.21      +2 -2      rserv/src/s_alis.c
  1.5       +19 -19    rserv/src/s_chanserv.c
  1.3       +8 -7      rserv/src/s_jupeserv.c
  1.10      +3 -3      rserv/src/s_operbot.c
  1.5       +10 -4     rserv/src/s_userserv.c
  1.20      +1 -1      rserv/src/service.c
  1.9       +19 -0     rserv/src/tools.c



leeh        2004/10/05 10:44:49 EDT	(20041005_0)

  Modified files:
    doc                  example.conf 
    include              conf.h ucommand.h 
    src                  io.c newconf.c u_stats.c ucommand.c 
  Log:
  - move "dcc" priv into flags, dont enable it by default
  - merge "sadmin" priv into "admin"
  - add "route" priv, for .connect
  - add back the setting privs via table stuff in conf parser
  - add minpara to command structure over dcc
  - fix a parsing bug with get_line()
  
  Revision  Changes    Path
  1.11      +4 -15     rserv/doc/example.conf
  1.15      +2 -2      rserv/include/conf.h
  1.5       +1 -0      rserv/include/ucommand.h
  1.24      +7 -4      rserv/src/io.c
  1.12      +8 -28     rserv/src/newconf.c
  1.8       +17 -6     rserv/src/u_stats.c
  1.15      +14 -19    rserv/src/ucommand.c



leeh        2004/10/04 15:38:19 EDT	(20041004_2)

  Modified files:
    include              client.h conf.h 
    src                  conf.c service.c ucommand.c 
  Log:
  - allow logging in over irc
  
  Revision  Changes    Path
  1.22      +1 -0      rserv/include/client.h
  1.14      +2 -0      rserv/include/conf.h
  1.21      +1 -1      rserv/src/conf.c
  1.19      +74 -14    rserv/src/service.c
  1.14      +2 -2      rserv/src/ucommand.c



leeh        2004/10/04 15:37:24 EDT	(20041004_1)

  Modified files:
    include              conf.h newconf.h 
    src                  newconf.c s_chanserv.c s_jupeserv.c 
                         s_operbot.c s_userserv.c 
  Log:
  - extended the conf parser so that service "chanserv" { }; can have chanserv
    specific options etc.
  
  Revision  Changes    Path
  1.13      +12 -0     rserv/include/conf.h
  1.4       +7 -0      rserv/include/newconf.h
  1.11      +89 -4     rserv/src/newconf.c
  1.4       +6 -0      rserv/src/s_chanserv.c
  1.2       +4 -4      rserv/src/s_jupeserv.c
  1.9       +0 -19     rserv/src/s_operbot.c
  1.4       +6 -0      rserv/src/s_userserv.c



leeh        2004/10/04 15:36:22 EDT	(20041004_0)

  Modified files:
    doc                  example.conf 
    include              c_init.h client.h rserv.h 
    src                  Makefile.in rserv.c 
  Added files:
    src                  crypt.c s_jupeserv.c 
  Log:
  - add missing crypt.c
  - initial work on jupeserv
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/doc/example.conf
  1.15      +2 -3      rserv/include/c_init.h
  1.21      +1 -0      rserv/include/client.h
  1.9       +2 -0      rserv/include/rserv.h
  1.26      +1 -1      rserv/src/Makefile.in
  1.1       +117 -0    rserv/src/crypt.c (new)
  1.31      +24 -3     rserv/src/rserv.c
  1.1       +185 -0    rserv/src/s_jupeserv.c (new)



leeh        2004/09/25 11:59:30 EDT	(20040925_14)

  Removed files:
    src/s_chanserv       .cvsignore .depend Makefile.in 
                         s_c_admin.c s_c_clear.c s_c_db.c 
                         s_c_local.h s_c_op.c s_c_set.c 
                         s_c_suspend.c s_chanserv.c 
    src/s_userserv       .cvsignore 
  Log:
  - remove the old chanserv files
  
  Revision  Changes    Path
  1.2       +0 -1      rserv/src/s_chanserv/.cvsignore (dead)
  1.3       +0 -30     rserv/src/s_chanserv/.depend (dead)
  1.6       +0 -49     rserv/src/s_chanserv/Makefile.in (dead)
  1.6       +0 -311    rserv/src/s_chanserv/s_c_admin.c (dead)
  1.2       +0 -55     rserv/src/s_chanserv/s_c_clear.c (dead)
  1.3       +0 -71     rserv/src/s_chanserv/s_c_db.c (dead)
  1.8       +0 -63     rserv/src/s_chanserv/s_c_local.h (dead)
  1.5       +0 -221    rserv/src/s_chanserv/s_c_op.c (dead)
  1.3       +0 -187    rserv/src/s_chanserv/s_c_set.c (dead)
  1.2       +0 -119    rserv/src/s_chanserv/s_c_suspend.c (dead)
  1.12      +0 -453    rserv/src/s_chanserv/s_chanserv.c (dead)
  1.2       +0 -1      rserv/src/s_userserv/.cvsignore (dead)



leeh        2004/09/25 11:57:10 EDT	(20040925_13)

  Modified files:
    include              channel.h tools.h 
    src                  Makefile.in match.c s_chanserv.c 
  Added files:
    include              modebuild.h 
    src                  modebuild.c 
  Log:
  - added a modebuilder to allow services to chain modes easily
  - more work on chanserv
  
  Revision  Changes    Path
  1.13      +2 -0      rserv/include/channel.h
  1.1       +13 -0     rserv/include/modebuild.h (new)
  1.12      +3 -0      rserv/include/tools.h
  1.25      +2 -3      rserv/src/Makefile.in
  1.3       +111 -80   rserv/src/match.c
  1.1       +84 -0     rserv/src/modebuild.c (new)
  1.3       +277 -2    rserv/src/s_chanserv.c



leeh        2004/09/25 11:53:23 EDT	(20040925_12)

  Modified files:
    doc                  schema.txt 
    include              channel.h client.h config.h rserv.h 
                         s_chanserv.h 
    src                  c_mode.c channel.c client.c rserv.c 
                         s_chanserv.c s_userserv.c 
  Log:
  - add loc_sqlite_exec(), to simplify calls to the db
  - more work on chanserv: suspend, op, voice, bans
  
  Revision  Changes    Path
  1.6       +7 -6      rserv/doc/schema.txt
  1.12      +2 -0      rserv/include/channel.h
  1.20      +1 -0      rserv/include/client.h
  1.19      +1 -0      rserv/include/config.h
  1.8       +3 -2      rserv/include/rserv.h
  1.10      +3 -0      rserv/include/s_chanserv.h
  1.15      +2 -1      rserv/src/c_mode.c
  1.25      +14 -0     rserv/src/channel.c
  1.21      +9 -0      rserv/src/client.c
  1.30      +18 -0     rserv/src/rserv.c
  1.2       +457 -24   rserv/src/s_chanserv.c
  1.3       +7 -31     rserv/src/s_userserv.c



leeh        2004/09/25 11:40:55 EDT	(20040925_11)

  Modified files:
    .                    LICENSE 
    doc                  schema.txt 
    include              client.h config.h s_chanserv.h 
                         s_userserv.h 
    src                  Makefile.in balloc.c cache.c channel.c 
                         client.c rserv.c s_userserv.c 
  Added files:
    src                  s_chanserv.c 
  Log:
  - clean up includes of user service, making some things static
  - make BlockHeapAlloc() memset
  - initial work on channel service, registration of channels,
    adding/deleting/modifying users, invites
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/LICENSE
  1.5       +21 -17    rserv/doc/schema.txt
  1.19      +1 -1      rserv/include/client.h
  1.18      +1 -1      rserv/include/config.h
  1.9       +3 -7      rserv/include/s_chanserv.h
  1.9       +0 -7      rserv/include/s_userserv.h
  1.24      +1 -1      rserv/src/Makefile.in
  1.5       +1 -0      rserv/src/balloc.c
  1.4       +0 -4      rserv/src/cache.c
  1.24      +0 -2      rserv/src/channel.c
  1.20      +0 -6      rserv/src/client.c
  1.29      +0 -2      rserv/src/rserv.c
  1.1       +481 -0    rserv/src/s_chanserv.c (new)
  1.2       +11 -27    rserv/src/s_userserv.c



leeh        2004/09/25 11:37:13 EDT	(20040925_10)

  Removed files:
    src/s_userserv       .depend Makefile.in s_u_crypt.c s_u_db.c 
                         s_userserv.c 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.4       +0 -10     rserv/src/s_userserv/.depend (dead)
  1.4       +0 -45     rserv/src/s_userserv/Makefile.in (dead)
  1.4       +0 -122    rserv/src/s_userserv/s_u_crypt.c (dead)
  1.5       +0 -66     rserv/src/s_userserv/s_u_db.c (dead)
  1.9       +0 -195    rserv/src/s_userserv/s_userserv.c (dead)



leeh        2004/09/25 11:36:57 EDT	(20040925_9)

  Modified files:
    src                  Makefile.in rserv.c 
  Added files:
    src                  s_userserv.c 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.23      +5 -21     rserv/src/Makefile.in
  1.28      +2 -0      rserv/src/rserv.c
  1.1       +249 -0    rserv/src/s_userserv.c (new)



leeh        2004/09/25 11:36:42 EDT	(20040925_8)

  Modified files:
    include              rserv.h s_userserv.h 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.7       +2 -0      rserv/include/rserv.h
  1.8       +2 -5      rserv/include/s_userserv.h



leeh        2004/09/25 11:36:20 EDT	(20040925_7)

  Modified files:
    doc                  schema.txt 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.4       +2 -1      rserv/doc/schema.txt



leeh        2004/09/25 11:35:49 EDT	(20040925_6)

  Modified files:
    autoconf             configure.in 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.11      +0 -2      rserv/autoconf/configure.in



leeh        2004/09/25 11:35:43 EDT	(20040925_5)

  Modified files:
    .                    configure 
  Log:
  - add flags to the user registration storage
  - move away from building libs to simply having one file like the other
    services
  
  Revision  Changes    Path
  1.11      +0 -4      rserv/configure



leeh        2004/09/25 11:28:22 EDT	(20040925_4)

  Modified files:
    include              newconf.h 
    src                  newconf.c s_operbot.c 
  Log:
  - port my generic conf parser stuff from ircd
  
  Revision  Changes    Path
  1.3       +11 -10    rserv/include/newconf.h
  1.10      +103 -128  rserv/src/newconf.c
  1.8       +1 -1      rserv/src/s_operbot.c



leeh        2004/09/25 11:27:12 EDT	(20040925_3)

  Modified files:
    include              client.h service.h 
    src                  s_alis.c s_operbot.c service.c 
    src/s_chanserv       s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Log:
  - remove the service_error struct
  - make service_error() take format strings
  
  Revision  Changes    Path
  1.18      +0 -2      rserv/include/client.h
  1.12      +1 -7      rserv/include/service.h
  1.20      +8 -26     rserv/src/s_alis.c
  1.11      +1 -1      rserv/src/s_chanserv/s_chanserv.c
  1.7       +5 -11     rserv/src/s_operbot.c
  1.8       +8 -30     rserv/src/s_userserv/s_userserv.c
  1.18      +9 -19     rserv/src/service.c



leeh        2004/09/25 11:25:27 EDT	(20040925_2)

  Modified files:
    include              conf.h 
    src                  .depend Makefile.in cache.c conf.c 
                         lexer.l log.c rserv.c 
  Removed files:
    include              fileio.h 
    src                  fileio.c 
  Log:
  - remove fileio.?, use system fopen() etc instead
  
  Revision  Changes    Path
  1.12      +1 -1      rserv/include/conf.h
  1.2       +0 -95     rserv/include/fileio.h (dead)
  1.6       +6 -15     rserv/src/.depend
  1.22      +0 -1      rserv/src/Makefile.in
  1.3       +4 -5      rserv/src/cache.c
  1.20      +4 -5      rserv/src/conf.c
  1.3       +0 -283    rserv/src/fileio.c (dead)
  1.3       +5 -6      rserv/src/lexer.l
  1.5       +5 -5      rserv/src/log.c
  1.27      +9 -10     rserv/src/rserv.c



leeh        2004/09/25 11:23:45 EDT	(20040925_1)

  Modified files:
    doc                  schema.txt 
    include              config.h rserv.h s_userserv.h 
    src                  Makefile.in rserv.c 
    src/s_userserv       s_u_db.c s_userserv.c 
  Log:
  - make user service save/load from a db
  
  Revision  Changes    Path
  1.3       +8 -8      rserv/doc/schema.txt
  1.17      +1 -0      rserv/include/config.h
  1.6       +2 -0      rserv/include/rserv.h
  1.7       +2 -2      rserv/include/s_userserv.h
  1.21      +1 -1      rserv/src/Makefile.in
  1.26      +9 -0      rserv/src/rserv.c
  1.4       +35 -13    rserv/src/s_userserv/s_u_db.c
  1.7       +5 -2      rserv/src/s_userserv/s_userserv.c



leeh        2004/09/25 11:21:56 EDT	(20040925_0)

  Modified files:
    include              client.h config.h 
    src                  Makefile.in client.c 
  Removed files:
    src                  s_hoststat.c 
  Log:
  - remove host statistics service
  
  Revision  Changes    Path
  1.17      +1 -34     rserv/include/client.h
  1.16      +0 -16     rserv/include/config.h
  1.20      +0 -1      rserv/src/Makefile.in
  1.19      +0 -199    rserv/src/client.c
  1.7       +0 -189    rserv/src/s_hoststat.c (dead)



leeh        2004/01/26 07:35:02 EST	(20040126_0)

  Modified files:
    src/s_chanserv       Makefile.in s_c_admin.c s_c_local.h 
                         s_c_op.c s_chanserv.c 
  Added files:
    src/s_chanserv       s_c_suspend.c 
  Log:
  - added "INVITE" to s_c_op.c
  - added "SUSPEND", "UNSUSPEND" to s_c_suspend.c
  - added checking of suspended level to verify_member_access()
  
  Revision  Changes    Path
  1.5       +2 -1      rserv/src/s_chanserv/Makefile.in
  1.5       +16 -0     rserv/src/s_chanserv/s_c_admin.c
  1.7       +3 -0      rserv/src/s_chanserv/s_c_local.h
  1.4       +39 -2     rserv/src/s_chanserv/s_c_op.c
  1.1       +119 -0    rserv/src/s_chanserv/s_c_suspend.c (new)
  1.10      +7 -3      rserv/src/s_chanserv/s_chanserv.c



leeh        2004/01/25 18:12:47 EST	(20040125_1)

  Modified files:
    include              hook.h 
    src                  .depend c_mode.c hook.c 
    src/s_chanserv       .depend s_c_local.h s_c_set.c 
                         s_chanserv.c 
    src/s_userserv       .depend 
  Log:
  - added a hook for mode +o's, so STRICTOP/NOOP are complete
  - added another hook for joins, to handle autoop/autovoice
  
  Revision  Changes    Path
  1.2       +1 -0      rserv/include/hook.h
  1.5       +4 -2      rserv/src/.depend
  1.14      +16 -3     rserv/src/c_mode.c
  1.2       +1 -1      rserv/src/hook.c
  1.2       +26 -4     rserv/src/s_chanserv/.depend
  1.6       +1 -0      rserv/src/s_chanserv/s_c_local.h
  1.2       +36 -4     rserv/src/s_chanserv/s_c_set.c
  1.9       +170 -3    rserv/src/s_chanserv/s_chanserv.c
  1.3       +3 -2      rserv/src/s_userserv/.depend



leeh        2004/01/25 17:11:50 EST	(20040125_0)

  Modified files:
    include              channel.h s_chanserv.h service.h 
    src                  Makefile.in channel.c client.c io.c 
                         scommand.c service.c 
    src/s_chanserv       Makefile.in s_c_admin.c s_c_local.h 
                         s_chanserv.c 
  Added files:
    include              hook.h 
    src                  hook.c 
    src/s_chanserv       s_c_clear.c s_c_set.c 
  Log:
  - added very basic hook support
  - added a hook for joined users
  - fix a bug where we destroyed a channel with services still in it
  - split introduce_services() up, as we need to introduce the services
    first, then channels after burst
  - added some of "SET" stuff
  - added "CLEARMODES"
  
  Revision  Changes    Path
  1.11      +1 -1      rserv/include/channel.h
  1.1       +13 -0     rserv/include/hook.h (new)
  1.8       +1 -0      rserv/include/s_chanserv.h
  1.11      +2 -0      rserv/include/service.h
  1.19      +1 -0      rserv/src/Makefile.in
  1.23      +48 -28    rserv/src/channel.c
  1.18      +1 -0      rserv/src/client.c
  1.1       +38 -0     rserv/src/hook.c (new)
  1.23      +2 -0      rserv/src/io.c
  1.4       +3 -1      rserv/src/s_chanserv/Makefile.in
  1.4       +2 -1      rserv/src/s_chanserv/s_c_admin.c
  1.1       +55 -0     rserv/src/s_chanserv/s_c_clear.c (new)
  1.5       +11 -0     rserv/src/s_chanserv/s_c_local.h
  1.1       +155 -0    rserv/src/s_chanserv/s_c_set.c (new)
  1.8       +95 -0     rserv/src/s_chanserv/s_chanserv.c
  1.15      +1 -1      rserv/src/scommand.c
  1.17      +20 -4     rserv/src/service.c



leeh        2004/01/24 10:33:49 EST	(20040124_2)

  Modified files:
    include              s_chanserv.h s_userserv.h 
    src/s_chanserv       s_c_admin.c s_c_local.h s_c_op.c 
                         s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Added files:
    help/chanserv        modauto moduser 
  Log:
  - add storage for who last modified a users membership registration
  - add sending of errors to find_user_reg() and find_user_reg_nick()
  - added "MODUSER" and "MODAUTO"
  
  Revision  Changes    Path
  1.1       +5 -0      rserv/help/chanserv/modauto (new)
  1.1       +5 -0      rserv/help/chanserv/moduser (new)
  1.7       +3 -0      rserv/include/s_chanserv.h
  1.6       +4 -2      rserv/include/s_userserv.h
  1.3       +118 -24   rserv/src/s_chanserv/s_c_admin.c
  1.4       +7 -2      rserv/src/s_chanserv/s_c_local.h
  1.3       +1 -1      rserv/src/s_chanserv/s_c_op.c
  1.7       +5 -1      rserv/src/s_chanserv/s_chanserv.c
  1.6       +18 -11    rserv/src/s_userserv/s_userserv.c



leeh        2004/01/24 09:30:02 EST	(20040124_1)

  Modified files:
    src/s_chanserv       s_c_local.h s_c_op.c s_chanserv.c 
  Added files:
    help/chanserv        devoice voice 
  Log:
  - added a new function to parse OP/DEOP
  - added "VOICE"/"DEVOICE"
  - added verify_member_lower()
  
  Revision  Changes    Path
  1.1       +5 -0      rserv/help/chanserv/devoice (new)
  1.1       +5 -0      rserv/help/chanserv/voice (new)
  1.3       +5 -0      rserv/src/s_chanserv/s_c_local.h
  1.2       +69 -94    rserv/src/s_chanserv/s_c_op.c
  1.6       +20 -0     rserv/src/s_chanserv/s_chanserv.c



leeh        2004/01/24 07:00:58 EST	(20040124_0)

  Modified files:
    include              channel.h rserv.h s_chanserv.h 
    src                  channel.c s_operbot.c 
    src/s_chanserv       Makefile.in s_c_admin.c s_c_local.h 
                         s_chanserv.c 
  Added files:
    help/chanserv        adduser deluser deop join op part 
                         register 
    src/s_chanserv       s_c_op.c 
  Log:
  - make part_service() take a const char *chname for now
  - fix operbot OP to update its internal membership with the op
  - added "JOIN"/"PART" to chanserv, in s_c_admin.c
  - added "OP"/"DEOP" to chanserv, in s_c_op.c
  - added help files for chanserv stuff
  
  Revision  Changes    Path
  1.1       +5 -0      rserv/help/chanserv/adduser (new)
  1.1       +4 -0      rserv/help/chanserv/deluser (new)
  1.1       +5 -0      rserv/help/chanserv/deop (new)
  1.1       +3 -0      rserv/help/chanserv/join (new)
  1.1       +5 -0      rserv/help/chanserv/op (new)
  1.1       +3 -0      rserv/help/chanserv/part (new)
  1.1       +3 -0      rserv/help/chanserv/register (new)
  1.10      +1 -1      rserv/include/channel.h
  1.5       +2 -0      rserv/include/rserv.h
  1.6       +1 -1      rserv/include/s_chanserv.h
  1.22      +9 -1      rserv/src/channel.c
  1.3       +2 -1      rserv/src/s_chanserv/Makefile.in
  1.2       +28 -0     rserv/src/s_chanserv/s_c_admin.c
  1.2       +7 -0      rserv/src/s_chanserv/s_c_local.h
  1.1       +209 -0    rserv/src/s_chanserv/s_c_op.c (new)
  1.5       +4 -0      rserv/src/s_chanserv/s_chanserv.c
  1.6       +3 -3      rserv/src/s_operbot.c



leeh        2004/01/23 18:36:18 EST	(20040123_1)

  Modified files:
    include              s_chanserv.h s_userserv.h service.h 
    src                  s_alis.c s_hoststat.c s_operbot.c 
                         service.c 
    src/s_chanserv       Makefile.in s_c_db.c s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Added files:
    src/s_chanserv       s_c_admin.c s_c_local.h 
  Log:
  - adding a 'userreg' param to service commands, used to check user is
    logged in when user service is enabled
  - moved some stuff from s_chanserv.h -> s_c_local.h
  - split "REGISTER" chanserv function into s_c_admin.c, added "ADDUSER" and
    "DELUSER"
  - added verify_member_access() to verify client has access level to channel
  - added find_user_reg_nick() which accepts '=nick'
  
  Revision  Changes    Path
  1.5       +0 -11     rserv/include/s_chanserv.h
  1.5       +3 -0      rserv/include/s_userserv.h
  1.10      +1 -0      rserv/include/service.h
  1.19      +2 -2      rserv/src/s_alis.c
  1.2       +2 -1      rserv/src/s_chanserv/Makefile.in
  1.1       +172 -0    rserv/src/s_chanserv/s_c_admin.c (new)
  1.2       +1 -0      rserv/src/s_chanserv/s_c_db.c
  1.1       +31 -0     rserv/src/s_chanserv/s_c_local.h (new)
  1.4       +42 -47    rserv/src/s_chanserv/s_chanserv.c
  1.6       +4 -4      rserv/src/s_hoststat.c
  1.5       +3 -3      rserv/src/s_operbot.c
  1.5       +19 -9     rserv/src/s_userserv/s_userserv.c
  1.16      +10 -0     rserv/src/service.c



leeh        2004/01/23 13:55:50 EST	(20040123_0)

  Modified files:
    doc                  example.conf 
    include              conf.h io.h 
    src                  newconf.c ucommand.c 
  Log:
  - added basic flags, to restrict .die etc
  
  Revision  Changes    Path
  1.9       +9 -0      rserv/doc/example.conf
  1.11      +8 -0      rserv/include/conf.h
  1.14      +1 -1      rserv/include/io.h
  1.9       +24 -11    rserv/src/newconf.c
  1.13      +20 -12    rserv/src/ucommand.c



leeh        2004/01/22 08:42:36 EST	(20040122_1)

  Modified files:
    src                  c_message.c conf.c newconf.c rserv.c 
  Log:
  - ignore any ctcp requests that arent dcc
  - fix couple of bugs in conf parser
  - patch via Hwy to add support for signals HUP and TERM
  
  Revision  Changes    Path
  1.15      +10 -3     rserv/src/c_message.c
  1.19      +1 -0      rserv/src/conf.c
  1.8       +1 -1      rserv/src/newconf.c
  1.25      +32 -0     rserv/src/rserv.c



androsyn    2004/01/21 20:20:35 EST	(20040122_0)

  Removed files:
    include              db.h 
    src                  db-pgsql.c db-sqlite.c 
  Log:
  I think we'll only support sqlite so the abstraction interface is silly
  
  Revision  Changes    Path
  1.2       +0 -21     rserv/include/db.h (dead)
  1.2       +0 -89     rserv/src/db-pgsql.c (dead)
  1.2       +0 -46     rserv/src/db-sqlite.c (dead)



androsyn    2004/01/21 15:30:01 EST	(20040121_2)

  Added files:
    include              db.h 
    src                  db-pgsql.c db-sqlite.c 
  Log:
  Add the db interface wrappers.
  
  Revision  Changes    Path
  1.1       +21 -0     rserv/include/db.h (new)
  1.1       +89 -0     rserv/src/db-pgsql.c (new)
  1.1       +46 -0     rserv/src/db-sqlite.c (new)



androsyn    2004/01/21 14:48:39 EST	(20040121_1)

  Modified files:
    doc                  schema.txt 
  Log:
  A schema that'll actually load in sqlite now ;)
  
  Revision  Changes    Path
  1.2       +5 -5      rserv/doc/schema.txt



androsyn    2004/01/21 13:46:42 EST	(20040121_0)

  Added files:
    doc                  schema.txt 
  Log:
  Rough draft of the db schema
  
  Revision  Changes    Path
  1.1       +37 -0     rserv/doc/schema.txt (new)



leeh        2004/01/20 06:05:20 EST	(20040120_1)

  Modified files:
    src                  Makefile.in lexer.l parser.y 
  Log:
  - patch via Hwy:
    - Always rebuild the binary when 'make' is run.
    - Added two missing headers that caused compilation to fail on FreeBSD.
  
  Revision  Changes    Path
  1.18      +3 -0      rserv/src/Makefile.in
  1.2       +1 -0      rserv/src/lexer.l
  1.2       +1 -0      rserv/src/parser.y



leeh        2004/01/20 06:02:28 EST	(20040120_0)

  Modified files:
    include              client.h conf.h io.h service.h 
    src                  channel.c conf.c io.c newconf.c rserv.c 
                         service.c ucommand.c 
  Added files:
    .                    CREDITS 
  Log:
  - add a CREDITS file
  - implement reference counting for oper blocks, now deallocate them once
    a user has logged in
  - added rehash
  - split the client/server stuff in sock_close() out into their own
    functions
  
  Revision  Changes    Path
  1.1       +14 -0     rserv/CREDITS (new)
  1.16      +2 -0      rserv/include/client.h
  1.10      +17 -3     rserv/include/conf.h
  1.13      +7 -6      rserv/include/io.h
  1.9       +2 -0      rserv/include/service.h
  1.21      +4 -0      rserv/src/channel.c
  1.18      +92 -3     rserv/src/conf.c
  1.22      +45 -18    rserv/src/io.c
  1.7       +12 -6     rserv/src/newconf.c
  1.24      +1 -1      rserv/src/rserv.c
  1.15      +7 -0      rserv/src/service.c
  1.12      +15 -0     rserv/src/ucommand.c



leeh        2004/01/19 11:06:10 EST	(20040119_0)

  Modified files:
    src                  c_mode.c 
  Log:
  - build a dlink_list of services deopped in a mode, so we only rejoin
    a service once per mode command, rather than once per -o
  
  Revision  Changes    Path
  1.13      +20 -1     rserv/src/c_mode.c



leeh        2004/01/18 11:36:43 EST	(20040118_1)

  Modified files:
    doc                  example.conf 
    include              conf.h io.h 
    src                  c_message.c conf.c io.c newconf.c 
                         u_stats.c ucommand.c 
  Log:
  - changed user=""; in oper {}; to be a list, so you can restrict a
    user@host to a specific server
  - cleaned up the connecting client stuff, we now attach their oper block
    when we connect to them
  - added FLAGS_AUTH to determine whether a user has logged in
  
  Revision  Changes    Path
  1.8       +7 -3      rserv/doc/example.conf
  1.9       +3 -2      rserv/include/conf.h
  1.12      +12 -7     rserv/include/io.h
  1.14      +4 -3      rserv/src/c_message.c
  1.17      +4 -21     rserv/src/conf.c
  1.21      +10 -10    rserv/src/io.c
  1.6       +29 -2     rserv/src/newconf.c
  1.7       +3 -2      rserv/src/u_stats.c
  1.11      +3 -9      rserv/src/ucommand.c



leeh        2004/01/18 09:01:26 EST	(20040118_0)

  Modified files:
    include              conf.h service.h 
    src                  conf.c newconf.c s_alis.c s_hoststat.c 
                         s_operbot.c service.c 
    src/s_chanserv       s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Log:
  - reworked the multiple user=""; lines in oper {}; to create seperate
    confs instead of just building a linked list of hosts
  - added a minparc param to service_command
  
  Revision  Changes    Path
  1.8       +1 -0      rserv/include/conf.h
  1.8       +1 -0      rserv/include/service.h
  1.16      +10 -0     rserv/src/conf.c
  1.5       +27 -53    rserv/src/newconf.c
  1.18      +2 -8      rserv/src/s_alis.c
  1.3       +2 -10     rserv/src/s_chanserv/s_chanserv.c
  1.5       +5 -25     rserv/src/s_hoststat.c
  1.4       +3 -17     rserv/src/s_operbot.c
  1.4       +4 -18     rserv/src/s_userserv/s_userserv.c
  1.14      +12 -2     rserv/src/service.c



leeh        2004/01/16 14:14:36 EST	(20040116_10)

  Modified files:
    src                  newconf.c 
  Log:
  - need to reset the services nick in hash when we change it
  
  Revision  Changes    Path
  1.4       +2 -0      rserv/src/newconf.c



leeh        2004/01/16 13:33:31 EST	(20040116_9)

  Modified files:
    help                 Makefile.in 
    help/alis            list 
    help/hoststat        clones host testmask 
    help/operbot         invite op 
    include              s_chanserv.h 
  Log:
  - updated the help stuff some more
  - fleshed out the chanserv structure a bit
  
  Revision  Changes    Path
  1.2       +2 -2      rserv/help/Makefile.in
  1.2       +1 -0      rserv/help/alis/list
  1.2       +1 -2      rserv/help/hoststat/clones
  1.2       +1 -2      rserv/help/hoststat/host
  1.2       +1 -2      rserv/help/hoststat/testmask
  1.2       +1 -0      rserv/help/operbot/invite
  1.2       +1 -0      rserv/help/operbot/op
  1.4       +13 -0     rserv/include/s_chanserv.h



leeh        2004/01/16 12:40:51 EST	(20040116_8)

  Modified files:
    include              tools.h 
    src                  Makefile.in balloc.c channel.c conf.c 
                         service.c tools.c 
  Added files:
    help/hoststat        clones host testmask 
  Log:
  - added compile flags -Wwrite-strings and -Wmissing-declarations and fixed
    compile errors with them
  - added casts for time_t usage
  - add some hoststat help files
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/help/hoststat/clones (new)
  1.1       +4 -0      rserv/help/hoststat/host (new)
  1.1       +4 -0      rserv/help/hoststat/testmask (new)
  1.11      +1 -0      rserv/include/tools.h
  1.17      +1 -1      rserv/src/Makefile.in
  1.4       +1 -1      rserv/src/balloc.c
  1.20      +5 -4      rserv/src/channel.c
  1.15      +2 -2      rserv/src/conf.c
  1.13      +3 -2      rserv/src/service.c
  1.8       +2 -2      rserv/src/tools.c



leeh        2004/01/16 11:00:00 EST	(20040116_7)

  Modified files:
    src                  s_operbot.c service.c 
  Added files:
    help/operbot         invite op 
  Log:
  - set the operonly flag in operbot cmd_table, removed it from each
    function
  - fix check for '.' in service nick
  - fix scommand helpfiles
  - dont send help index if no commands available
  
  Revision  Changes    Path
  1.1       +2 -0      rserv/help/operbot/invite (new)
  1.1       +2 -0      rserv/help/operbot/op (new)
  1.3       +3 -17     rserv/src/s_operbot.c
  1.12      +15 -9     rserv/src/service.c



leeh        2004/01/16 10:38:31 EST	(20040116_6)

  rserv/help/operbot - New directory



leeh        2004/01/16 10:37:27 EST	(20040116_5)

  rserv/help/userserv - New directory



leeh        2004/01/16 10:37:24 EST	(20040116_4)

  rserv/help/jupeserv - New directory



leeh        2004/01/16 10:37:23 EST	(20040116_3)

  rserv/help/hoststat - New directory



leeh        2004/01/16 10:37:22 EST	(20040116_2)

  rserv/help/chanserv - New directory



leeh        2004/01/16 07:24:29 EST	(20040116_1)

  Modified files:
    doc                  example.conf 
    include              rserv.h 
    src                  rserv.c 
    src/s_userserv       s_u_crypt.c 
  Log:
  - cleaned up includes in rserv.c
  - added a runtime check for md5 support in crypt()
  
  Revision  Changes    Path
  1.7       +8 -1      rserv/doc/example.conf
  1.4       +2 -0      rserv/include/rserv.h
  1.23      +18 -10    rserv/src/rserv.c
  1.3       +9 -11     rserv/src/s_userserv/s_u_crypt.c



leeh        2004/01/16 06:45:55 EST	(20040116_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              io.h setup.h.in 
    src                  io.c 
  Log:
  - patch from Hwy to give ipv6 support
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/autoconf/configure.in
  1.10      +1 -1      rserv/configure
  1.11      +1 -1      rserv/include/io.h
  1.5       +3 -0      rserv/include/setup.h.in
  1.20      +135 -4    rserv/src/io.c



leeh        2004/01/15 17:40:12 EST	(20040115_18)

  Modified files:
    include              c_init.h channel.h s_chanserv.h 
    src                  channel.c rserv.c 
    src/s_chanserv       s_chanserv.c 
    src/s_userserv       s_userserv.c 
  Log:
  - add is_opped/is_voiced macros
  - add inits for chanserv
  - made hash_channel extern
  - tidied up chanserv a bit
  
  Revision  Changes    Path
  1.14      +3 -0      rserv/include/c_init.h
  1.9       +5 -0      rserv/include/channel.h
  1.3       +6 -2      rserv/include/s_chanserv.h
  1.19      +1 -1      rserv/src/channel.c
  1.22      +3 -0      rserv/src/rserv.c
  1.2       +51 -4     rserv/src/s_chanserv/s_chanserv.c
  1.3       +1 -0      rserv/src/s_userserv/s_userserv.c



leeh        2004/01/15 17:00:39 EST	(20040115_17)

  Modified files:
    include              s_chanserv.h 
  Log:
  - add topic storage to struct chan_reg
  
  Revision  Changes    Path
  1.2       +1 -0      rserv/include/s_chanserv.h



leeh        2004/01/15 16:38:35 EST	(20040115_16)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              config.h s_userserv.h 
    src                  Makefile.in 
  Added files:
    include              s_chanserv.h 
    src/s_chanserv       .cvsignore .depend Makefile.in s_c_db.c 
                         s_chanserv.c 
  Log:
  - added the beginnings of chanserv
  
  Revision  Changes    Path
  1.9       +1 -0      rserv/autoconf/configure.in
  1.9       +2 -0      rserv/configure
  1.15      +3 -1      rserv/include/config.h
  1.1       +42 -0     rserv/include/s_chanserv.h (new)
  1.4       +1 -0      rserv/include/s_userserv.h
  1.16      +2 -2      rserv/src/Makefile.in
  1.1       +1 -0      rserv/src/s_chanserv/.cvsignore (new)
  1.1       +8 -0      rserv/src/s_chanserv/.depend (new)
  1.1       +44 -0     rserv/src/s_chanserv/Makefile.in (new)
  1.1       +70 -0     rserv/src/s_chanserv/s_c_db.c (new)
  1.1       +125 -0    rserv/src/s_chanserv/s_chanserv.c (new)



leeh        2004/01/15 15:56:57 EST	(20040115_15)

  Modified files:
    include              s_userserv.h 
    src/s_userserv       s_u_db.c s_userserv.c 
  Log:
  - store when it was regged/last used
  
  Revision  Changes    Path
  1.3       +3 -0      rserv/include/s_userserv.h
  1.3       +1 -2      rserv/src/s_userserv/s_u_db.c
  1.2       +3 -0      rserv/src/s_userserv/s_userserv.c



leeh        2004/01/15 15:38:23 EST	(20040115_14)

  Modified files:
    src                  .depend 
    src/s_userserv       .depend Makefile.in s_u_db.c 
  Log:
  - fix .depend, make it compile properly
  
  Revision  Changes    Path
  1.4       +18 -19    rserv/src/.depend
  1.2       +5 -4      rserv/src/s_userserv/.depend
  1.3       +3 -5      rserv/src/s_userserv/Makefile.in
  1.2       +3 -5      rserv/src/s_userserv/s_u_db.c



leeh        2004/01/15 15:31:05 EST	(20040115_13)

  Modified files:
    include              client.h 
    src/s_userserv       Makefile.in s_u_crypt.c s_userserv.h 
  Added files:
    src/s_userserv       s_u_db.c 
  Log:
  - add db stubs
  - prepare source for repo move of s_userserv.h
  
  Revision  Changes    Path
  1.15      +1 -1      rserv/include/client.h
  1.2       +4 -2      rserv/src/s_userserv/Makefile.in
  1.2       +4 -0      rserv/src/s_userserv/s_u_crypt.c
  1.1       +47 -0     rserv/src/s_userserv/s_u_db.c (new)
  1.2       +3 -0      rserv/src/s_userserv/s_userserv.h



leeh        2004/01/15 14:22:59 EST	(20040115_12)

  Modified files:
    .                    ChangeLog 
  Log:
  - cleanup the changelog after cvs went wierd.
  
  Revision  Changes    Path
  1.64      +6 -85     rserv/ChangeLog



leeh        2004/01/15 14:10:48 EST	(20040115_11)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              c_init.h client.h config.h 
    src                  .depend Makefile.in client.c rserv.c 
                         service.c 
  Added files:
    src/s_userserv       .cvsignore .depend Makefile.in 
                         s_u_crypt.c s_userserv.c s_userserv.h 
  Log:
  - added checks for ranlib/ar to configure
  - added the initial user registration service, just stored in memory atm
  - added the Makefile stuff for the service directories
  - hash_nick() -> global hash_name()
  - I need to stop just doing "*buf++;" :P
  
  Revision  Changes    Path
  1.1       +1 -0      rserv/src/s_userserv/.cvsignore (new)
  1.1       +8 -0      rserv/src/s_userserv/.depend (new)
  1.1       +45 -0     rserv/src/s_userserv/Makefile.in (new)
  1.1       +120 -0    rserv/src/s_userserv/s_u_crypt.c (new)
  1.1       +207 -0    rserv/src/s_userserv/s_userserv.c (new)
  1.1       +25 -0     rserv/src/s_userserv/s_userserv.h (new)

leeh        2004/01/15 10:48:34 EST	(20040115_6)

  rserv/src/s_userserv - New directory
  rserv/src/s_jupeserv - New directory
  rserv/src/s_chanserv - New directory

leeh        2004/01/15 10:13:19 EST	(20040115_3)

  Modified files:
    include              config.h tools.h 
    src                  rserv.c tools.c 
  Log:
  - made dlink_nodes use a balloc
  - add some comments as to which things need to be init'd before what
  
  Revision  Changes    Path
  1.13      +2 -0      rserv/include/config.h
  1.10      +3 -1      rserv/include/tools.h
  1.20      +11 -3     rserv/src/rserv.c
  1.7       +24 -8     rserv/src/tools.c



leeh        2004/01/15 09:50:52 EST	(20040115_2)

  Modified files:
    src                  .cvsignore 
  Added files:
    .                    .cvsignore 
    help                 .cvsignore 
    include              .cvsignore 
  Log:
  - added/updated .cvsignore files
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/.cvsignore (new)
  1.1       +1 -0      rserv/help/.cvsignore (new)
  1.1       +1 -0      rserv/include/.cvsignore (new)
  1.2       +3 -3      rserv/src/.cvsignore



leeh        2004/01/15 09:48:10 EST	(20040115_1)

  Modified files:
    include              client.h config.h tools.h 
    src                  client.c conf.c s_hoststat.c tools.c 
  Log:
  - added an extended hosthash for hoststat service, keeps track of maximum
    host counts etc
  - added get_time() to return time as DD/MM/YY HH:MM TZ
  - oper {}; shouldve been using match(), not strcmp()
  
  Revision  Changes    Path
  1.13      +14 -1     rserv/include/client.h
  1.12      +10 -0     rserv/include/config.h
  1.9       +1 -0      rserv/include/tools.h
  1.16      +57 -0     rserv/src/client.c
  1.14      +4 -4      rserv/src/conf.c
  1.4       +14 -2     rserv/src/s_hoststat.c
  1.6       +14 -0     rserv/src/tools.c



leeh        2004/01/15 09:01:16 EST	(20040115_0)

  Modified files:
    doc                  example.conf 
    include              channel.h 
    src                  channel.c s_alis.c 
  Log:
  - add operbot {}; to example.conf
  - add chmode_to_string_simple() for alis
  
  Revision  Changes    Path
  1.6       +9 -0      rserv/doc/example.conf
  1.8       +1 -0      rserv/include/channel.h
  1.18      +39 -0     rserv/src/channel.c
  1.17      +2 -2      rserv/src/s_alis.c



leeh        2004/01/14 15:59:31 EST	(20040114_0)

  Modified files:
    doc                  example.conf 
    include              config.h newconf.h 
    src                  channel.c newconf.c rserv.c s_alis.c 
                         s_hoststat.c s_operbot.c 
  Log:
  - added service {}; block to conf, to specify a servers n!u@h and gecos
  - added defines for the three services
  - implemented part_service()
  - add operbot {}; block to control which channels operbot joins
  - remove .objoin/.obpart from operbot, theyre not gunna be used
  
  Revision  Changes    Path
  1.5       +18 -0     rserv/doc/example.conf
  1.11      +17 -1     rserv/include/config.h
  1.2       +1 -1      rserv/include/newconf.h
  1.17      +5 -0      rserv/src/channel.c
  1.3       +78 -1     rserv/src/newconf.c
  1.19      +6 -0      rserv/src/rserv.c
  1.16      +4 -0      rserv/src/s_alis.c
  1.3       +4 -0      rserv/src/s_hoststat.c
  1.2       +16 -15    rserv/src/s_operbot.c



leeh        2004/01/13 14:44:16 EST	(20040113_0)

  Modified files:
    include              channel.h 
    src                  c_mode.c cache.c channel.c client.c 
                         tools.c 
  Log:
  - make services rejoining just issue an SJOIN with the client opped
  - added memset()'s where we BlockHeapAlloc()
  - fixed the hosthash
  - made dlink_add() set m->prev = NULL
  
  Revision  Changes    Path
  1.7       +1 -2      rserv/include/channel.h
  1.12      +1 -1      rserv/src/c_mode.c
  1.2       +3 -1      rserv/src/cache.c
  1.16      +4 -6      rserv/src/channel.c
  1.15      +14 -0     rserv/src/client.c
  1.5       +1 -0      rserv/src/tools.c



leeh        2004/01/12 18:40:07 EST	(20040112_0)

  Modified files:
    include              c_init.h channel.h client.h io.h 
    src                  Makefile.in c_mode.c channel.c io.c 
                         rserv.c scommand.c service.c 
  Added files:
    src                  s_operbot.c 
  Log:
  - added an operbot service
  - added storage/functions for services on channels
  - dont introduce services until after EOB
  - made chmode_to_string() give key/limit
  
  Revision  Changes    Path
  1.12      +3 -0      rserv/include/c_init.h
  1.6       +7 -0      rserv/include/channel.h
  1.12      +2 -0      rserv/include/client.h
  1.10      +2 -0      rserv/include/io.h
  1.14      +1 -0      rserv/src/Makefile.in
  1.11      +10 -0     rserv/src/c_mode.c
  1.15      +86 -7     rserv/src/channel.c
  1.19      +0 -2      rserv/src/io.c
  1.18      +1 -0      rserv/src/rserv.c
  1.1       +152 -0    rserv/src/s_operbot.c (new)
  1.14      +2 -0      rserv/src/scommand.c
  1.10      +13 -0     rserv/src/service.c



leeh        2004/01/10 20:27:18 EST	(20040111_2)

  Modified files:
    include              scommand.h stdinc.h 
    src                  c_error.c c_message.c c_mode.c channel.c 
                         client.c io.c scommand.c 
  Log:
  - make parv in the scommand handlers const, otherwise the hooks will have
    issues
  
  Revision  Changes    Path
  1.4       +2 -2      rserv/include/scommand.h
  1.8       +10 -0     rserv/include/stdinc.h
  1.5       +2 -2      rserv/src/c_error.c
  1.13      +13 -7     rserv/src/c_message.c
  1.10      +3 -3      rserv/src/c_mode.c
  1.14      +17 -14    rserv/src/channel.c
  1.14      +10 -10    rserv/src/client.c
  1.18      +1 -1      rserv/src/io.c
  1.13      +17 -17    rserv/src/scommand.c



leeh        2004/01/10 20:12:13 EST	(20040111_1)

  Modified files:
    include              scommand.h tools.h 
    src                  c_error.c c_message.c c_mode.c channel.c 
                         client.c scommand.c 
  Log:
  - fix a core in the hosthash
  - added hooks for scommands
  
  Revision  Changes    Path
  1.3       +7 -1      rserv/include/scommand.h
  1.8       +2 -0      rserv/include/tools.h
  1.4       +1 -1      rserv/src/c_error.c
  1.12      +1 -1      rserv/src/c_message.c
  1.9       +1 -1      rserv/src/c_mode.c
  1.13      +6 -6      rserv/src/channel.c
  1.13      +10 -6     rserv/src/client.c
  1.12      +56 -7     rserv/src/scommand.c



leeh        2004/01/10 19:22:26 EST	(20040111_0)

  Modified files:
    doc                  example.conf 
    include              conf.h 
    src                  c_message.c conf.c newconf.c s_hoststat.c 
  Log:
  - added TESTMASK to hoststat, returning how many clients match the
    given user@host
  - added "dcc" priv to oper {};, controlling whether they can dcc in or not
  
  Revision  Changes    Path
  1.4       +4 -1      rserv/doc/example.conf
  1.7       +3 -1      rserv/include/conf.h
  1.11      +8 -1      rserv/src/c_message.c
  1.13      +4 -4      rserv/src/conf.c
  1.2       +15 -1     rserv/src/newconf.c
  1.2       +37 -0     rserv/src/s_hoststat.c



leeh        2004/01/10 13:32:04 EST	(20040110_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    doc                  example.conf 
    include              c_init.h channel.h client.h conf.h 
                         config.h io.h service.h tools.h 
    src                  Makefile.in c_message.c c_mode.c client.c 
                         conf.c io.c rserv.c s_alis.c scommand.c 
                         service.c tools.c u_stats.c ucommand.c 
  Added files:
    include              newconf.h 
    src                  lexer.l newconf.c parser.y s_hoststat.c 
  Log:
  - ported the config parser from ircd-ratbox
  - rewrote example.conf
  - add flags to conf_oper, so encryption of password is optional per oper {};
  - change the service notice handlers to use already split parv/parc
  - fix ALIS to handle the parv/parc properly
  - add a hostname hash table and user@host list as a dlink off host hash
  - add a basic hoststat service with CLONES/HOST
  - make autoconn a config option
  - mode +beI parser
  - moved RECONNECT_DELAY and PING_TIME to the config
  - added /ctcp service chat handler to listen to a port for them to dcc in
  - add dcc_vhost config option, controlling vhost for inbound/outbound dccs
  - add dcc_{low|high}_port config option, controlling port range to listen on
  - moved some stuff out of sock_open() into new sock_create()
  - added set_default_conf() and validate_conf()
  
  Revision  Changes    Path
  1.7       +2 -0      rserv/autoconf/configure.in
  1.7       +162 -46   rserv/configure
  1.3       +77 -109   rserv/doc/example.conf
  1.11      +3 -0      rserv/include/c_init.h
  1.5       +3 -0      rserv/include/channel.h
  1.11      +22 -0     rserv/include/client.h
  1.6       +27 -6     rserv/include/conf.h
  1.10      +0 -19     rserv/include/config.h
  1.9       +30 -5     rserv/include/io.h
  1.1       +67 -0     rserv/include/newconf.h (new)
  1.7       +1 -1      rserv/include/service.h
  1.7       +2 -0      rserv/include/tools.h
  1.13      +21 -4     rserv/src/Makefile.in
  1.10      +37 -27    rserv/src/c_message.c
  1.8       +58 -0     rserv/src/c_mode.c
  1.12      +131 -0    rserv/src/client.c
  1.12      +57 -291   rserv/src/conf.c
  1.17      +330 -201  rserv/src/io.c
  1.1       +265 -0    rserv/src/lexer.l (new)
  1.1       +628 -0    rserv/src/newconf.c (new)
  1.1       +306 -0    rserv/src/parser.y (new)
  1.17      +4 -1      rserv/src/rserv.c
  1.15      +31 -59    rserv/src/s_alis.c
  1.1       +156 -0    rserv/src/s_hoststat.c (new)
  1.11      +2 -2      rserv/src/scommand.c
  1.9       +47 -1     rserv/src/service.c
  1.4       +32 -0     rserv/src/tools.c
  1.6       +1 -1      rserv/src/u_stats.c
  1.10      +6 -8      rserv/src/ucommand.c



leeh        2004/01/08 08:26:43 EST	(20040108_2)

  Modified files:
    src                  Makefile.in 
  Log:
  - add an empty install target
  
  Revision  Changes    Path
  1.12      +2 -0      rserv/src/Makefile.in



leeh        2004/01/08 07:54:01 EST	(20040108_1)

  Modified files:
    include              stdinc.h 
    src                  service.c ucommand.c 
  Log:
  - s/MAXPATHLEN/PATH_MAX
  - linux needs <limits.h>
  
  Revision  Changes    Path
  1.7       +1 -0      rserv/include/stdinc.h
  1.8       +1 -1      rserv/src/service.c
  1.9       +1 -1      rserv/src/ucommand.c



leeh        2004/01/08 07:45:48 EST	(20040108_0)

  Added files:
    help                 Makefile.in 
  Log:
  - actually add the help Makefile.in
  
  Revision  Changes    Path
  1.1       +36 -0     rserv/help/Makefile.in (new)



leeh        2004/01/07 18:19:03 EST	(20040107_0)

  Modified files:
    include              config.h 
  Log:
  - revved patchlevel to rc1
  
  Revision  Changes    Path
  1.9       +1 -1      rserv/include/config.h



leeh        2004/01/04 06:35:07 EST	(20040104_0)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
  Log:
  - install help files on make install
  
  Revision  Changes    Path
  1.4       +7 -1      rserv/Makefile.in
  1.6       +1 -0      rserv/autoconf/configure.in
  1.6       +2 -0      rserv/configure



leeh        2004/01/03 15:02:57 EST	(20040103_3)

  Modified files:
    .                    LICENSE 
    doc                  example.conf 
    include              balloc.h c_init.h client.h config.h 
                         service.h stdinc.h tools.h ucommand.h 
    src                  .depend Makefile.in balloc.c c_error.c 
                         c_message.c c_mode.c channel.c client.c 
                         conf.c event.c fileio.c io.c log.c 
                         match.c rserv.c s_alis.c scommand.c 
                         service.c tools.c u_stats.c ucommand.c 
  Added files:
    help/alis            list 
    help/main            u-connect u-die u-events u-flags u-quit 
                         u-service u-stats u-status 
    include              cache.h 
    src                  cache.c 
  Removed files:
    src                  u_flags.c u_help.c 
  Log:
  - put *.c under a standard header
  - ported my cache.{c|h} from ircd-ratbox
  - moved the help stuff into files
  - init_blockheap() -> init_balloc() for consistency
  - services can now link in ucommand_handlers in their struct
  - restored statistics for services
  - u_flags.c,u_help.c -> ucommand.c
  - added some comments here and there
  - show_channel() -> print_channel(), added show_channel() to determine whether
    to display a channel or not (ALIS)
  
  Revision  Changes    Path
  1.3       +3 -2      rserv/LICENSE
  1.2       +2 -1      rserv/doc/example.conf
  1.1       +9 -0      rserv/help/alis/list (new)
  1.1       +2 -0      rserv/help/main/u-connect (new)
  1.1       +2 -0      rserv/help/main/u-die (new)
  1.1       +2 -0      rserv/help/main/u-events (new)
  1.1       +5 -0      rserv/help/main/u-flags (new)
  1.1       +2 -0      rserv/help/main/u-quit (new)
  1.1       +3 -0      rserv/help/main/u-service (new)
  1.1       +7 -0      rserv/help/main/u-stats (new)
  1.1       +2 -0      rserv/help/main/u-status (new)
  1.3       +4 -3      rserv/include/balloc.h
  1.10      +0 -6      rserv/include/c_init.h
  1.1       +31 -0     rserv/include/cache.h (new)
  1.10      +8 -0      rserv/include/client.h
  1.8       +4 -11     rserv/include/config.h
  1.6       +9 -5      rserv/include/service.h
  1.6       +1 -0      rserv/include/stdinc.h
  1.6       +2 -0      rserv/include/tools.h
  1.4       +8 -1      rserv/include/ucommand.h
  1.2       +18 -12    rserv/src/.depend
  1.11      +1 -2      rserv/src/Makefile.in
  1.3       +39 -41    rserv/src/balloc.c
  1.3       +4 -3      rserv/src/c_error.c
  1.9       +4 -3      rserv/src/c_message.c
  1.7       +5 -5      rserv/src/c_mode.c
  1.1       +121 -0    rserv/src/cache.c (new)
  1.12      +10 -5     rserv/src/channel.c
  1.11      +114 -10   rserv/src/client.c
  1.11      +4 -3      rserv/src/conf.c
  1.4       +5 -4      rserv/src/event.c
  1.2       +6 -5      rserv/src/fileio.c
  1.16      +94 -24    rserv/src/io.c
  1.4       +4 -3      rserv/src/log.c
  1.2       +5 -4      rserv/src/match.c
  1.16      +10 -7     rserv/src/rserv.c
  1.14      +66 -93    rserv/src/s_alis.c
  1.10      +5 -4      rserv/src/scommand.c
  1.7       +129 -11   rserv/src/service.c
  1.3       +48 -7     rserv/src/tools.c
  1.2       +0 -88     rserv/src/u_flags.c (dead)
  1.4       +0 -154    rserv/src/u_help.c (dead)
  1.5       +9 -2      rserv/src/u_stats.c
  1.8       +217 -30   rserv/src/ucommand.c



leeh        2004/01/03 15:01:02 EST	(20040103_2)

  rserv/help/main - New directory



leeh        2004/01/03 15:00:53 EST	(20040103_1)

  rserv/help/alis - New directory



leeh        2004/01/03 15:00:47 EST	(20040103_0)

  rserv/help - New directory



leeh        2004/01/02 17:59:45 EST	(20040102_1)

  Modified files:
    include              client.h service.h 
    src                  Makefile.in c_message.c s_alis.c 
                         service.c 
  Log:
  - reworked all the service handlers, now the error stuff is generic,
    as is help and the commands..
  
  Revision  Changes    Path
  1.9       +8 -2      rserv/include/client.h
  1.5       +27 -1     rserv/include/service.h
  1.10      +1 -1      rserv/src/Makefile.in
  1.8       +4 -3      rserv/src/c_message.c
  1.13      +141 -267  rserv/src/s_alis.c
  1.6       +123 -4    rserv/src/service.c



leeh        2004/01/02 17:04:11 EST	(20040102_0)

  Modified files:
    src                  client.c 
  Log:
  - patch from hwy to fix an invalid pointer reference
  
  Revision  Changes    Path
  1.10      +1 -1      rserv/src/client.c



leeh        2004/01/01 13:17:46 EST	(20040101_0)

  Modified files:
    include              balloc.h stdinc.h tools.h 
    src                  balloc.c channel.c client.c rserv.c 
  Log:
  - added init_blockheap() to main()
  - ported s_assert() from ircd-ratbox
  - reenabled s_assert() calls in balloc.c, added a couple in client.c
  - I forgot to change some (read: any) my_free() to BlockHeapFree() :P
  - dont fork under cygwin, dont check pidfile if not forking
  
  Revision  Changes    Path
  1.2       +1 -3      rserv/include/balloc.h
  1.5       +2 -0      rserv/include/stdinc.h
  1.5       +24 -0     rserv/include/tools.h
  1.2       +8 -7      rserv/src/balloc.c
  1.11      +2 -2      rserv/src/channel.c
  1.9       +27 -28    rserv/src/client.c
  1.15      +11 -3     rserv/src/rserv.c



leeh        2003/12/30 16:55:18 EST	(20031230_1)

  Added files:
    include              balloc.h 
    src                  balloc.c 
  Log:
  - added balloc.c/h
  
  Revision  Changes    Path
  1.1       +77 -0     rserv/include/balloc.h (new)
  1.1       +542 -0    rserv/src/balloc.c (new)



leeh        2003/12/30 16:53:04 EST	(20031230_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              config.h io.h setup.h.in 
    src                  Makefile.in channel.c client.c io.c 
                         rserv.c scommand.c 
  Log:
  - ported the balloc from ircd-ratbox
  - added CONN_HANDSHAKE, for servers who have connected sockets, but havent
    authed yet
  - changed the connect notices, so we gve "established" on a sockets
    connection and "completed" when we receive a PONG
  - added a check that the servername equals the one in the C:
  - added a handler for PONG
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/autoconf/configure.in
  1.5       +1 -1      rserv/configure
  1.7       +26 -1     rserv/include/config.h
  1.8       +5 -2      rserv/include/io.h
  1.4       +3 -0      rserv/include/setup.h.in
  1.9       +1 -0      rserv/src/Makefile.in
  1.10      +9 -2      rserv/src/channel.c
  1.8       +30 -5     rserv/src/client.c
  1.15      +21 -3     rserv/src/io.c
  1.14      +1 -1      rserv/src/rserv.c
  1.9       +33 -4     rserv/src/scommand.c



leeh        2003/12/26 16:45:24 EST	(20031226_8)

  Modified files:
    src                  Makefile.in 
  Added files:
    src                  .depend 
  Log:
  - add a .depend file
  - add u_flags.c to Makefile
  
  Revision  Changes    Path
  1.1       +73 -0     rserv/src/.depend (new)
  1.8       +1 -0      rserv/src/Makefile.in



leeh        2003/12/26 16:43:14 EST	(20031226_7)

  Modified files:
    .                    Makefile.in configure 
    autoconf             configure.in 
    include              c_init.h config.h io.h log.h setup.h.in 
    src                  Makefile.in c_error.c event.c io.c log.c 
                         rserv.c s_alis.c u_help.c u_stats.c 
                         ucommand.c 
  Added files:
    doc                  example.conf 
    src                  u_flags.c 
  Log:
  - added configure/Makefile stuff for linking in libs
  - check for crypt()
  - added CRYPT_PASSWORDS, controls whether crypted passwords are used
  - added an example config file
  - added .flags, controlling which messages clients get
  - implemented a 'partyline'
  - sendto_connection() -> sendto_one()
  - sendto_connections() -> sendto_all()
  - added sendto_all_butone()
  - removed slog_send(), added sendto_all() function calls
  
  Revision  Changes    Path
  1.3       +2 -0      rserv/Makefile.in
  1.4       +3 -1      rserv/autoconf/configure.in
  1.4       +126 -30   rserv/configure
  1.1       +114 -0    rserv/doc/example.conf (new)
  1.9       +4 -1      rserv/include/c_init.h
  1.6       +5 -0      rserv/include/config.h
  1.7       +17 -6     rserv/include/io.h
  1.4       +0 -1      rserv/include/log.h
  1.3       +7 -1      rserv/include/setup.h.in
  1.7       +4 -3      rserv/src/Makefile.in
  1.2       +4 -2      rserv/src/c_error.c
  1.3       +4 -4      rserv/src/event.c
  1.14      +128 -30   rserv/src/io.c
  1.3       +0 -14     rserv/src/log.c
  1.13      +1 -0      rserv/src/rserv.c
  1.12      +10 -11    rserv/src/s_alis.c
  1.1       +88 -0     rserv/src/u_flags.c (new)
  1.3       +20 -12    rserv/src/u_help.c
  1.4       +17 -19    rserv/src/u_stats.c
  1.7       +52 -44    rserv/src/ucommand.c



leeh        2003/12/26 16:42:14 EST	(20031226_6)

  rserv/doc - New directory



leeh        2003/12/26 16:41:00 EST	(20031226_5)

  Modified files:
    .                    LICENSE Makefile.in configure 
    autoconf             configure.in 
    include              config.h 
    src                  Makefile.in conf.c 
  Added files:
    .                    INSTALL 
  Removed files:
    .                    ASSUMPTIONS 
  Log:
  - added a CREDITS file
  - added an INSTALL file
  - added make install, and support for --prefix on configure
  - die() when we cant open the conf file
  - remove old unused ASSUMPTIONS file
  
  Revision  Changes    Path
  1.3       +0 -3      rserv/ASSUMPTIONS (dead)
  1.1       +21 -0     rserv/INSTALL (new)
  1.2       +3 -0      rserv/LICENSE
  1.2       +8 -0      rserv/Makefile.in
  1.3       +1 -0      rserv/autoconf/configure.in
  1.3       +128 -32   rserv/configure
  1.5       +27 -1     rserv/include/config.h
  1.6       +8 -6      rserv/src/Makefile.in
  1.10      +4 -1      rserv/src/conf.c



leeh        2003/12/26 16:39:48 EST	(20031226_4)

  Modified files:
    include              channel.h config.h io.h tools.h 
                         ucommand.h 
    src                  Makefile.in c_message.c channel.c conf.c 
                         io.c s_alis.c scommand.c tools.c u_help.c 
                         u_stats.c ucommand.c 
  Log:
  - add PING_TIME, how often a server can be idle before we send a PING, double
    this with no data will cause a server to be exited
  - added get_sendq(), so the sendq bit in stats u/.stats uplink works
  - moved getfield() tools.c -> conf.c
  - moved get_duration() stats.c -> tools.c
  - stats.c is now u_stats.c, which only contains .stats
  - reworked .help, list_ucommand() is gone, now have extended help too
  - improved .status a bit to give channel/topic counts etc
  - reset the ALIS flood values to something sensible
  
  Revision  Changes    Path
  1.4       +2 -0      rserv/include/channel.h
  1.4       +2 -0      rserv/include/config.h
  1.6       +3 -0      rserv/include/io.h
  1.4       +2 -2      rserv/include/tools.h
  1.3       +0 -2      rserv/include/ucommand.h
  1.5       +1 -1      rserv/src/Makefile.in
  1.7       +0 -1      rserv/src/c_message.c
  1.9       +24 -0     rserv/src/channel.c
  1.9       +31 -0     rserv/src/conf.c
  1.13      +38 -0     rserv/src/io.c
  1.11      +2 -2      rserv/src/s_alis.c
  1.8       +2 -2      rserv/src/scommand.c
  1.2       +16 -25    rserv/src/tools.c
  1.2       +132 -3    rserv/src/u_help.c
  1.3       +5 -24     rserv/src/u_stats.c
  1.6       +12 -49    rserv/src/ucommand.c



leeh        2003/12/26 16:37:46 EST	(20031226_3)

  Modified files:
    include              c_init.h 
    src                  client.c rserv.c s_alis.c scommand.c 
                         stats.c ucommand.c 
  Log:
  - renamed .stats to .service, which now lists the services in use
  - added .stats command to get various statistics, uses a table of commands
    and functions, currently has:
      opers, servers, uplink, uptime
  - c_nick() wasnt setting a clients gecos
  - cleaned up alis stats a bit
  - added WHOIS command handling
  - finished TRACE command handling
  
  Revision  Changes    Path
  1.8       +3 -0      rserv/include/c_init.h
  1.7       +3 -1      rserv/src/client.c
  1.12      +1 -0      rserv/src/rserv.c
  1.10      +8 -6      rserv/src/s_alis.c
  1.7       +76 -1     rserv/src/scommand.c
  1.2       +99 -0     rserv/src/stats.c
  1.5       +27 -15    rserv/src/ucommand.c



leeh        2003/12/26 16:36:16 EST	(20031226_2)

  Modified files:
    include              c_init.h event.h ucommand.h 
    src                  Makefile.in event.c rserv.c s_alis.c 
                         scommand.c ucommand.c 
  Added files:
    src                  stats.c u_help.c 
  Log:
  - added event_show() to list events to a given connection
  - added .events command to list events
  - get_duration() to convert seconds into string form of duration
  - added .help command, simply walks the ucommand hash listing commands
  - added alis stats
  - fix VERSION to not have release hardcoded
  - STATS fix so 'C' shows autoconn setting properly, and port
  - STATS u/v now use get_duration()
  - added .status command to get basic status information
  
  Revision  Changes    Path
  1.7       +3 -0      rserv/include/c_init.h
  1.3       +4 -0      rserv/include/event.h
  1.2       +2 -0      rserv/include/ucommand.h
  1.4       +2 -0      rserv/src/Makefile.in
  1.2       +18 -0     rserv/src/event.c
  1.11      +2 -0      rserv/src/rserv.c
  1.9       +40 -2     rserv/src/s_alis.c
  1.6       +16 -39    rserv/src/scommand.c
  1.1       +24 -0     rserv/src/stats.c (new)
  1.1       +17 -0     rserv/src/u_help.c (new)
  1.4       +78 -0     rserv/src/ucommand.c



leeh        2003/12/26 16:34:53 EST	(20031226_1)

  Modified files:
    include              c_init.h conf.h io.h 
    src                  Makefile.in conf.c io.c rserv.c 
                         ucommand.c 
  Added files:
    src                  c_error.c 
  Log:
  - add "ERROR" command handling
  - remove the hardcoding of server password, make it use the one in C:
  - only positive ports in a C: enable autoconn, negative ports are allowed
    as 'default' ports on .connect
  - fix the autoconn stuff, we now store when last connect was and use that to
    decide where to connect to
  - cleaned the notice in die() up
  - remove rserv.exe on clean, for cygwin
  
  Revision  Changes    Path
  1.6       +3 -1      rserv/include/c_init.h
  1.5       +2 -0      rserv/include/conf.h
  1.5       +1 -0      rserv/include/io.h
  1.3       +2 -1      rserv/src/Makefile.in
  1.1       +28 -0     rserv/src/c_error.c (new)
  1.8       +5 -5      rserv/src/conf.c
  1.12      +45 -16    rserv/src/io.c
  1.10      +5 -6      rserv/src/rserv.c
  1.3       +12 -9     rserv/src/ucommand.c



leeh        2003/12/26 16:33:57 EST	(20031226_0)

  Modified files:
    include              client.h conf.h io.h log.h service.h 
                         stdinc.h 
    src                  c_message.c conf.c io.c log.c rserv.c 
                         s_alis.c service.c ucommand.c 
  Log:
  in true blue peter style, here are some commits I prepared earlier..
  
  - removed receive passwords from C:, just have a single send password
  - added O: controlling who can DCC services, and requiring logins for
    commands
  - store username/host in connecting clients so we can auth against O:
  - added sendto_connections() to send to all users
  - added slog_send() to log and send to users
  - make a few logging things send to users too
  - added generic stats handlers for services
  - fix parser bug on commands with no params
  - added .login command
  - added .die command
  - added .stats command, to use the generic service stats handler
  - added .connect command, to connect to a specific server
  
  Revision  Changes    Path
  1.8       +4 -0      rserv/include/client.h
  1.4       +17 -2     rserv/include/conf.h
  1.4       +8 -1      rserv/include/io.h
  1.3       +1 -0      rserv/include/log.h
  1.4       +2 -0      rserv/include/service.h
  1.4       +1 -0      rserv/include/stdinc.h
  1.6       +2 -2      rserv/src/c_message.c
  1.7       +117 -9    rserv/src/conf.c
  1.11      +80 -40    rserv/src/io.c
  1.2       +15 -0     rserv/src/log.c
  1.9       +1 -1      rserv/src/rserv.c
  1.8       +9 -1      rserv/src/s_alis.c
  1.5       +1 -0      rserv/src/service.c
  1.2       +149 -1    rserv/src/ucommand.c



leeh        2003/12/18 19:29:58 EST	(20031219_0)

  Modified files:
    src                  c_message.c conf.c io.c 
  Log:
  - send errors to client on invalid dcc requests
  - made conf parser add connects to tail, so theyre tried in order of conf
  - kludged support for multiple servers, atm it takes the head element,
    tries it then moves it to the tail.
  
  Revision  Changes    Path
  1.5       +21 -0     rserv/src/c_message.c
  1.6       +1 -1      rserv/src/conf.c
  1.10      +11 -1     rserv/src/io.c



leeh        2003/12/18 15:39:38 EST	(20031218_3)

  Modified files:
    include              client.h io.h scommand.h 
    src                  Makefile.in c_message.c c_mode.c 
                         channel.c client.c io.c rserv.c 
                         scommand.c service.c 
  Added files:
    include              ucommand.h 
    src                  ucommand.c 
  Log:
  - added support for dcc connections, currently allows anyone opered to
    dcc until I put in some ACLs
  - added user command framework
  - command.{c|h} was renamed to scommand.{c|h}, fix Makefile/includes
  
  Revision  Changes    Path
  1.7       +3 -3      rserv/include/client.h
  1.3       +5 -1      rserv/include/io.h
  1.2       +5 -4      rserv/include/scommand.h
  1.1       +21 -0     rserv/include/ucommand.h (new)
  1.2       +3 -2      rserv/src/Makefile.in
  1.4       +47 -1     rserv/src/c_message.c
  1.6       +1 -1      rserv/src/c_mode.c
  1.8       +1 -1      rserv/src/channel.c
  1.6       +1 -1      rserv/src/client.c
  1.9       +215 -19   rserv/src/io.c
  1.8       +4 -2      rserv/src/rserv.c
  1.5       +7 -7      rserv/src/scommand.c
  1.4       +1 -1      rserv/src/service.c
  1.1       +76 -0     rserv/src/ucommand.c (new)



leeh        2003/12/18 13:03:04 EST	(20031218_2)

  Modified files:
    src                  io.c 
  Log:
  - fix so when we connect() somewhere, we test we can write to it, not read
    to it
  - make signon_to_server() a write function, which checks for the connect()
    having gone wrong.
  
  Revision  Changes    Path
  1.8       +22 -7     rserv/src/io.c



leeh        2003/12/18 09:08:02 EST	(20031218_1)

  Modified files:
    src                  io.c 
  Log:
  - added timeouts for places we connect to
  - fix a core when trying to send to a dead server
  
  Revision  Changes    Path
  1.7       +14 -2     rserv/src/io.c



leeh        2003/12/18 08:25:35 EST	(20031218_0)

  Modified files:
    src                  io.c 
  Log:
  - added logging for connections/disconnections from the server
  - added ignore_errno() so the proper read()/write() errors are ignored
  
  Revision  Changes    Path
  1.6       +83 -15    rserv/src/io.c



leeh        2003/12/17 17:27:07 EST	(20031217_0)

  Modified files:
    src                  client.c rserv.c 
  Log:
  - add in some services fight checking
  - fix to show right pid after the fork()
  
  Revision  Changes    Path
  1.5       +21 -0     rserv/src/client.c
  1.7       +6 -2      rserv/src/rserv.c



leeh        2003/12/15 15:43:46 EST	(20031215_0)

  Modified files:
    include              c_init.h client.h service.h 
    src                  c_message.c c_mode.c channel.c conf.c 
                         rserv.c s_alis.c service.c 
  Log:
  - implemented service flood protection for ALIS.  allow upto 40 points,
    "help" = 1, "help list" = 2, "list" = 3, 5 points removed per second
  - added some comments to c_mode.c/channel.c
  - check service name doesnt contain a '.'
  - ALIS cleanups:
    - added a struct query to hold the query variables
    - made printing a channel its own function
    - made parsing the options its own function
  
  Revision  Changes    Path
  1.5       +1 -1      rserv/include/c_init.h
  1.6       +2 -0      rserv/include/client.h
  1.3       +2 -1      rserv/include/service.h
  1.3       +1 -1      rserv/src/c_message.c
  1.5       +12 -0     rserv/src/c_mode.c
  1.7       +81 -1     rserv/src/channel.c
  1.5       +6 -0      rserv/src/conf.c
  1.6       +4 -2      rserv/src/rserv.c
  1.7       +239 -201  rserv/src/s_alis.c
  1.3       +28 -5     rserv/src/service.c



leeh        2003/12/13 11:13:10 EST	(20031213_0)

  Modified files:
    .                    configure 
    autoconf             configure.in 
    include              client.h config.h rserv.h service.h 
                         setup.h.in 
    src                  c_mode.c channel.c client.c conf.c io.c 
                         rserv.c s_alis.c service.c 
  Log:
  - added -f [foreground] -v [version] -h [help] options to the daemon, with
    some getopt() stuff.
  - added setup_corefile()
  - added stuff for reading/writing pids to check we're not already running
  - move parse_server() rserv.c -> io.c, and clean up io.c
  - remove some debugging log stuff
  - added conf options to define a service's nick/user/host/gecos/opered
    status
  
  Revision  Changes    Path
  1.2       +1 -1      rserv/autoconf/configure.in
  1.2       +1 -1      rserv/configure
  1.5       +3 -0      rserv/include/client.h
  1.3       +6 -2      rserv/include/config.h
  1.3       +1 -3      rserv/include/rserv.h
  1.2       +4 -0      rserv/include/service.h
  1.2       +3 -0      rserv/include/setup.h.in
  1.4       +0 -50     rserv/src/c_mode.c
  1.6       +0 -6      rserv/src/channel.c
  1.4       +3 -8      rserv/src/client.c
  1.4       +68 -1     rserv/src/conf.c
  1.5       +216 -56   rserv/src/io.c
  1.5       +110 -115  rserv/src/rserv.c
  1.6       +1 -1      rserv/src/s_alis.c
  1.2       +21 -2     rserv/src/service.c



leeh        2003/12/12 17:44:45 EST	(20031212_1)

  Modified files:
    include              conf.h stdinc.h tools.h 
    src                  conf.c io.c 
  Added files:
    .                    Makefile.in configure 
    autoconf             configure.in install-sh 
    include              setup.h.in 
    src                  Makefile.in 
  Removed files:
    src                  Makefile 
  Log:
  - added autoconf stuff
  - made includes and functions use configure output
  - added support for vhosting
  
  Revision  Changes    Path
  1.1       +45 -0     rserv/Makefile.in (new)
  1.1       +27 -0     rserv/autoconf/configure.in (new)
  1.1       +253 -0    rserv/autoconf/install-sh (new)
  1.1       +1752 -0   rserv/configure (new)
  1.3       +2 -0      rserv/include/conf.h
  1.1       +43 -0     rserv/include/setup.h.in (new)
  1.3       +25 -1     rserv/include/stdinc.h
  1.3       +2 -0      rserv/include/tools.h
  1.3       +0 -60     rserv/src/Makefile (dead)
  1.1       +51 -0     rserv/src/Makefile.in (new)
  1.3       +13 -5     rserv/src/conf.c
  1.4       +5 -1      rserv/src/io.c



leeh        2003/12/12 17:38:44 EST	(20031212_0)

  rserv/autoconf - New directory



leeh        2003/12/11 10:05:56 EST	(20031211_2)

  Modified files:
    src                  command.c rserv.c s_alis.c 
  Log:
  - implemented ALIS -skip to skip first n matches
  - implemented ALIS -topic to search for topics
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/src/command.c
  1.4       +1 -2      rserv/src/rserv.c
  1.5       +69 -3     rserv/src/s_alis.c



leeh        2003/12/11 09:13:46 EST	(20031211_1)

  Modified files:
    src                  channel.c io.c s_alis.c 
  Log:
  - implemented support for topic bursting
  - implemented -show [m][t] into ALIS
  
  Revision  Changes    Path
  1.5       +32 -0     rserv/src/channel.c
  1.3       +1 -1      rserv/src/io.c
  1.4       +52 -3     rserv/src/s_alis.c



leeh        2003/12/11 05:50:57 EST	(20031211_0)

  Modified files:
    include              channel.h client.h 
    src                  channel.c s_alis.c 
  Log:
  - added support for parsing TOPIC
  - added some error messages to alis..
  
  Revision  Changes    Path
  1.3       +4 -0      rserv/include/channel.h
  1.4       +2 -0      rserv/include/client.h
  1.4       +32 -0     rserv/src/channel.c
  1.3       +63 -3     rserv/src/s_alis.c



leeh        2003/12/10 10:31:27 EST	(20031210_0)

  Modified files:
    include              c_init.h 
    src                  c_message.c channel.c rserv.c s_alis.c 
  Log:
  - disable notice for now
  - more work on alis..
  
  Revision  Changes    Path
  1.4       +1 -1      rserv/include/c_init.h
  1.2       +1 -1      rserv/src/c_message.c
  1.3       +1 -0      rserv/src/channel.c
  1.3       +1 -1      rserv/src/rserv.c
  1.2       +281 -1    rserv/src/s_alis.c



leeh        2003/12/08 19:23:57 EST	(20031209_0)

  Modified files:
    include              c_init.h client.h 
    src                  Makefile c_mode.c client.c command.c io.c 
                         rserv.c 
  Added files:
    include              service.h 
    src                  c_message.c s_alis.c service.c 
  Log:
  - finished off the service handlers
  - added support for PRIVMSG/NOTICE, and tied it into service handlers
  - added framework for the alis service
  
  Revision  Changes    Path
  1.3       +7 -0      rserv/include/c_init.h
  1.3       +2 -1      rserv/include/client.h
  1.1       +22 -0     rserv/include/service.h (new)
  1.2       +4 -0      rserv/src/Makefile
  1.1       +55 -0     rserv/src/c_message.c (new)
  1.3       +1 -1      rserv/src/c_mode.c
  1.3       +14 -3     rserv/src/client.c
  1.3       +1 -1      rserv/src/command.c
  1.2       +3 -0      rserv/src/io.c
  1.2       +6 -0      rserv/src/rserv.c
  1.1       +24 -0     rserv/src/s_alis.c (new)
  1.1       +81 -0     rserv/src/service.c (new)



leeh        2003/12/08 18:02:02 EST	(20031208_3)

  Modified files:
    include              c_init.h channel.h client.h config.h 
                         event.h io.h log.h rserv.h stdinc.h 
                         tools.h 
    src                  c_mode.c channel.c client.c 
  Log:
  - added Id headers to include files
  - split channel modes into its own struct
  - parse a keyed sjoin properly
  - get_chmember() -> find_chmember()
  - added initial services storage
  - support for MODE on channels
  - support for KICK
  
  Revision  Changes    Path
  1.2       +1 -0      rserv/include/c_init.h
  1.2       +13 -5     rserv/include/channel.h
  1.2       +10 -0     rserv/include/client.h
  1.2       +1 -0      rserv/include/config.h
  1.2       +1 -0      rserv/include/event.h
  1.2       +1 -0      rserv/include/io.h
  1.2       +1 -0      rserv/include/log.h
  1.2       +6 -0      rserv/include/rserv.h
  1.2       +1 -0      rserv/include/stdinc.h
  1.2       +1 -0      rserv/include/tools.h
  1.2       +189 -0    rserv/src/c_mode.c
  1.2       +121 -59   rserv/src/channel.c
  1.2       +71 -8     rserv/src/client.c



leeh        2003/12/07 22:04:14 EST	(20031208_2)

  Added files:
    src                  .cvsignore 
  Log:
  - add a .cvsignore to hide stuff that should be there..
  
  Revision  Changes    Path
  1.1       +4 -0      rserv/src/.cvsignore (new)



leeh        2003/12/07 21:52:49 EST	(20031208_1)

  Modified files:
    include              conf.h 
    src                  command.c conf.c 
  Log:
  - added support for trace
  - added A:<admin1>:<admin2>:<admin3> to conf file parser
  - added support for admin
  
  Revision  Changes    Path
  1.2       +5 -0      rserv/include/conf.h
  1.2       +46 -3     rserv/src/command.c
  1.2       +21 -4     rserv/src/conf.c



leeh        2003/12/07 21:19:27 EST	(20031208_0)

  Added files:
    include              serno.h 
  Log:
  - add serno.h..
  
  Revision  Changes    Path
  1.1       +1 -0      rserv/include/serno.h (new)



leeh        2003/12/07 21:09:02 EST

  Added files:
    .                    ChangeLog 
  Log:
  - changelog test
  
  Revision  Changes    Path
  1.1       +0 -0      rserv/ChangeLog (new)



